!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.AliLowCodeEngine=n():t.AliLowCodeEngine=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=137)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return m}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function c(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function u(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):o(e.value).then(a,c)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e],o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var p=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||p(t,e,n)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}function m(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function O(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{u(r[e](t))}catch(e){f(i[0][3],e)}}function u(e){e.value instanceof g?Promise.resolve(e.value.v).then(s,l):f(i[0][2],e)}function s(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}}function j(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=h(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){o(r,i,(n=e[t](n)).done,n.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&p(t,e,n);return _(t,e),t}function E(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function C(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}},function(e,t,n){"use strict";var r=n(27);n.d(t,"createIntl",(function(){return r.a})),n.d(t,"globalLocale",(function(){return r.b})),n.d(t,"intl",(function(){return r.c})),n.d(t,"shallowIntl",(function(){return r.d}));var o=n(53);n.d(t,"Editor",(function(){return o.a}));var i=n(33);n.d(t,"action",(function(){return i.a})),n.d(t,"autorun",(function(){return i.b})),n.d(t,"computed",(function(){return i.c})),n.d(t,"focusTracker",(function(){return i.d})),n.d(t,"getPublicPath",(function(){return i.e})),n.d(t,"makeObservable",(function(){return i.f})),n.d(t,"mobx",(function(){return i.g})),n.d(t,"observable",(function(){return i.h})),n.d(t,"observer",(function(){return i.i})),n.d(t,"obx",(function(){return i.j})),n.d(t,"reaction",(function(){return i.k})),n.d(t,"runInAction",(function(){return i.l})),n.d(t,"runWithGlobalEventOff",(function(){return i.m})),n.d(t,"untracked",(function(){return i.n})),n.d(t,"wrapWithEventSwitch",(function(){return i.o}));var a=n(55);n.o(a,"Tip")&&n.d(t,"Tip",(function(){return a.Tip})),n.o(a,"TipContainer")&&n.d(t,"TipContainer",(function(){return a.TipContainer})),n.o(a,"Title")&&n.d(t,"Title",(function(){return a.Title})),n.o(a,"createSetterContent")&&n.d(t,"createSetterContent",(function(){return a.createSetterContent})),n.o(a,"engineConfig")&&n.d(t,"engineConfig",(function(){return a.engineConfig})),n.o(a,"getSetter")&&n.d(t,"getSetter",(function(){return a.getSetter})),n.o(a,"getSettersMap")&&n.d(t,"getSettersMap",(function(){return a.getSettersMap})),n.o(a,"globalContext")&&n.d(t,"globalContext",(function(){return a.globalContext})),n.o(a,"hotkey")&&n.d(t,"hotkey",(function(){return a.hotkey})),n.o(a,"registerSetter")&&n.d(t,"registerSetter",(function(){return a.registerSetter}));var c=n(106);n.d(t,"hotkey",(function(){return c.a}));var u=n(119);n.d(t,"Tip",(function(){return u.a})),n.d(t,"TipContainer",(function(){return u.b})),n.d(t,"Title",(function(){return u.c}));var s=n(54);n.d(t,"engineConfig",(function(){return s.a}))},function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"d",(function(){return i.AssetType})),n.d(t,"b",(function(){return i.AssetLevels})),n.d(t,"a",(function(){return i.AssetLevel})),n.d(t,"u",(function(){return _})),n.d(t,"t",(function(){return S})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return P})),n.d(t,"B",(function(){return C})),n.d(t,"c",(function(){return R})),n.d(t,"i",(function(){return F})),n.d(t,"l",(function(){return ce})),n.d(t,"m",(function(){return ve})),n.d(t,"n",(function(){return _e})),n.d(t,"s",(function(){return Pe})),n.d(t,"v",(function(){return a})),n.d(t,"w",(function(){return Ce})),n.d(t,"x",(function(){return Te})),n.d(t,"y",(function(){return I})),n.d(t,"z",(function(){return ie})),n.d(t,"C",(function(){return Re})),n.d(t,"D",(function(){return De})),n.d(t,"e",(function(){return $e})),n.d(t,"F",(function(){return He})),n.d(t,"j",(function(){return Nt})),n.d(t,"o",(function(){return Rt})),n.d(t,"A",(function(){return Mt})),n.d(t,"k",(function(){return Xt})),n.d(t,"r",(function(){return Kt})),n.d(t,"p",(function(){return Qt})),n.d(t,"h",(function(){return Zt})),n.d(t,"q",(function(){return tn})),n.d(t,"E",(function(){return kn}));var r=n(7),o=n.n(r),i=n(4);function a(e){return/\.css(\?.*)?$/.test(e)}function c(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=function(){return t},e}function u(e){var t=document.createElement("script");t.text=e,document.head.appendChild(t),document.head.removeChild(t)}function s(e){var t=document.createElement("script");t.onload=r,t.onerror=r;var n=c();function r(e){t.onload=null,t.onerror=null,"load"===e.type?n.resolve():n.reject()}return t.src=e,t.async=!1,document.head.appendChild(t),n.promise()}function l(e){var t;return new Function(e)()}function f(e,t){try{return new Function(e,t)}catch(e){return console.warn("Caught error, Cant init func"),null}}function p(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,c,"next",e)}function c(e){p(i,r,o,a,c,"throw",e)}a(void 0)}))}}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){return w(e)||j(e)||O(e)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function j(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function w(e){if(Array.isArray(e))return k(e)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){return e&&e.type}function S(e){return e&&e.type===i.AssetType.Bundle}function E(e,t){return e?{type:i.AssetType.Bundle,assets:e,level:t}:null}function P(e,t,n,r){return t?{type:e,content:t,level:n,id:r}:null}function C(e,t){return t.packages&&(e.packages=[].concat(m(e.packages||[]),m(t.packages))),t.components&&(e.components=[].concat(m(e.components),m(t.components))),T(e,t,"componentList"),T(e,t,"bizComponentList"),e}function T(e,t,n){var r;t[n]&&(e[n]&&(null===(r=t[n])||void 0===r||r.map((function(t){var r,o,i=!1;return null===(r=e[n])||void 0===r||r.map((function(e){return e.title===t.title&&(e.children=e.children.concat(t.children),i=!0),e})),!i&&(null===(o=e[n])||void 0===o||o.push(t)),t}))))}var x=function(){function e(t,n){var r;if(v(this,e),this.lastContent=void 0,this.lastUrl=void 0,this.placeholder=void 0,this.level=void 0,this.id=void 0,this.level=t,n&&(this.id=n),n&&(r=document.head.querySelector('style[data-id="'.concat(n,'"]'))),!r){r=document.createTextNode("");var o=document.head.querySelector('meta[level="'.concat(t,'"]'));o?document.head.insertBefore(r,o):document.head.appendChild(r)}this.placeholder=r}return b(e,[{key:"applyText",value:function e(t){if(this.lastContent!==t){this.lastContent=t,this.lastUrl=void 0;var n=document.createElement("style");n.setAttribute("type","text/css"),this.id&&n.setAttribute("data-id",this.id),n.appendChild(document.createTextNode(t)),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n}}},{key:"applyUrl",value:function e(t){if(this.lastUrl!==t){this.lastContent=void 0,this.lastUrl=t;var n=document.createElement("link");n.onload=o,n.onerror=o;var r=c();return n.href=t,n.rel="stylesheet",this.id&&n.setAttribute("data-id",this.id),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n,r.promise()}function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}}}]),e}();function N(e,t,n,r){var o=h(n),i;try{for(o.s();!(i=o.n()).done;){var a;A(e,t,i.value,r)}}catch(e){o.e(e)}finally{o.f()}}function A(e,t,n,r){if(n){if(Array.isArray(n))return N(e,t,n,r);if(S(n))return n.assets?void(Array.isArray(n.assets)?N(e,t,n.assets,n.level||r):A(e,t,n.assets,n.level||r)):void 0;_(n)||(n=P(a(n)?i.AssetType.CSSUrl:i.AssetType.JSUrl,n,r));var o=n.level||r;o&&null!=i.AssetLevel[o]||(o=i.AssetLevel.App),n.level=o,n.type===i.AssetType.CSSUrl||n.type==i.AssetType.CSSText?t[o].push(n):e[o].push(n)}}var R=function(){function e(){v(this,e),this.stylePoints=new Map}return b(e,[{key:"load",value:function(){var e=d(o.a.mark((function e(t){var n=this,r,a,c,u;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return r={},a={},i.AssetLevels.forEach((function(e){r[e]=[],a[e]=[]})),A(a,r,t),c=r[i.AssetLevel.Environment].concat(r[i.AssetLevel.Library],r[i.AssetLevel.Theme],r[i.AssetLevel.Runtime],r[i.AssetLevel.App]),u=a[i.AssetLevel.Environment].concat(a[i.AssetLevel.Library],a[i.AssetLevel.Theme],a[i.AssetLevel.Runtime],a[i.AssetLevel.App]),o.next=8,Promise.all(c.map((function(e){var t=e.content,r=e.level,o=e.type,a=e.id;return n.loadStyle(t,r,o===i.AssetType.CSSUrl,a)})));case 8:return o.next=10,Promise.all(u.map((function(e){var t=e.content,r=e.type;return n.loadScript(t,r===i.AssetType.JSUrl)})));case 10:case"end":return o.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadStyle",value:function e(t,n,r,o){var i;if(t)return o?(i=this.stylePoints.get(o))||(i=new x(n,o),this.stylePoints.set(o,i)):i=new x(n),r?i.applyUrl(t):i.applyText(t)}},{key:"loadScript",value:function e(t,n){if(t)return n?s(t):u(t)}},{key:"loadAsyncLibrary",value:function(){var e=d(o.a.mark((function e(t){var n,r,i,a;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:for(a in n=[],r=[],i=[],t)t[a].async&&(n.push(window[t[a].library]),r.push(t[a].library),i.push(t[a]));return o.next=6,Promise.all(n).then((function(e){e.length>0&&e.map((function(e,t){var n=i[t],o=n.exportMode,a=n.exportSourceLibrary,c=n.library;return window[r[t]]="functionCall"!==o||null!=a&&a!==c?e:e(),e}))}));case 6:case"end":return o.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){return null!==e&&"object"===M(e)}function D(e){return L(e)&&"i18n"===e.type}function I(e){if(!L(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){var t=V(e),n;if(null==e)n=e;else if(Array.isArray(e))n=e.map((function(e){return F(e)}));else if("object"===t&&I(e))for(var r in n={},e)e.hasOwnProperty(r)&&(n[r]=F(e[r]));else n=e;return n}var B=n(2),U=["$$typeof","render","defaultProps","props","length","prototype","name","caller","callee","arguments"];function G(e,t){var n;return Object.keys(t).filter((function(e){return!U.includes(e)})).forEach((function(n){e[n]=t[n]})),e}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function K(e){var t=Q();return function n(){var r=Z(e),o;if(t){var i=Z(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return q(this,o)}}function q(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ee,te="function"==typeof Symbol&&Symbol.for?Symbol.for("react.forward_ref"):60112;function ne(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof B.Component)}function re(e){var t;return(null==e||null===(t=e.prototype)||void 0===t?void 0:t.isReactComponent)||e.$$typeof&&e.$$typeof===te}function oe(e){return(null==e?void 0:e.$$typeof)&&(null==e?void 0:e.$$typeof)===te}function ie(e){return e&&(ne(e)||"function"==typeof e||oe(e))}function ae(e){var t=function(t){H(r,t);var n=K(r);function r(){return J(this,r),n.apply(this,arguments)}return W(r,[{key:"render",value:function t(){return Object(B.createElement)(e,this.props)}}]),r}(B.Component);return(t=G(t,e)).displayName=e.displayName,t}function ce(e,t){return Object(B.isValidElement)(e)?t?Object(B.cloneElement)(e,t):e:ie(e)?Object(B.createElement)(e,t):e}var ue=n(11);function se(e){return e&&e.__esModule}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var he=/^(https?:)\/\//i;function ve(e,t){return e?(se(e)&&(e=e.default),"string"==typeof e?he.test(e)?React.createElement("img",de({src:e},t)):React.createElement(ue.Icon,de({type:e},t)):Object(B.isValidElement)(e)?Object(B.cloneElement)(e,fe({},t)):ie(e)?Object(B.createElement)(e,fe({},t)):React.createElement(ue.Icon,de({},e,t))):null}var ye=n(152);function be(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=me(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function me(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ke,_e=new(function(){function e(){Oe(this,e),this.states=new Set}return we(e,[{key:"setDragging",value:function e(t){t?this.addState("dragging"):this.removeState("dragging")}},{key:"setXResizing",value:function e(t){t?this.addState("x-resizing"):this.removeState("x-resizing")}},{key:"setYResizing",value:function e(t){t?this.addState("y-resizing"):this.removeState("y-resizing")}},{key:"setCopy",value:function e(t){t?this.addState("copy"):this.removeState("copy")}},{key:"isCopy",value:function e(){return this.states.has("copy")}},{key:"release",value:function e(){var t=be(this.states),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;this.removeState(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"addState",value:function e(t){this.states.has(t)||(this.states.add(t),document.documentElement.classList.add("lc-cursor-".concat(t)))}},{key:"removeState",value:function e(t){this.states.has(t)&&(this.states.delete(t),document.documentElement.classList.remove("lc-cursor-".concat(t)))}}]),e}());function Se(e){return void 0!==Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__}var Ee=Object.prototype.hasOwnProperty;function Pe(e,t){return e&&Ee.call(e,t)}function Ce(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function Te(e){var t=e.target;return!!t&&(!(!t.form&&!/^(INPUT|SELECT|TEXTAREA)$/.test(t.tagName))||!!(t instanceof HTMLElement&&/write/.test(window.getComputedStyle(t).getPropertyValue("-webkit-user-modify"))))}function xe(e){return"function"==typeof e}var Ne=!0,Ae=function e(t){return Ne?null:(t.preventDefault(),t.stopPropagation(),!1)};function Re(e){Ne=e}function Me(e,t){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(e===t)return!0;if("object"!==Le(e)||null===e||"object"!==Le(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Pe(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}document.addEventListener("selectstart",Ae,!0),document.addEventListener("dragstart",Ae,!0);var Ie=["fill","size","viewBox","style","children"];function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){if(null==e)return{};var n=ze(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ze(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var Je={xsmall:8,small:12,medium:16,large:20,xlarge:30};function $e(e){var t=e.fill,n=e.size,r=void 0===n?"medium":n,o=e.viewBox,i=e.style,a=e.children,c=Ge(e,Ie);return Je.hasOwnProperty(r)&&(r=Je[r]),React.createElement("svg",Ve({fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:r,height:r,viewBox:o},c,{style:Be({color:t},i)}),a)}var We=Date.now();function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat((We++).toString(36).toLowerCase())}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e){return"string"!=typeof e?e:window[e]||Qe(e)}function Qe(e){if(["a","img","div","span","svg"].includes(e))return Object(B.forwardRef)((function(t,n){return Object(B.createElement)(e,Ke({ref:n},t),t.children)}))}function Ze(e,t){var n=t.length;if(n<1||!e)return e;for(var r=0,o;r<n;){var i=t[r],a=void 0;try{o=e[i]}catch(e){a=e,o=null}if(0===r&&null==o&&"default"===i){if(a)return 1===n?e:null;o=e}else if(null==o)return null;e=o,r++}return o}function et(e,t,n){if(!n)return Ye(t);var r=n.exportName||n.componentName||t,o,i=Ye(e[n.package]||r),a=n.exportName&&n.subName?n.subName.split("."):[];return n.destructuring?a.unshift(r):se(i)&&a.unshift("default"),Ze(i,a)}function tt(e){return!!L(e)&&Object.keys(e).some((function(t){return ie(e[t])}))}function nt(e,t,n){var r={};return Object.keys(t).forEach((function(o){var i=t[o];i&&"Component"===i.componentName?r[o]=n(i):ie(i)?(re(i)||(i=ae(i)),r[o]=i):tt(i)?r[o]=i:(i=et(e,o,i))&&(re(i)||(i=ae(i)),r[o]=i)})),r}function rt(e,t){var n={};return t&&t.forEach((function(t){var r;if(e[null==t||null===(r=t.npm)||void 0===r?void 0:r.package]){var o=Ye(e[null==t?void 0:t.npm.package]);null!=o&&o.destructuring?Object.keys(o).forEach((function(e){"destructuring"!==e&&(n[e]=o[e])})):t.name&&(n[t.name]=o)}})),n}var ot=n(9),it=n.n(ot);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}function ft(e,t){return(ft=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function pt(e){var t=vt();return function n(){var r=yt(e),o;if(t){var i=yt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return dt(this,o)}}function dt(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ht(e)}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var bt=null;it.a.defaultMaxListeners=100;var mt=function(e){lt(n,e);var t=pt(n);function n(e){var r;return ct(this,n),r=t.call(this),bt=ht(r),Object.assign(ht(r),e),r}return st(n,[{key:"get",value:function e(t){return this[t]}},{key:"set",value:function e(t,n){var r=this;"string"==typeof t?this[t]=n:"object"===at(t)&&Object.keys(t).forEach((function(e){r[e]=t[e]}))}},{key:"batchOn",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.on(e,n)}))}},{key:"batchOnce",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.once(e,n)}))}},{key:"batchOff",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.off(e,n)}))}}]),n}(it.a);mt.getInstance=function(){return bt||(bt=new mt),bt};var gt=n(20);function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e){return e&&"variable"===e.type}function wt(e,t){var n,r=null==e||null===(n=e.options)||void 0===n?void 0:n.configure;return!!Array.isArray(r)&&r.some((function(e){var n,r;return e.name===t&&"I18nSetter"===(null==e||null===(n=e.setter)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.displayName)}))}function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh_CN";return D(e)?e:Ot({type:"i18n",use:t},t,e)}function _t(e){return"string"==typeof e}function St(e,t){var n=200;return new Promise((function(n,r){setTimeout((function(){var o=Object(gt.get)(e,t);if(o)return n(o);r()}),200)})).catch((function(){return St(e,t)}))}function Et(e,t){var n=Object(gt.get)(e,t);return n?Promise.resolve(n):St(e,t)}function Pt(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&e.every((function(e){return t.includes(e)})))}function Ct(e){var t;return!(null==e||null===(t=e.getMetadata().configure)||void 0===t||!t.advanced)}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return setTimeout(e,t)}var xt=["render","serilize","save","clone","init","upgrade"];function Nt(e){return"number"==typeof e?(console.warn("stage \u76f4\u63a5\u6307\u5b9a\u4e3a\u6570\u5b57\u7684\u4f7f\u7528\u65b9\u5f0f\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5c06\u5728\u4e0b\u4e00\u7248\u672c\u79fb\u9664\uff0c\u8bf7\u76f4\u63a5\u4f7f\u7528 TransformStage.Render|Serilize|Save|Clone|Init|Upgrade"),xt[e-1]):e}function At(e,t,n){if(!e)throw new Error("Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function Rt(e,t,n){e&&console.warn("Deprecation: ".concat(t)+(n?", use ".concat(n," instead."):""))}function Mt(e){return e&&e.test&&e.exec&&e.compile}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){return Ut(e)||Bt(e,t)||zt(e,t)||Ft()}function Ft(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bt(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[],o=!0,i=!1,a,c;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){i=!0,c=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw c}}return r}}function Ut(e){if(Array.isArray(e))return e}function Gt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function zt(e,t){if(e){if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(e,t):void 0}}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e){if("object"===$t(e)&&null!==e)return e.type&&e.source&&e.compiled}function Ht(e){return e.type&&"actionRef"===e.type}function Xt(e){if(!e)return e;if(Array.isArray(e))return e.map((function(e){return Xt(e)}));if(!I(e))return e;var t,n,r;if(Object(i.isJSBlock)(e))return"Slot"===e.value.componentName?{type:"JSSlot",title:null===(t=e.value.props)||void 0===t?void 0:t.slotTitle,name:null===(n=e.value.props)||void 0===n?void 0:n.slotName,value:Xt(e.value.children),params:null===(r=e.value.props)||void 0===r?void 0:r.slotParams}:e.value;if(jt(e))return{type:"JSExpression",value:e.variable,mock:e.value};if(Wt(e))return{type:"JSExpression",value:e.compiled,extType:"function"};if(Ht(e))return{type:"JSExpression",value:"".concat(e.id,".bind(this)")};var o={};return Object.keys(e).forEach((function(t){/^__slot__/.test(t)&&!0===e[t]||(o[t]=Xt(e[t]))})),o}function Kt(e,t){var n;if(e.id===t)return e;var r=e.children,o=e.props;if(Array.isArray(r)){var i=Gt(r),a;try{for(i.s();!(a=i.n()).done;){var c;if(n=Kt(a.value,t))return n}}catch(e){i.e(e)}finally{i.f()}}return I(o)&&(n=qt(o,t))?n:void 0}function qt(e,t){for(var n,r=0,o=Object.entries(e);r<o.length;r++){var a=Vt(o[r],2),c=a[0],u=a[1];if(Object(i.isJSSlot)(u)){if(Array.isArray(u.value)){var s=Gt(u.value),l;try{for(s.s();!(l=s.n()).done;){var f;if(n=Kt(l.value,t))return n}}catch(e){s.e(e)}finally{s.f()}}if(n=Kt(u.value,t))return n}else if(I(u)&&(n=qt(u,t)))return n}}function Yt(e,t,n){var r=Dt({},e);return Array.isArray(t)||(t=[t]),t.reduce((function(e,t){if(t.type===i.ActivityType.MODIFIED){var n=Kt(e,t.payload.schema.id);if(!n)return e;Object.assign(n,t.payload.schema)}else if(t.type===i.ActivityType.ADDED){var r=t.payload,o=r.location,a=r.schema,c=o.parent,u=Kt(e,c.nodeId);u&&(Array.isArray(u.children)?u.children.splice(c.index,0,a):u.children||(u.children=[a]))}else if(t.type===i.ActivityType.DELETED){var s,l,f=t.payload.location.parent,p=Kt(e,f.nodeId);p&&Array.isArray(p.children)&&p.children.splice(f.index,1)}return e}),r)}var Qt=function e(t,n){if(t)return n(t)?t:e(t.getParent(),n)},Zt=function e(t,n){var r,o,i,a,c=null===(r=t.componentMeta)||void 0===r||null===(o=r.getMetadata().configure)||void 0===o||null===(i=o.advanced)||void 0===i||null===(a=i.callbacks)||void 0===a?void 0:a.onClickHook,u;return"function"!=typeof c||c(n,t)},en=n(38);function tn(e){return new en.a(e)}var nn=["hover","focus","active","visited"],rn=/[A-Z]/g,on=/[-\s]+(.)?/g,an=/:root(.*)\{.*/i,cn=/([^:]*):\s?(.*)/i;function un(e){var t=0,n=0,r=[];return e.split("").forEach((function(o,i){"{"===o&&t++,"}"===o&&(1===t&&(r.push(e.substring(n,i+1)),n=i+1),t--)})),r}function sn(e){return"[object String]"==={}.toString.call(e)}function ln(e){return e.replace(rn,(function(e){return"-".concat(e)})).toLowerCase()}function fn(e){return e.replace(on,(function(e,t){return t?t.toUpperCase():""}))}function pn(e){var t=[];return Object.keys(e).forEach((function(n){t.push("  ".concat(n,": ").concat(e[n],";"))})),t.join("\n")}function dn(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?dn(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[fn(t)]=e[t]})),n}function hn(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?hn(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[ln(t)]=e[t]})),n}function vn(e){if(!e)return":root {\n\n}";if(e.default){var t=[];return Object.keys(e).forEach((function(n){if("extra"!==n){var r=nn.indexOf(n)>-1?":":"";t.push(":root".concat("default"===n?"":"".concat(r).concat(n)," {\n").concat(pn(hn(e[n])),"\n}\n"))}else Array.isArray(e.extra)&&t.push(e.extra.join("\n"))})),t.join("\n")}return":root {\n".concat(pn(hn(e)),"\n}\n")}function yn(e){if(!e)return{};var t={},n;return un(e).forEach((function(e){if(e.startsWith(":root")){var n=/:root:?(.*)?{(.*)/gi.exec(e.replace(/[\r\n]+/gi,"").trim());if(n){var r;n[1]&&n[1].trim()&&Object(gt.some)(nn,(function(e){return 0===n[1].indexOf(e)}))?r=n[1].trim():n[1]&&n[1].trim()&&(r=n[1]);var o={};n[2].split(";").reduce((function(e,t){return t.indexOf("base64")>-1?e[e.length-1]+=";".concat(t):e.push(t),e}),[]).forEach((function(e){if(e&&cn.test(e)){var t=e.match(cn),n=t[1],r=t[2];n&&r&&(o[n.trim()]=r.trim())}})),r||(r="default"),t[r]=o}}else t.extra=t.extra||[],t.extra.push(e.trim())})),t}function bn(e){try{return sn(e)?dn(yn(e).default):e.default?dn(hn(e.default)):dn(hn(e))}catch(e){}return{}}var mn=n(10);function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t,n){return t&&gn(e.prototype,t),n&&gn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var wn,kn=new(On((function e(){var t=this;jn(this,e),this.emitter=new it.a,this.executeTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.TransitionType.REPAINT;t.emitter.emit("[".concat(n,"]startTransaction")),Object(mn.runInAction)(e),t.emitter.emit("[".concat(n,"]endTransaction"))},this.onStartTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.TransitionType.REPAINT;return t.emitter.on("[".concat(n,"]startTransaction"),e),function(){t.emitter.off("[".concat(n,"]startTransaction"),e)}},this.onEndTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.TransitionType.REPAINT;return t.emitter.on("[".concat(n,"]endTransaction"),e),function(){t.emitter.off("[".concat(n,"]endTransaction"),e)}}})))},function(e,t,n){"use strict";var r=n(74);n.o(r,"ActivityType")&&n.d(t,"ActivityType",(function(){return r.ActivityType})),n.o(r,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return r.AssetLevel})),n.o(r,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return r.AssetLevels})),n.o(r,"AssetType")&&n.d(t,"AssetType",(function(){return r.AssetType})),n.o(r,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return r.CompositeValue})),n.o(r,"JSSlot")&&n.d(t,"JSSlot",(function(){return r.JSSlot})),n.o(r,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return r.NodeStatus})),n.o(r,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return r.ProjectSchema})),n.o(r,"PropsMap")&&n.d(t,"PropsMap",(function(){return r.PropsMap})),n.o(r,"RootSchema")&&n.d(t,"RootSchema",(function(){return r.RootSchema})),n.o(r,"TitleContent")&&n.d(t,"TitleContent",(function(){return r.TitleContent})),n.o(r,"TransformStage")&&n.d(t,"TransformStage",(function(){return r.TransformStage})),n.o(r,"TransitionType")&&n.d(t,"TransitionType",(function(){return r.TransitionType})),n.o(r,"isActionContentObject")&&n.d(t,"isActionContentObject",(function(){return r.isActionContentObject})),n.o(r,"isCustomView")&&n.d(t,"isCustomView",(function(){return r.isCustomView})),n.o(r,"isDOMText")&&n.d(t,"isDOMText",(function(){return r.isDOMText})),n.o(r,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return r.isDynamicSetter})),n.o(r,"isI18nData")&&n.d(t,"isI18nData",(function(){return r.isI18nData})),n.o(r,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return r.isJSBlock})),n.o(r,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return r.isJSExpression})),n.o(r,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return r.isJSFunction})),n.o(r,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return r.isJSSlot})),n.o(r,"isLowCodeComponentType")&&n.d(t,"isLowCodeComponentType",(function(){return r.isLowCodeComponentType})),n.o(r,"isNodeSchema")&&n.d(t,"isNodeSchema",(function(){return r.isNodeSchema})),n.o(r,"isProCodeComponentType")&&n.d(t,"isProCodeComponentType",(function(){return r.isProCodeComponentType})),n.o(r,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return r.isSetterConfig})),n.o(r,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return r.isTitleConfig}));var o=n(79),i=n.n(o);n.o(o,"ActivityType")&&n.d(t,"ActivityType",(function(){return o.ActivityType})),n.o(o,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return o.AssetLevel})),n.o(o,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return o.AssetLevels})),n.o(o,"AssetType")&&n.d(t,"AssetType",(function(){return o.AssetType})),n.o(o,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return o.CompositeValue})),n.o(o,"JSSlot")&&n.d(t,"JSSlot",(function(){return o.JSSlot})),n.o(o,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return o.NodeStatus})),n.o(o,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return o.ProjectSchema})),n.o(o,"PropsMap")&&n.d(t,"PropsMap",(function(){return o.PropsMap})),n.o(o,"RootSchema")&&n.d(t,"RootSchema",(function(){return o.RootSchema})),n.o(o,"TitleContent")&&n.d(t,"TitleContent",(function(){return o.TitleContent})),n.o(o,"TransformStage")&&n.d(t,"TransformStage",(function(){return o.TransformStage})),n.o(o,"TransitionType")&&n.d(t,"TransitionType",(function(){return o.TransitionType})),n.o(o,"isActionContentObject")&&n.d(t,"isActionContentObject",(function(){return o.isActionContentObject})),n.o(o,"isCustomView")&&n.d(t,"isCustomView",(function(){return o.isCustomView})),n.o(o,"isDOMText")&&n.d(t,"isDOMText",(function(){return o.isDOMText})),n.o(o,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return o.isDynamicSetter})),n.o(o,"isI18nData")&&n.d(t,"isI18nData",(function(){return o.isI18nData})),n.o(o,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return o.isJSBlock})),n.o(o,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return o.isJSExpression})),n.o(o,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return o.isJSFunction})),n.o(o,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return o.isJSSlot})),n.o(o,"isLowCodeComponentType")&&n.d(t,"isLowCodeComponentType",(function(){return o.isLowCodeComponentType})),n.o(o,"isNodeSchema")&&n.d(t,"isNodeSchema",(function(){return o.isNodeSchema})),n.o(o,"isProCodeComponentType")&&n.d(t,"isProCodeComponentType",(function(){return o.isProCodeComponentType})),n.o(o,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return o.isSetterConfig})),n.o(o,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return o.isTitleConfig}));var a=n(80),c=n.n(a);n.o(a,"ActivityType")&&n.d(t,"ActivityType",(function(){return a.ActivityType})),n.o(a,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return a.AssetLevel})),n.o(a,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return a.AssetLevels})),n.o(a,"AssetType")&&n.d(t,"AssetType",(function(){return a.AssetType})),n.o(a,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return a.CompositeValue})),n.o(a,"JSSlot")&&n.d(t,"JSSlot",(function(){return a.JSSlot})),n.o(a,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return a.NodeStatus})),n.o(a,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return a.ProjectSchema})),n.o(a,"PropsMap")&&n.d(t,"PropsMap",(function(){return a.PropsMap})),n.o(a,"RootSchema")&&n.d(t,"RootSchema",(function(){return a.RootSchema})),n.o(a,"TitleContent")&&n.d(t,"TitleContent",(function(){return a.TitleContent})),n.o(a,"TransformStage")&&n.d(t,"TransformStage",(function(){return a.TransformStage})),n.o(a,"TransitionType")&&n.d(t,"TransitionType",(function(){return a.TransitionType})),n.o(a,"isActionContentObject")&&n.d(t,"isActionContentObject",(function(){return a.isActionContentObject})),n.o(a,"isCustomView")&&n.d(t,"isCustomView",(function(){return a.isCustomView})),n.o(a,"isDOMText")&&n.d(t,"isDOMText",(function(){return a.isDOMText})),n.o(a,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return a.isDynamicSetter})),n.o(a,"isI18nData")&&n.d(t,"isI18nData",(function(){return a.isI18nData})),n.o(a,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return a.isJSBlock})),n.o(a,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return a.isJSExpression})),n.o(a,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return a.isJSFunction})),n.o(a,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return a.isJSSlot})),n.o(a,"isLowCodeComponentType")&&n.d(t,"isLowCodeComponentType",(function(){return a.isLowCodeComponentType})),n.o(a,"isNodeSchema")&&n.d(t,"isNodeSchema",(function(){return a.isNodeSchema})),n.o(a,"isProCodeComponentType")&&n.d(t,"isProCodeComponentType",(function(){return a.isProCodeComponentType})),n.o(a,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return a.isSetterConfig})),n.o(a,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return a.isTitleConfig}));var u=n(51);n.d(t,"isI18nData",(function(){return u.a}));var s=n(81),l=n.n(s);n.o(s,"ActivityType")&&n.d(t,"ActivityType",(function(){return s.ActivityType})),n.o(s,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return s.AssetLevel})),n.o(s,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return s.AssetLevels})),n.o(s,"AssetType")&&n.d(t,"AssetType",(function(){return s.AssetType})),n.o(s,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return s.CompositeValue})),n.o(s,"JSSlot")&&n.d(t,"JSSlot",(function(){return s.JSSlot})),n.o(s,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return s.NodeStatus})),n.o(s,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return s.ProjectSchema})),n.o(s,"PropsMap")&&n.d(t,"PropsMap",(function(){return s.PropsMap})),n.o(s,"RootSchema")&&n.d(t,"RootSchema",(function(){return s.RootSchema})),n.o(s,"TitleContent")&&n.d(t,"TitleContent",(function(){return s.TitleContent})),n.o(s,"TransformStage")&&n.d(t,"TransformStage",(function(){return s.TransformStage})),n.o(s,"TransitionType")&&n.d(t,"TransitionType",(function(){return s.TransitionType})),n.o(s,"isActionContentObject")&&n.d(t,"isActionContentObject",(function(){return s.isActionContentObject})),n.o(s,"isCustomView")&&n.d(t,"isCustomView",(function(){return s.isCustomView})),n.o(s,"isDOMText")&&n.d(t,"isDOMText",(function(){return s.isDOMText})),n.o(s,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return s.isDynamicSetter})),n.o(s,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return s.isJSBlock})),n.o(s,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return s.isJSExpression})),n.o(s,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return s.isJSFunction})),n.o(s,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return s.isJSSlot})),n.o(s,"isLowCodeComponentType")&&n.d(t,"isLowCodeComponentType",(function(){return s.isLowCodeComponentType})),n.o(s,"isNodeSchema")&&n.d(t,"isNodeSchema",(function(){return s.isNodeSchema})),n.o(s,"isProCodeComponentType")&&n.d(t,"isProCodeComponentType",(function(){return s.isProCodeComponentType})),n.o(s,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return s.isSetterConfig})),n.o(s,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return s.isTitleConfig}));var f=n(82);n.d(t,"isActionContentObject",(function(){return f.a}));var p=n(83);n.d(t,"isLowCodeComponentType",(function(){return p.a})),n.d(t,"isProCodeComponentType",(function(){return p.b}));var d=n(84),h=n.n(d);n.o(d,"ActivityType")&&n.d(t,"ActivityType",(function(){return d.ActivityType})),n.o(d,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return d.AssetLevel})),n.o(d,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return d.AssetLevels})),n.o(d,"AssetType")&&n.d(t,"AssetType",(function(){return d.AssetType})),n.o(d,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return d.CompositeValue})),n.o(d,"JSSlot")&&n.d(t,"JSSlot",(function(){return d.JSSlot})),n.o(d,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return d.NodeStatus})),n.o(d,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return d.ProjectSchema})),n.o(d,"PropsMap")&&n.d(t,"PropsMap",(function(){return d.PropsMap})),n.o(d,"RootSchema")&&n.d(t,"RootSchema",(function(){return d.RootSchema})),n.o(d,"TitleContent")&&n.d(t,"TitleContent",(function(){return d.TitleContent})),n.o(d,"TransformStage")&&n.d(t,"TransformStage",(function(){return d.TransformStage})),n.o(d,"TransitionType")&&n.d(t,"TransitionType",(function(){return d.TransitionType})),n.o(d,"isCustomView")&&n.d(t,"isCustomView",(function(){return d.isCustomView})),n.o(d,"isDOMText")&&n.d(t,"isDOMText",(function(){return d.isDOMText})),n.o(d,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return d.isDynamicSetter})),n.o(d,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return d.isJSBlock})),n.o(d,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return d.isJSExpression})),n.o(d,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return d.isJSFunction})),n.o(d,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return d.isJSSlot})),n.o(d,"isNodeSchema")&&n.d(t,"isNodeSchema",(function(){return d.isNodeSchema})),n.o(d,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return d.isSetterConfig})),n.o(d,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return d.isTitleConfig}));var v=n(85);n.d(t,"isDOMText",(function(){return v.a})),n.d(t,"isNodeSchema",(function(){return v.b}));var y=n(86);n.d(t,"ActivityType",(function(){return y.a}));var b=n(87),m=n.n(b);n.o(b,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return b.AssetLevel})),n.o(b,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return b.AssetLevels})),n.o(b,"AssetType")&&n.d(t,"AssetType",(function(){return b.AssetType})),n.o(b,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return b.CompositeValue})),n.o(b,"JSSlot")&&n.d(t,"JSSlot",(function(){return b.JSSlot})),n.o(b,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return b.NodeStatus})),n.o(b,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return b.ProjectSchema})),n.o(b,"PropsMap")&&n.d(t,"PropsMap",(function(){return b.PropsMap})),n.o(b,"RootSchema")&&n.d(t,"RootSchema",(function(){return b.RootSchema})),n.o(b,"TitleContent")&&n.d(t,"TitleContent",(function(){return b.TitleContent})),n.o(b,"TransformStage")&&n.d(t,"TransformStage",(function(){return b.TransformStage})),n.o(b,"TransitionType")&&n.d(t,"TransitionType",(function(){return b.TransitionType})),n.o(b,"isCustomView")&&n.d(t,"isCustomView",(function(){return b.isCustomView})),n.o(b,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return b.isDynamicSetter})),n.o(b,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return b.isJSBlock})),n.o(b,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return b.isJSExpression})),n.o(b,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return b.isJSFunction})),n.o(b,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return b.isJSSlot})),n.o(b,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return b.isSetterConfig})),n.o(b,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return b.isTitleConfig}));var g=n(88);n.d(t,"isTitleConfig",(function(){return g.a}));var O=n(89),j=n.n(O);n.o(O,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return O.AssetLevel})),n.o(O,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return O.AssetLevels})),n.o(O,"AssetType")&&n.d(t,"AssetType",(function(){return O.AssetType})),n.o(O,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return O.CompositeValue})),n.o(O,"JSSlot")&&n.d(t,"JSSlot",(function(){return O.JSSlot})),n.o(O,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return O.NodeStatus})),n.o(O,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return O.ProjectSchema})),n.o(O,"PropsMap")&&n.d(t,"PropsMap",(function(){return O.PropsMap})),n.o(O,"RootSchema")&&n.d(t,"RootSchema",(function(){return O.RootSchema})),n.o(O,"TitleContent")&&n.d(t,"TitleContent",(function(){return O.TitleContent})),n.o(O,"TransformStage")&&n.d(t,"TransformStage",(function(){return O.TransformStage})),n.o(O,"TransitionType")&&n.d(t,"TransitionType",(function(){return O.TransitionType})),n.o(O,"isCustomView")&&n.d(t,"isCustomView",(function(){return O.isCustomView})),n.o(O,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return O.isDynamicSetter})),n.o(O,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return O.isJSBlock})),n.o(O,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return O.isJSExpression})),n.o(O,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return O.isJSFunction})),n.o(O,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return O.isJSSlot})),n.o(O,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return O.isSetterConfig}));var w=n(90);n.d(t,"isJSBlock",(function(){return w.a})),n.d(t,"isJSExpression",(function(){return w.b})),n.d(t,"isJSFunction",(function(){return w.c})),n.d(t,"isJSSlot",(function(){return w.d}));var k=n(91);n.d(t,"isCustomView",(function(){return k.a})),n.d(t,"isDynamicSetter",(function(){return k.b})),n.d(t,"isSetterConfig",(function(){return k.c}));var _=n(92),S=n.n(_);n.o(_,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return _.AssetLevel})),n.o(_,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return _.AssetLevels})),n.o(_,"AssetType")&&n.d(t,"AssetType",(function(){return _.AssetType})),n.o(_,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return _.CompositeValue})),n.o(_,"JSSlot")&&n.d(t,"JSSlot",(function(){return _.JSSlot})),n.o(_,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return _.NodeStatus})),n.o(_,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return _.ProjectSchema})),n.o(_,"PropsMap")&&n.d(t,"PropsMap",(function(){return _.PropsMap})),n.o(_,"RootSchema")&&n.d(t,"RootSchema",(function(){return _.RootSchema})),n.o(_,"TitleContent")&&n.d(t,"TitleContent",(function(){return _.TitleContent})),n.o(_,"TransformStage")&&n.d(t,"TransformStage",(function(){return _.TransformStage})),n.o(_,"TransitionType")&&n.d(t,"TransitionType",(function(){return _.TransitionType}));var E=n(93),P=n.n(E);n.o(E,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return E.AssetLevel})),n.o(E,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return E.AssetLevels})),n.o(E,"AssetType")&&n.d(t,"AssetType",(function(){return E.AssetType})),n.o(E,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return E.CompositeValue})),n.o(E,"JSSlot")&&n.d(t,"JSSlot",(function(){return E.JSSlot})),n.o(E,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return E.NodeStatus})),n.o(E,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return E.ProjectSchema})),n.o(E,"PropsMap")&&n.d(t,"PropsMap",(function(){return E.PropsMap})),n.o(E,"RootSchema")&&n.d(t,"RootSchema",(function(){return E.RootSchema})),n.o(E,"TitleContent")&&n.d(t,"TitleContent",(function(){return E.TitleContent})),n.o(E,"TransformStage")&&n.d(t,"TransformStage",(function(){return E.TransformStage})),n.o(E,"TransitionType")&&n.d(t,"TransitionType",(function(){return E.TransitionType}));var C=n(94);n.d(t,"TransformStage",(function(){return C.a}));var T=n(95),x=n.n(T);n.o(T,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return T.AssetLevel})),n.o(T,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return T.AssetLevels})),n.o(T,"AssetType")&&n.d(t,"AssetType",(function(){return T.AssetType})),n.o(T,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return T.CompositeValue})),n.o(T,"JSSlot")&&n.d(t,"JSSlot",(function(){return T.JSSlot})),n.o(T,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return T.NodeStatus})),n.o(T,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return T.ProjectSchema})),n.o(T,"PropsMap")&&n.d(t,"PropsMap",(function(){return T.PropsMap})),n.o(T,"RootSchema")&&n.d(t,"RootSchema",(function(){return T.RootSchema})),n.o(T,"TitleContent")&&n.d(t,"TitleContent",(function(){return T.TitleContent})),n.o(T,"TransitionType")&&n.d(t,"TransitionType",(function(){return T.TransitionType}));var N=n(96),A=n.n(N);n.o(N,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return N.AssetLevel})),n.o(N,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return N.AssetLevels})),n.o(N,"AssetType")&&n.d(t,"AssetType",(function(){return N.AssetType})),n.o(N,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return N.CompositeValue})),n.o(N,"JSSlot")&&n.d(t,"JSSlot",(function(){return N.JSSlot})),n.o(N,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return N.NodeStatus})),n.o(N,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return N.ProjectSchema})),n.o(N,"PropsMap")&&n.d(t,"PropsMap",(function(){return N.PropsMap})),n.o(N,"RootSchema")&&n.d(t,"RootSchema",(function(){return N.RootSchema})),n.o(N,"TitleContent")&&n.d(t,"TitleContent",(function(){return N.TitleContent})),n.o(N,"TransitionType")&&n.d(t,"TransitionType",(function(){return N.TransitionType}));var R=n(97);n.d(t,"AssetLevel",(function(){return R.a})),n.d(t,"AssetLevels",(function(){return R.b})),n.d(t,"AssetType",(function(){return R.c}));var M=n(120);n.d(t,"GlobalEvent",(function(){return M}));var L=n(98),D=n.n(L);n.o(L,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return L.CompositeValue})),n.o(L,"JSSlot")&&n.d(t,"JSSlot",(function(){return L.JSSlot})),n.o(L,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return L.NodeStatus})),n.o(L,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return L.ProjectSchema})),n.o(L,"PropsMap")&&n.d(t,"PropsMap",(function(){return L.PropsMap})),n.o(L,"RootSchema")&&n.d(t,"RootSchema",(function(){return L.RootSchema})),n.o(L,"TitleContent")&&n.d(t,"TitleContent",(function(){return L.TitleContent})),n.o(L,"TransitionType")&&n.d(t,"TransitionType",(function(){return L.TransitionType}));var I=n(99);n.d(t,"TransitionType",(function(){return I.a}))},function(e,t,n){"use strict";var r=n(28);n.d(t,"addBuiltinComponentAction",(function(){return r.b})),n.d(t,"getRegisteredMetadataTransducers",(function(){return r.c})),n.d(t,"isComponentMeta",(function(){return r.d})),n.d(t,"modifyBuiltinComponentAction",(function(){return r.e})),n.d(t,"registerMetadataTransducer",(function(){return r.f})),n.d(t,"removeBuiltinComponentAction",(function(){return r.g}));var o=n(25),i=n(13);n.o(i,"Designer")&&n.d(t,"Designer",(function(){return i.Designer})),n.o(i,"DesignerView")&&n.d(t,"DesignerView",(function(){return i.DesignerView})),n.o(i,"DragObjectType")&&n.d(t,"DragObjectType",(function(){return i.DragObjectType})),n.o(i,"LiveEditing")&&n.d(t,"LiveEditing",(function(){return i.LiveEditing})),n.o(i,"LocationDetailType")&&n.d(t,"LocationDetailType",(function(){return i.LocationDetailType})),n.o(i,"LowCodePluginManager")&&n.d(t,"LowCodePluginManager",(function(){return i.LowCodePluginManager})),n.o(i,"Node")&&n.d(t,"Node",(function(){return i.Node})),n.o(i,"ScrollTarget")&&n.d(t,"ScrollTarget",(function(){return i.ScrollTarget})),n.o(i,"SettingField")&&n.d(t,"SettingField",(function(){return i.SettingField})),n.o(i,"SettingTopEntry")&&n.d(t,"SettingTopEntry",(function(){return i.SettingTopEntry})),n.o(i,"TransformStage")&&n.d(t,"TransformStage",(function(){return i.TransformStage})),n.o(i,"contains")&&n.d(t,"contains",(function(){return i.contains})),n.o(i,"getConvertedExtraKey")&&n.d(t,"getConvertedExtraKey",(function(){return i.getConvertedExtraKey})),n.o(i,"getOriginalExtraKey")&&n.d(t,"getOriginalExtraKey",(function(){return i.getOriginalExtraKey})),n.o(i,"isDragAnyObject")&&n.d(t,"isDragAnyObject",(function(){return i.isDragAnyObject})),n.o(i,"isDragNodeDataObject")&&n.d(t,"isDragNodeDataObject",(function(){return i.isDragNodeDataObject})),n.o(i,"isDragNodeObject")&&n.d(t,"isDragNodeObject",(function(){return i.isDragNodeObject})),n.o(i,"isLocationChildrenDetail")&&n.d(t,"isLocationChildrenDetail",(function(){return i.isLocationChildrenDetail})),n.o(i,"isNode")&&n.d(t,"isNode",(function(){return i.isNode})),n.o(i,"isSettingField")&&n.d(t,"isSettingField",(function(){return i.isSettingField})),n.o(i,"isShaken")&&n.d(t,"isShaken",(function(){return i.isShaken}));var a=n(15);n.d(t,"Node",(function(){return a.b})),n.d(t,"TransformStage",(function(){return a.c})),n.d(t,"contains",(function(){return a.d})),n.d(t,"getConvertedExtraKey",(function(){return a.e})),n.d(t,"getOriginalExtraKey",(function(){return a.f})),n.d(t,"isNode",(function(){return a.j}));var c=n(39),u=n(63);n.d(t,"LiveEditing",(function(){return u.b}));var s=n(118);n.d(t,"LowCodePluginManager",(function(){return s.a}));var l=n(112)},function(e,t,n){var r,o;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,r=[]))||(e.exports=o)}()},function(e,t,n){e.exports=n(139)},function(e,t,n){"use strict";n.d(t,"v",(function(){return o})),n.d(t,"p",(function(){return i})),n.d(t,"y",(function(){return a})),n.d(t,"q",(function(){return c})),n.d(t,"r",(function(){return u})),n.d(t,"u",(function(){return s})),n.d(t,"t",(function(){return f})),n.d(t,"w",(function(){return d})),n.d(t,"x",(function(){return h})),n.d(t,"o",(function(){return P})),n.d(t,"a",(function(){return ge})),n.d(t,"c",(function(){return qe})),n.d(t,"d",(function(){return J})),n.d(t,"f",(function(){return ut})),n.d(t,"g",(function(){return Be})),n.d(t,"h",(function(){return ke})),n.d(t,"i",(function(){return Q})),n.d(t,"j",(function(){return B})),n.d(t,"k",(function(){return dt})),n.d(t,"e",(function(){return bt})),n.d(t,"n",(function(){return Ct})),n.d(t,"l",(function(){return Ne})),n.d(t,"m",(function(){return Le})),n.d(t,"b",(function(){return Ut})),n.d(t,"s",(function(){return Ye}));var r=n(4),o=Symbol("project"),i=Symbol("designer"),a=Symbol("skeleton"),c=Symbol("document"),u=Symbol("editor"),s=Symbol("node"),l=Symbol("modalNodesManager"),f=Symbol("nodeChildren"),p=Symbol("prop"),d=Symbol("settingPropEntry"),h=Symbol("settingTopEntry"),v=Symbol("props"),y=Symbol("detecting"),b=Symbol("selection"),m=Symbol("history"),g=Symbol("canvas"),O=Symbol("dragon"),j=Symbol("componentMeta"),w=Symbol("dropLocation"),k=Symbol("simulatorHost"),_=Symbol("simulatorRenderer"),S=Symbol("dragObject"),E=Symbol("locateEvent"),P=Symbol("designerCabin");function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var N=function(){function e(t){C(this,e),this[p]=void 0,this[p]=t}return x(e,[{key:"id",get:function e(){return this[p].id}},{key:"key",get:function e(){return this[p].key}},{key:"path",get:function e(){return this[p].path}},{key:"node",get:function e(){return Be.create(this[p].getNode())}},{key:"slotNode",get:function e(){return Be.create(this[p].slotNode)}},{key:"isProp",get:function e(){return!0}},{key:"setValue",value:function e(t){this[p].setValue(t)}},{key:"getValue",value:function e(){return this[p].getValue()}},{key:"remove",value:function e(){this[p].remove()}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.TransformStage.Render;return this[p].export(t)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}(),A=n(5);function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var D=function(){function e(t){R(this,e),this[v]=void 0,this[v]=t}return L(e,[{key:"id",get:function e(){return this[v].id}},{key:"path",get:function e(){return this[v].path}},{key:"node",get:function e(){return Be.create(this[v].getNode())}},{key:"getProp",value:function e(t){return N.create(this[v].getProp(t))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t){return N.create(this[v].getProp(Object(A.getConvertedExtraKey)(t)))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"has",value:function e(t){return this[v].has(t)}},{key:"add",value:function e(t,n){return this[v].add(t,n)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var B=function(){function e(t){I(this,e),this[c]=void 0,this[b]=void 0,this[c]=t,this[b]=t.selection}return F(e,[{key:"selected",get:function e(){return this[b].selected}},{key:"node",get:function e(){return this.getNodes()[0]}},{key:"select",value:function e(t){this[b].select(t)}},{key:"selectAll",value:function e(t){this[b].selectAll(t)}},{key:"remove",value:function e(t){this[b].remove(t)}},{key:"clear",value:function e(){this[b].clear()}},{key:"has",value:function e(t){return this[b].has(t)}},{key:"add",value:function e(t){this[b].add(t)}},{key:"getNodes",value:function e(){return this[b].getNodes().map((function(e){return Be.create(e)}))}},{key:"getTopNodes",value:function e(){return this[b].getTopNodes().map((function(e){return Be.create(e)}))}}]),e}();function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var J=function(){function e(t){U(this,e),this[c]=void 0,this[c]=t}return z(e,[{key:m,get:function e(){return this[c].getHistory()}},{key:"go",value:function e(t){this[m].go(t)}},{key:"back",value:function e(){this[m].back()}},{key:"forward",value:function e(){this[m].forward()}},{key:"savePoint",value:function e(){this[m].savePoint()}},{key:"isSavePoint",value:function e(){return this[m].isSavePoint()}},{key:"getState",value:function e(){return this[m].getState()}},{key:"onChangeState",value:function e(t){return this[m].onStateChange(t)}},{key:"onChangeCursor",value:function e(t){return this[m].onCursor(t)}}]),e}();function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var X=function(){function e(t){$(this,e),this[k]=void 0,this[k]=t}return H(e,[{key:"contentWindow",get:function e(){return this[k].contentWindow}},{key:"contentDocument",get:function e(){return this[k].contentDocument}},{key:"renderer",get:function e(){return this[k].renderer}},{key:"set",value:function e(t,n){this[k].set(t,n)}},{key:"get",value:function e(t){return this[k].get(t)}},{key:"scrollToNode",value:function e(t){this[k].scrollToNode(t[s])}},{key:"rerender",value:function e(){this[k].rerender()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Q=function(){function e(t){K(this,e),this[o]=void 0,this[u]=void 0,this[k]=void 0,this[_]=void 0,this[o]=t,this[u]=null==t?void 0:t.designer.editor}return Y(e,[{key:"currentDocument",get:function e(){return this.getCurrentDocument()}},{key:"documents",get:function e(){return this[o].documents.map((function(e){return ge.create(e)}))}},{key:"simulatorHost",get:function e(){return X.create(this[o].simulator||this[k])}},{key:"simulator",get:function e(){return this.simulatorHost}},{key:"openDocument",value:function e(t){var n=this[o].open(t);return n?ge.create(n):null}},{key:"createDocument",value:function e(t){var n=this[o].createDocument(t);return ge.create(n)}},{key:"removeDocument",value:function e(t){this[o].removeDocument(t[c])}},{key:"getDocumentByFileName",value:function e(t){return ge.create(this[o].getDocumentByFileName(t))}},{key:"getDocumentById",value:function e(t){return ge.create(this[o].getDocument(t))}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.TransformStage.Render;return this[o].getSchema(t)}},{key:"importSchema",value:function e(t){this[o].load(t,!0)}},{key:"getCurrentDocument",value:function e(){return ge.create(this[o].currentDocument)}},{key:"addPropsTransducer",value:function e(t,n){this[o].designer.addPropsReducer(t,n)}},{key:"onRemoveDocument",value:function e(t){return this[u].on("designer.document.remove",(function(e){return t(e)}))}},{key:"onChangeDocument",value:function e(t){var n=this[o].onCurrentDocumentChange((function(e){t(ge.create(e))}));return this[o].currentDocument&&t(ge.create(this[o].currentDocument)),n}},{key:"onSimulatorHostReady",value:function e(t){var n=this,r=this[o].onSimulatorReady((function(e){n[k]=e,t(X.create(e))}));return this[k]&&t(X.create(this[k])),r}},{key:"onSimulatorRendererReady",value:function e(t){var n=this,r=this[o].onRendererReady((function(e){n[_]=e,t()}));return this[_]&&t(),r}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ne=function(){function e(t){Z(this,e),this[w]=void 0,this[w]=t}return te(e,[{key:"target",get:function e(){return Be.create(this[w].target)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ae=function(){function e(t){re(this,e),this[i]=void 0,this[i]=t}return ie(e,[{key:"dropLocation",get:function e(){return ne.create(this[i].dropLocation||null)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var le=function(){function e(t){ce(this,e),this[l]=void 0,this[l]=t}return se(e,[{key:"setNodes",value:function e(){this[l].setNodes()}},{key:"getModalNodes",value:function e(){return this[l].getModalNodes().map((function(e){return Be.create(e)}))}},{key:"getVisibleModalNode",value:function e(){return Be.create(this[l].getVisibleModalNode())}},{key:"hideModalNodes",value:function e(){this[l].hideModalNodes()}},{key:"setVisible",value:function e(t){this[l].setVisible(t[s])}},{key:"setInvisible",value:function e(t){this[l].setInvisible(t[s])}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function pe(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var be="shell.document.importSchema",me=Symbol("shellDocSymbol"),ge=function(){function e(t){he(this,e),this[c]=void 0,this[u]=void 0,this._focusNode=void 0,this.selection=void 0,this.detecting=void 0,this.history=void 0,this.canvas=void 0,this[c]=t,this[u]=t.designer.editor,this.selection=new B(t),this.detecting=new Je(t),this.history=new J(t),this.canvas=new ae(t.designer),this._focusNode=Be.create(this[c].focusNode)}return ye(e,[{key:"id",get:function e(){return this[c].id},set:function e(t){this[c].id=t}},{key:"project",get:function e(){return Q.create(this[c].project)}},{key:"root",get:function e(){return Be.create(this[c].getRoot())}},{key:"focusNode",get:function e(){return this._focusNode||this.root},set:function e(t){this._focusNode=t}},{key:"nodesMap",get:function e(){var t=new Map,n=fe(this[c].nodesMap.keys()),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;t.set(o,this.getNodeById(o))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"modalNodesManager",get:function e(){return le.create(this[c].modalNodesManager)}},{key:"dropLocation",get:function e(){return this[c].dropLocation}},{key:"getNodeById",value:function e(t){return Be.create(this[c].getNode(t))}},{key:"importSchema",value:function e(t){this[c].import(t),this[u].emit(be,t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.TransformStage.Render;return this[c].export(t)}},{key:"insertNode",value:function e(t,n,r,o){var i=this[c].insertNode(t[s]?t[s]:t,null!=n&&n[s]?n[s]:n,r,o);return Be.create(i)}},{key:"createNode",value:function e(t){return Be.create(this[c].createNode(t))}},{key:"removeNode",value:function e(t){this[c].removeNode(t)}},{key:"getComponentsMap",value:function e(t){return this[c].getComponentsMap(t)}},{key:"checkNesting",value:function e(t,n){var r=n;return Object(A.isDragNodeObject)(n)&&(r.nodes=r.nodes.map((function(e){return e[s]||e}))),this[c].checkNesting(t[s]||t,r)}},{key:"onAddNode",value:function e(t){return this[c].onNodeCreate((function(e){t(Be.create(e))}))}},{key:"onMountNode",value:function e(t){var n=this;return this[u].on("node.add",t),function(){n[u].off("node.add",t)}}},{key:"onRemoveNode",value:function e(t){return this[c].onNodeDestroy((function(e){t(Be.create(e))}))}},{key:"onChangeDetecting",value:function e(t){return this[c].designer.detecting.onDetectingChange((function(e){t(Be.create(e))}))}},{key:"onChangeSelection",value:function e(t){return this[c].selection.onSelectionChange((function(e){t(e)}))}},{key:"onChangeNodeVisible",value:function e(t){this[c].nodesMap.forEach((function(e){e.onVisibleChange((function(n){t(Be.create(e),n)}))}))}},{key:"onChangeNodeChildren",value:function e(t){this[c].nodesMap.forEach((function(e){e.onChildrenChange((function(n){return n?t({type:n.type,node:Be.create(e)}):t()}))}))}},{key:"onChangeNodeProp",value:function e(t){this[u].on(r.GlobalEvent.Node.Prop.InnerChange,(function(e){t({key:e.key,oldValue:e.oldValue,newValue:e.newValue,prop:N.create(e.prop),node:Be.create(e.node)})}))}},{key:"onImportSchema",value:function e(t){this[u].on(be,t)}}],[{key:"create",value:function t(n){if(!n)return null;if(n[me])return n[me];var r=new e(n);return n[me]=r,r}}]),e}();function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ke=function(){function e(t){Oe(this,e),this[f]=void 0,this[f]=t}return we(e,[{key:"owner",get:function e(){return Be.create(this[f].owner)}},{key:"size",get:function e(){return this[f].size}},{key:"isEmpty",get:function e(){return this[f].isEmpty()}},{key:"notEmpty",get:function e(){return!this.isEmpty}},{key:"delete",value:function e(t){return this[f].delete(t[s])}},{key:"insert",value:function e(t,n){return this[f].insert(t[s],n,!0)}},{key:"indexOf",value:function e(t){return this[f].indexOf(t[s])}},{key:"splice",value:function e(t,n,r){this[f].splice(t,n,null==r?void 0:r[s])}},{key:"get",value:function e(t){return Be.create(this[f].get(t))}},{key:"has",value:function e(t){return this[f].has(t[s])}},{key:"forEach",value:function e(t){this[f].forEach((function(e,n){t(Be.create(e),n)}))}},{key:"map",value:function e(t){return this[f].map((function(e,n){return t(Be.create(e),n)}))}},{key:"every",value:function e(t){return this[f].every((function(e,n){return t(Be.create(e),n)}))}},{key:"some",value:function e(t){return this[f].some((function(e,n){return t(Be.create(e),n)}))}},{key:"filter",value:function e(t){return this[f].filter((function(e,n){return t(Be.create(e),n)})).map((function(e){return Be.create(e)}))}},{key:"find",value:function e(t){return Be.create(this[f].find((function(e,n){return t(Be.create(e),n)})))}},{key:"reduce",value:function e(t,n){return this[f].reduce((function(e,n){return t(e,Be.create(n))}),n)}},{key:"importSchema",value:function e(t){this[f].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.TransformStage.Render;return this[f].export(t)}},{key:"mergeChildren",value:function e(t,n,r){r||(r=function e(){return 0}),this[f].mergeChildren((function(e,n){return t(Be.create(e),n)}),(function(e){return n(e.map((function(e){return Be.create(e)})))}),(function(e,t){return r(Be.create(e),Be.create(t))}))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Pe=function(){function e(t){_e(this,e),this[j]=void 0,this[j]=t}return Ee(e,[{key:"componentName",get:function e(){return this[j].componentName}},{key:"isContainer",get:function e(){return this[j].isContainer}},{key:"isMinimalRenderUnit",get:function e(){return this[j].isMinimalRenderUnit}},{key:"isModal",get:function e(){return this[j].isModal}},{key:"configure",get:function e(){return this[j].configure}},{key:"title",get:function e(){return this[j].title}},{key:"icon",get:function e(){return this[j].icon}},{key:"npm",get:function e(){return this[j].npm}},{key:"prototype",get:function e(){return this[j].prototype}},{key:"availableActions",get:function e(){return this[j].availableActions}},{key:"setNpm",value:function e(t){this[j].setNpm(t)}},{key:"getMetadata",value:function e(){return this[j].getMetadata()}},{key:"checkNestingUp",value:function e(t,n){var r=t.isNode?t[s]:t;return this[j].checkNestingUp(r,n)}},{key:"checkNestingDown",value:function e(t,n){var r=t.isNode?t[s]:t;return this[j].checkNestingDown(r,n[s]||n)}},{key:"refreshMetadata",value:function e(){this[j].refreshMetadata()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t,n){return t&&Te(e.prototype,t),n&&Te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ne=function(){function e(t){Ce(this,e),this[d]=void 0,this[d]=t}return xe(e,[{key:"isGroup",get:function e(){return this[d].isGroup}},{key:"id",get:function e(){return this[d].id}},{key:"name",get:function e(){return this[d].name}},{key:"key",get:function e(){return this[d].getKey()}},{key:"path",get:function e(){return this[d].path}},{key:"title",get:function e(){return this[d].title}},{key:"setter",get:function e(){return this[d].setter}},{key:"expanded",get:function e(){return this[d].expanded}},{key:"extraProps",get:function e(){return this[d].extraProps}},{key:"props",get:function e(){return Le.create(this[d].props)}},{key:"node",get:function e(){return Be.create(this[d].getNode())}},{key:"parent",get:function t(){return e.create(this[d].parent)}},{key:"top",get:function e(){return Le.create(this[d].top)}},{key:"isSettingField",get:function e(){return this[d].isSettingField}},{key:"componentMeta",get:function e(){return Pe.create(this[d].componentMeta)}},{key:"items",get:function e(){var t;return null===(t=this[d].items)||void 0===t?void 0:t.map((function(e){return Object(r.isCustomView)(e)?e:e.internalToShellPropEntry()}))}},{key:"setKey",value:function e(t){this[d].setKey(t)}},{key:"getNode",value:function e(){return this.node}},{key:"getParent",value:function e(){return this.parent}},{key:"setValue",value:function e(t,n){this[d].setValue(t,!1,!1,n)}},{key:"setPropValue",value:function e(t,n){this[d].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[d].clearPropValue(t)}},{key:"getDefaultValue",value:function e(){return this[d].getDefaultValue()}},{key:"getValue",value:function e(){return this[d].getValue()}},{key:"getPropValue",value:function e(t){return this[d].getPropValue(t)}},{key:"getExtraPropValue",value:function e(t){return this[d].getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this[d].setExtraPropValue(t,n)}},{key:"getProps",value:function e(){return Le.create(this[d].getProps())}},{key:"isUseVariable",value:function e(){return this[d].isUseVariable()}},{key:"setUseVariable",value:function e(t){this[d].setUseVariable(t)}},{key:"createField",value:function t(n){return e.create(this[d].createField(n))}},{key:"getMockOrValue",value:function e(){return this[d].getMockOrValue()}},{key:"purge",value:function e(){this[d].purge()}},{key:"remove",value:function e(){this[d].remove()}},{key:"onEffect",value:function e(t){return this[d].onEffect(t)}},{key:"internalToShellPropEntry",value:function e(){return this}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t,n){return t&&Re(e.prototype,t),n&&Re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Le=function(){function e(t){Ae(this,e),this[h]=void 0,this[h]=t}return Me(e,[{key:"node",get:function e(){return Be.create(this[h].getNode())}},{key:"get",value:function e(t){return Ne.create(this[h].get(t))}},{key:"getNode",value:function e(){return this.node}},{key:"getPropValue",value:function e(t){return this[h].getPropValue(t)}},{key:"setPropValue",value:function e(t,n){this[h].setPropValue(t,n)}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t,n){return t&&Ie(e.prototype,t),n&&Ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Fe=Symbol("shellNodeSymbol"),Be=function(){function e(t){De(this,e),this[c]=void 0,this[s]=void 0,this._id=void 0,this.isNode=!0,this[s]=t,this[c]=t.document,this._id=this[s].id}return Ve(e,[{key:"id",get:function e(){return this._id},set:function e(t){this._id=t}},{key:"title",get:function e(){return this[s].title}},{key:"isContainer",get:function e(){return this[s].isContainer()}},{key:"isRoot",get:function e(){return this[s].isRoot()}},{key:"isEmpty",get:function e(){return this[s].isEmpty()}},{key:"isPage",get:function e(){return this[s].isPage()}},{key:"isComponent",get:function e(){return this[s].isComponent()}},{key:"isModal",get:function e(){return this[s].isModal()}},{key:"isSlot",get:function e(){return this[s].isSlot()}},{key:"isParental",get:function e(){return this[s].isParental()}},{key:"isLeaf",get:function e(){return this[s].isLeaf()}},{key:"isLocked",get:function e(){return this[s].isLocked}},{key:"index",get:function e(){return this[s].index}},{key:"icon",get:function e(){return this[s].icon}},{key:"zLevel",get:function e(){return this[s].zLevel}},{key:"componentName",get:function e(){return this[s].componentName}},{key:"componentMeta",get:function e(){return Pe.create(this[s].componentMeta)}},{key:"document",get:function e(){return ge.create(this[c])}},{key:"prevSibling",get:function t(){return e.create(this[s].prevSibling)}},{key:"nextSibling",get:function t(){return e.create(this[s].nextSibling)}},{key:"parent",get:function t(){return e.create(this[s].parent)}},{key:"children",get:function e(){return ke.create(this[s].children)}},{key:"slots",get:function t(){return this[s].slots.map((function(t){return e.create(t)}))}},{key:"slotFor",get:function e(){return N.create(this[s].slotFor)}},{key:"props",get:function e(){return D.create(this[s].props)}},{key:"propsData",get:function e(){return this[s].propsData}},{key:"schema",get:function e(){return this[s].schema}},{key:"settingEntry",get:function e(){return Le.create(this[s].settingEntry)}},{key:"getChildren",value:function e(){return this.children}},{key:"getDOMNode",value:function e(){return this[s].getDOMNode()}},{key:"mergeChildren",value:function e(t,n,r){var o;return null===(o=this.children)||void 0===o?void 0:o.mergeChildren(t,n,r)}},{key:"getRect",value:function e(){return this[s].getRect()}},{key:"hasSlots",value:function e(){return this[s].hasSlots()}},{key:"hasCondition",value:function e(){return this[s].hasCondition()}},{key:"hasLoop",value:function e(){return this[s].hasLoop()}},{key:"getVisible",value:function e(){return this[s].getVisible()}},{key:"setVisible",value:function e(t){this[s].setVisible(t)}},{key:"isConditionalVisible",value:function e(){return this[s].isConditionalVisible()}},{key:"lock",value:function e(t){this[s].lock(t)}},{key:"getProps",value:function e(){return this.props}},{key:"contains",value:function e(t){return this[s].contains(t[s])}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return N.create(this[s].getProp(t,n))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t,n){return N.create(this[s].getExtraProp(t,n))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"importSchema",value:function e(t){this[s].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.TransformStage.Render,n=arguments.length>1?arguments[1]:void 0;return this[s].export(t,n)}},{key:"insertBefore",value:function e(t,n,r){this[s].insertBefore(t[s]||t,null==n?void 0:n[s],r)}},{key:"insertAfter",value:function e(t,n,r){this[s].insertAfter(t[s]||t,null==n?void 0:n[s],r)}},{key:"replaceChild",value:function t(n,r){return e.create(this[s].replaceChild(n[s],r))}},{key:"replaceWith",value:function e(t){this[s].replaceWith(t)}},{key:"select",value:function e(){this[s].select()}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[s].hover(t)}},{key:"remove",value:function e(){this[s].remove()}},{key:"isRGLContainer",get:function e(){return this[s].isRGLContainer},set:function e(t){this[s].isRGLContainer=t}},{key:"internalToShellNode",value:function e(){return this}}],[{key:"create",value:function t(n){if(!n)return null;if(n[Fe])return n[Fe];var r=new e(n);return n[Fe]=r,r}}]),e}();function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Je=function(){function e(t){Ue(this,e),this[c]=void 0,this[y]=void 0,this[c]=t,this[y]=t.designer.detecting}return ze(e,[{key:"current",get:function e(){return Be.create(this[y].current)}},{key:"capture",value:function e(t){this[y].capture(this[c].getNode(t))}},{key:"release",value:function e(t){this[y].release(this[c].getNode(t))}},{key:"leave",value:function e(){this[y].leave(this[c])}}]),e}(),$e=n(3);function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ke=Object($e.q)({level:"warn",bizName:"shell:event"}),qe=function(){function e(t,n){We(this,e),this[u]=void 0,this.options=void 0,this.names=[],this[u]=t,this.options=n,this.options.prefix||Ke.warn("prefix is required while initializing Event")}return Xe(e,[{key:"on",value:function e(t,n){t.startsWith("designer")?Ke.warn("designer events are disabled"):this[u].on(t,n)}},{key:"off",value:function e(t,n){this[u].off(t,n)}},{key:"emit",value:function e(t){var n;if(this.options.prefix){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[u]).emit.apply(n,["".concat(this.options.prefix,":").concat(t)].concat(o))}else Ke.warn("Event#emit has been forbidden while prefix is not specified")}},{key:"__internalEmit__",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[u]).emit.apply(n,[t].concat(o))}}]),e}();function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"common"};return new qe(e,t)}var Qe=n(7),Ze=n.n(Qe);function et(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function tt(e,t){if(e){if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rt(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rt(i,r,o,a,c,"next",e)}function c(e){rt(i,r,o,a,c,"throw",e)}a(void 0)}))}}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ut=function(){function e(t){it(this,e),this[u]=void 0,this[i]=void 0,this[u]=t,this[i]=t.get("designer")}return ct(e,[{key:"componentsMap",get:function e(){return this[i].componentsMap}},{key:"setAssets",value:function(){var e=ot(Ze.a.mark((function e(t){return Ze.a.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[u].setAssets(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAssets",value:function e(){return this[u].get("assets")}},{key:"loadIncrementalAssets",value:function e(t){return this[i].loadIncrementalAssets(t)}},{key:"registerMetadataTransducer",value:function e(t,n,r){Object(A.registerMetadataTransducer)(t,n,r)}},{key:"getRegisteredMetadataTransducers",value:function e(){return Object(A.getRegisteredMetadataTransducers)()}},{key:"getComponentMeta",value:function e(t){return Pe.create(this[i].getComponentMeta(t))}},{key:"createComponentMeta",value:function e(t){return Pe.create(this[i].createComponentMeta(t))}},{key:"isComponentMeta",value:function e(t){return Object(A.isComponentMeta)(t)}},{key:"getComponentMetasMap",value:function e(){var t=new Map,n,r=et(this[i].getComponentMetasMap().keys()),o;try{for(r.s();!(o=r.n()).done;){var a=o.value;t.set(a,this.getComponentMeta(a))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"addBuiltinComponentAction",value:function e(t){Object(A.addBuiltinComponentAction)(t)}},{key:"removeBuiltinComponentAction",value:function e(t){Object(A.removeBuiltinComponentAction)(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){Object(A.modifyBuiltinComponentAction)(t,n)}},{key:"onChangeAssets",value:function e(t){this[u].onGot("assets",t),this[u].on("designer.incrementalAssetsReady",t)}}]),e}(),st=n(1);function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var dt=function(){function e(){lt(this,e)}return pt(e,[{key:"getSetter",value:function e(t){return Object(st.getSetter)(t)}},{key:"getSettersMap",value:function e(){return Object(st.getSettersMap)()}},{key:"registerSetter",value:function e(t,n){return Object(st.registerSetter)(t,n)}}]),e}();function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t,n){return t&&vt(e.prototype,t),n&&vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var bt=function(){function e(){ht(this,e)}return yt(e,[{key:"callbacks",get:function e(){return st.hotkey.callBacks}},{key:"callBacks",get:function e(){return this.callbacks}},{key:"bind",value:function e(t,n,r){return st.hotkey.bind(t,n,r),function(){st.hotkey.unbind(t,n,r)}}}]),e}(),mt=n(17),gt=["skeleton"],Ot=["skeleton"],jt=["skeleton"],wt=["skeleton"];function kt(e,t){if(null==e)return{};var n=_t(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _t(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ct=function(){function e(t){St(this,e),this[a]=void 0,this[a]=t}return Pt(e,[{key:"add",value:function e(t,n){return this[a].add(t,n)}},{key:"remove",value:function e(t){var n=t.area,r=t.name,o=this[a];Tt(n)&&o[Tt(n)].container.remove(r)}},{key:"showPanel",value:function e(t){var n;null===(n=this[a].getPanel(t))||void 0===n||n.show()}},{key:"hidePanel",value:function e(t){var n;null===(n=this[a].getPanel(t))||void 0===n||n.hide()}},{key:"showWidget",value:function e(t){var n;null===(n=this[a].getWidget(t))||void 0===n||n.show()}},{key:"enableWidget",value:function e(t){var n,r;null===(n=this[a].getWidget(t))||void 0===n||null===(r=n.enable)||void 0===r||r.call(n)}},{key:"hideWidget",value:function e(t){var n;null===(n=this[a].getWidget(t))||void 0===n||n.hide()}},{key:"disableWidget",value:function e(t){var n,r;null===(n=this[a].getWidget(t))||void 0===n||null===(r=n.disable)||void 0===r||r.call(n)}},{key:"showArea",value:function e(t){var n;null===(n=this[a][t])||void 0===n||n.show()}},{key:"hideArea",value:function e(t){var n;null===(n=this[a][t])||void 0===n||n.hide()}},{key:"onShowPanel",value:function e(t){var n=this[a].editor;return n.on(mt.e.PANEL_SHOW,(function(e,n){var r=n.skeleton,o=kt(n,gt);t(e,o)})),function(){return n.off(mt.e.PANEL_SHOW,t)}}},{key:"onHidePanel",value:function e(t){var n=this[a].editor;return n.on(mt.e.PANEL_HIDE,(function(e,n){var r=n.skeleton,o=kt(n,Ot);t(e,o)})),function(){return n.off(mt.e.PANEL_HIDE,t)}}},{key:"onShowWidget",value:function e(t){var n=this[a].editor;return n.on(mt.e.WIDGET_SHOW,(function(e,n){var r=n.skeleton,o=kt(n,jt);t(e,o)})),function(){return n.off(mt.e.WIDGET_SHOW,t)}}},{key:"onHideWidget",value:function e(t){var n=this[a].editor;return n.on(mt.e.WIDGET_HIDE,(function(e,n){var r=n.skeleton,o=kt(n,wt);t(e,o)})),function(){return n.off(mt.e.WIDGET_HIDE,t)}}}]),e}();function Tt(e){switch(e){case"leftArea":case"left":return"leftArea";case"rightArea":case"right":return"rightArea";case"topArea":case"top":return"topArea";case"toolbar":return"toolbar";case"mainArea":case"main":case"center":case"centerArea":return"mainArea";case"bottomArea":case"bottom":return"bottomArea";case"leftFixedArea":return"leftFixedArea";case"leftFloatArea":return"leftFloatArea";case"stages":return"stages";default:throw new Error("".concat(e," not supported"))}}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t,n){return t&&Nt(e.prototype,t),n&&Nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Rt=function(){function e(t){xt(this,e),this[S]=void 0,this[S]=t}return At(e,[{key:"type",get:function e(){return this[S].type}},{key:"nodes",get:function e(){var t=this[S].nodes;return t?t.map(Be.create):null}},{key:"data",get:function e(){return this[S].data}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var It=function(){function e(t){Mt(this,e),this[E]=void 0,this[E]=t}return Dt(e,[{key:"type",get:function e(){return this[E].type}},{key:"globalX",get:function e(){return this[E].globalX}},{key:"globalY",get:function e(){return this[E].globalY}},{key:"originalEvent",get:function e(){return this[E].originalEvent}},{key:"target",get:function e(){return this[E].target}},{key:"canvasX",get:function e(){return this[E].canvasX}},{key:"canvasY",get:function e(){return this[E].canvasY}},{key:"dragObject",get:function e(){return Rt.create(this[E].dragObject)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ut=function(){function e(t){Vt(this,e),this[O]=void 0,this[O]=t}return Bt(e,[{key:"dragging",get:function e(){return this[O].dragging}},{key:"onDragstart",value:function e(t){return this[O].onDragstart((function(e){return t(It.create(e))}))}},{key:"onDrag",value:function e(t){return this[O].onDrag((function(e){return t(It.create(e))}))}},{key:"onDragend",value:function e(t){return this[O].onDragend((function(e){return t({dragObject:Rt.create(e.dragObject),copy:e.copy})}))}},{key:"from",value:function e(t,n){return this[O].from(t,n)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}()},function(e,t,n){"use strict";var r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function e(t,n,r){return Function.prototype.apply.call(t,n,r)},i;function a(e){console&&console.warn&&console.warn(e)}i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function e(t){return Object.getOwnPropertyNames(t)};var c=Number.isNaN||function e(t){return t!=t};function u(){u.init.call(this)}e.exports=u,e.exports.once=O,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var o,i,c;if(l(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),c=i[t]),void 0===c)c=i[t]=n,++e._eventsCount;else if("function"==typeof c?c=i[t]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),(o=f(e))>0&&c.length>o&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=c.length,a(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function v(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?g(o):b(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function b(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function O(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}w(e,t,i,{once:!0}),"error"!==t&&j(e,o,{once:!0})}))}function j(e,t,n){"function"==typeof e.on&&w(e,"error",t,n)}function w(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function e(){return f(this)},u.prototype.emit=function e(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i="error"===t,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var s=a[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,n);else for(var l=s.length,f=b(s,l),r=0;r<l;++r)o(f[r],this,n);return!0},u.prototype.addListener=function e(t,n){return p(this,t,n,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function e(t,n){return p(this,t,n,!0)},u.prototype.once=function e(t,n){return l(n),this.on(t,h(this,t,n)),this},u.prototype.prependOnceListener=function e(t,n){return l(n),this.prependListener(t,h(this,t,n)),this},u.prototype.removeListener=function e(t,n){var r,o,i,a,c;if(l(n),void 0===(o=this._events))return this;if(void 0===(r=o[t]))return this;if(r===n||r.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){c=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():m(r,i),1===r.length&&(o[t]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",t,c||n)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function e(t){var n,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i=Object.keys(r),a;for(o=0;o<i.length;++o)"removeListener"!==(a=i[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=r[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},u.prototype.listeners=function e(t){return v(this,t,!0)},u.prototype.rawListeners=function e(t){return v(this,t,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function e(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"$mobx",(function(){return Me})),n.d(t,"FlowCancellationError",(function(){return Jr})),n.d(t,"ObservableMap",(function(){return ai})),n.d(t,"ObservableSet",(function(){return pi})),n.d(t,"Reaction",(function(){return Kn})),n.d(t,"_allowStateChanges",(function(){return en})),n.d(t,"_allowStateChangesInsideComputed",(function(){return jr})),n.d(t,"_allowStateReadsEnd",(function(){return En})),n.d(t,"_allowStateReadsStart",(function(){return Sn})),n.d(t,"_autoAction",(function(){return Or})),n.d(t,"_endAction",(function(){return Zt})),n.d(t,"_getAdministration",(function(){return Ai})),n.d(t,"_getGlobalState",(function(){return Mn})),n.d(t,"_interceptReads",(function(){return Qr})),n.d(t,"_isComputingDerivation",(function(){return vn})),n.d(t,"_resetGlobalState",(function(){return Ln})),n.d(t,"_startAction",(function(){return Qt})),n.d(t,"action",(function(){return gr})),n.d(t,"autorun",(function(){return kr})),n.d(t,"comparer",(function(){return Ge})),n.d(t,"computed",(function(){return Gt})),n.d(t,"configure",(function(){return Dr})),n.d(t,"createAtom",(function(){return Ie})),n.d(t,"defineProperty",(function(){return yo})),n.d(t,"entries",(function(){return lo})),n.d(t,"extendObservable",(function(){return Ir})),n.d(t,"flow",(function(){return Xr})),n.d(t,"flowResult",(function(){return qr})),n.d(t,"get",(function(){return vo})),n.d(t,"getAtom",(function(){return Ni})),n.d(t,"getDebugName",(function(){return Ri})),n.d(t,"getDependencyTree",(function(){return Vr})),n.d(t,"getObserverTree",(function(){return Br})),n.d(t,"has",(function(){return ho})),n.d(t,"intercept",(function(){return Zr})),n.d(t,"isAction",(function(){return wr})),n.d(t,"isBoxedObservable",(function(){return an})),n.d(t,"isComputed",(function(){return ro})),n.d(t,"isComputedProp",(function(){return oo})),n.d(t,"isFlow",(function(){return Yr})),n.d(t,"isFlowCancellationError",(function(){return $r})),n.d(t,"isObservable",(function(){return ao})),n.d(t,"isObservableArray",(function(){return ni})),n.d(t,"isObservableMap",(function(){return ci})),n.d(t,"isObservableObject",(function(){return Oi})),n.d(t,"isObservableProp",(function(){return co})),n.d(t,"isObservableSet",(function(){return di})),n.d(t,"keys",(function(){return uo})),n.d(t,"makeAutoObservable",(function(){return Uo})),n.d(t,"makeObservable",(function(){return Fo})),n.d(t,"observable",(function(){return It})),n.d(t,"observe",(function(){return mo})),n.d(t,"onBecomeObserved",(function(){return xr})),n.d(t,"onBecomeUnobserved",(function(){return Nr})),n.d(t,"onReactionError",(function(){return qn})),n.d(t,"override",(function(){return Xe})),n.d(t,"ownKeys",(function(){return bo})),n.d(t,"reaction",(function(){return Er})),n.d(t,"remove",(function(){return po})),n.d(t,"runInAction",(function(){return jr})),n.d(t,"set",(function(){return fo})),n.d(t,"spy",(function(){return ur})),n.d(t,"toJS",(function(){return ko})),n.d(t,"trace",(function(){return _o})),n.d(t,"transaction",(function(){return Eo})),n.d(t,"untracked",(function(){return wn})),n.d(t,"values",(function(){return so})),n.d(t,"when",(function(){return Po}));var r="Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",o=function e(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},i="'keys()' can only be used on observable objects, arrays, sets and maps",a="'values()' can only be used on observable objects, arrays, sets and maps",c="'entries()' can only be used on observable objects, arrays and maps",u="'set()' can only be used on observable objects, arrays and maps",s="'remove()' can only be used on observable objects, arrays and maps",l="'has()' can only be used on observable objects, arrays and maps",f="'get()' can only be used on observable objects, arrays and maps",p="Invalid annotation",d="Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",h="Intercept handlers should return nothing or a change object",v="Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",y="Modification exception: the internal structure of an observable array was changed.",b=function e(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},m="mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",g=function e(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},O=function e(t){return"Cannot initialize map from "+t},j=function e(t){return"Cannot convert to map from '"+t+"'"},w="mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",k="It is not possible to get index atoms from arrays",_=function e(t){return"Cannot obtain administration from "+t},S=function e(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},E="please specify a property",P=function e(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},C=function e(t){return"Cannot obtain atom from "+t},T="Expecting some object",x="invalid action stack. did you forget to finish an action?",N="missing option for computed: get",A=function e(t,n){return"Cycle detected in computation "+t+": "+n},R=function e(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},M=function e(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},L="There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",D="isolateGlobalState should be called before MobX is running any reactions",I=function e(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},V="'ownKeys()' can only be used on observable objects",F="'defineProperty()' can only be used on observable objects",B={};function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var G={};function z(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:G}var J=Object.assign,$=Object.getOwnPropertyDescriptor,W=Object.defineProperty,H=Object.prototype,X=[];Object.freeze(X);var K={};Object.freeze(K);var q="undefined"!=typeof Proxy,Y=Object.toString();function Q(){q||U("Proxy not available")}function Z(e){0}function ee(){return++An.mobxGuid}function te(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ne=function e(){};function re(e){return"function"==typeof e}function oe(e){var t;switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function ie(e){return null!==e&&"object"==typeof e}function ae(e){if(!ie(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===Y}function ce(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ue(e,t,n){W(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function se(e,t,n){W(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function le(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ie(e)&&!0===e[n]}}function fe(e){return e instanceof Map}function pe(e){return e instanceof Set}var de=void 0!==Object.getOwnPropertySymbols;function he(e){var t=Object.keys(e);if(!de)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return H.propertyIsEnumerable.call(e,t)}))):t}var ve="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:de?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ye(e){return"string"==typeof e?e:"symbol"==typeof e?e.toString():new String(e).toString()}function be(e){return null===e?null:"object"==typeof e?""+e:e}function me(e,t){return H.hasOwnProperty.call(e,t)}var ge=Object.getOwnPropertyDescriptors||function e(t){var n={};return ve(t).forEach((function(e){n[e]=$(t,e)})),n};function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_e(e,t)}function _e(e,t){return(_e=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ee(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Te=Symbol("mobx-stored-annotations");function xe(e){function t(t,n){Ne(t,n,e)}return Object.assign(t,e)}function Ne(e,t,n){var r;me(e,Te)||ue(e,Te,we({},e[Te])),Ae(e,n,t),Ke(n)||(e[Te][t]=n)}function Ae(e,t,n){var r,o,i}function Re(e){return me(e,Te)||ue(e,Te,we({},e[Te])),e[Te]}var Me=Symbol("mobx administration"),Le=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ln.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function e(){return zn(this)},t.reportChanged=function e(){Un(),Jn(this),Gn()},t.toString=function e(){return this.name_},e}(),De=le("Atom",Le);function Ie(e,t,n){void 0===t&&(t=ne),void 0===n&&(n=ne);var r=new Le(e);return t!==ne&&xr(r,t),n!==ne&&Nr(r,n),r}function Ve(e,t){return e===t}function Fe(e,t){return Li(e,t)}function Be(e,t){return Li(e,t,1)}function Ue(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Ge={identity:Ve,structural:Fe,default:Ue,shallow:Be};function ze(e,t,n){return ao(e)?e:Array.isArray(e)?It.array(e,{name:n}):ae(e)?It.object(e,void 0,{name:n}):fe(e)?It.map(e,{name:n}):pe(e)?It.set(e,{name:n}):"function"!=typeof e||wr(e)||Yr(e)?e:ce(e)?Xr(e):Or(n,e)}function Je(e,t,n){return null==e||Oi(e)||ni(e)||ci(e)||di(e)?e:Array.isArray(e)?It.array(e,{name:n,deep:!1}):ae(e)?It.object(e,void 0,{name:n,deep:!1}):fe(e)?It.map(e,{name:n,deep:!1}):pe(e)?It.set(e,{name:n,deep:!1}):void 0}function $e(e){return e}function We(e,t){return Li(e,t)?t:e}var He="override",Xe=xe({annotationType_:He,make_:qe,extend_:Ye});function Ke(e){return e.annotationType_===He}function qe(e,t){return 0}function Ye(e,t,n,r){U("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function Qe(e,t){return{annotationType_:e,options_:t,make_:Ze,extend_:et}}function Ze(e,t,n,r){var o;if(null!=(o=this.options_)&&o.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(wr(n.value))return 1;var i=nt(e,this,t,n,!1);return W(r,t,i),2}function et(e,t,n,r){var o=nt(e,this,t,n);return e.defineProperty_(t,o,r)}function tt(e,t,n,r){var o=t.annotationType_,i=r.value}function nt(e,t,n,r,o){var i,a,c,u,s,l,f;void 0===o&&(o=An.safeDescriptors),tt(e,t,n,r);var p=r.value,d;null!=(i=t.options_)&&i.bound&&(p=p.bind(null!=(d=e.proxy_)?d:e.target_));return{value:qt(null!=(a=null==(c=t.options_)?void 0:c.name)?a:n.toString(),p,null!=(u=null==(s=t.options_)?void 0:s.autoAction)&&u,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function rt(e,t){return{annotationType_:e,options_:t,make_:ot,extend_:it}}function ot(e,t,n,r){var o;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(o=this.options_)&&o.bound&&(!me(e.target_,t)||!Yr(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Yr(n.value))return 1;var i=ct(e,this,t,n,!1,!1);return W(r,t,i),2}function it(e,t,n,r){var o,i=ct(e,this,t,n,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,i,r)}function at(e,t,n,r){var o=t.annotationType_,i=r.value}function ct(e,t,n,r,o,i){void 0===i&&(i=An.safeDescriptors),at(e,t,n,r);var a=r.value,c;(Yr(a)||(a=Xr(a)),o)&&((a=a.bind(null!=(c=e.proxy_)?c:e.target_)).isMobXFlow=!0);return{value:a,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ut(e,t){return{annotationType_:e,options_:t,make_:st,extend_:lt}}function st(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function lt(e,t,n,r){return ft(e,this,t,n),e.defineComputedProperty_(t,we({},this.options_,{get:n.get,set:n.set}),r)}function ft(e,t,n,r){var o=t.annotationType_,i=r.get}function pt(e,t){return{annotationType_:e,options_:t,make_:dt,extend_:ht}}function dt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ht(e,t,n,r){var o,i;return vt(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:ze,r)}function vt(e,t,n,r){var o=t.annotationType_}var yt="true",bt=mt();function mt(e){return{annotationType_:yt,options_:e,make_:gt,extend_:Ot}}function gt(e,t,n,r){var o,i,a,c,u,s;if(n.get)return Gt.make_(e,t,n,r);if(n.set){var l=qt(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!An.safeDescriptors||e.isPlainObject_,set:l})?0:2:(W(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return ce(n.value)?(null!=(c=this.options_)&&c.autoBind?Xr.bound:Xr).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Or.bound:Or).make_(e,t,n,r);var f=!1===(null==(o=this.options_)?void 0:o.deep)?It.ref:It,p;"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(p=e.proxy_)?p:e.target_));return f.make_(e,t,n,r)}function Ot(e,t,n,r){var o,i,a,c;if(n.get)return Gt.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!An.safeDescriptors||e.isPlainObject_,set:qt(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(i=this.options_)?void 0:i.deep)?It.ref:It).extend_(e,t,n,r)}var jt="observable",wt="observable.ref",kt="observable.shallow",_t="observable.struct",St={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Et(e){return e||St}Object.freeze(St);var Pt=pt(jt),Ct=pt(wt,{enhancer:$e}),Tt=pt(kt,{enhancer:Je}),xt=pt(_t,{enhancer:We}),Nt=xe(Pt);function At(e){return!0===e.deep?ze:!1===e.deep?$e:Mt(e.defaultDecorator)}function Rt(e){var t;return e?null!=(t=e.defaultDecorator)?t:mt(e):void 0}function Mt(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:ze}function Lt(e,t,n){if(!oe(t))return ao(e)?e:ae(e)?It.object(e,t,n):Array.isArray(e)?It.array(e,t):fe(e)?It.map(e,t):pe(e)?It.set(e,t):"object"==typeof e&&null!==e?e:It.box(e,t);Ne(e,t,Pt)}Object.assign(Lt,Nt);var Dt,It=J(Lt,{box:function e(t,n){var r=Et(n);return new on(t,At(r),r.name,!0,r.equals)},array:function e(t,n){var r=Et(n);return(!1===An.useProxies||!1===r.proxy?xi:Ho)(t,At(r),r.name)},map:function e(t,n){var r=Et(n);return new ai(t,At(r),r.name)},set:function e(t,n){var r=Et(n);return new pi(t,At(r),r.name)},object:function e(t,n,r){return Ir(!1===An.useProxies||!1===(null==r?void 0:r.proxy)?bi({},r):Ao({},r),t,n)},ref:xe(Ct),shallow:xe(Tt),deep:Nt,struct:xe(xt)}),Vt="computed",Ft="computed.struct",Bt=ut(Vt),Ut=ut(Ft,{equals:Ge.structural}),Gt=function e(t,n){if(oe(n))return Ne(t,n,Bt);if(ae(t))return xe(ut(Vt,t));var r=ae(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new un(r)},zt,Jt;Object.assign(Gt,Bt),Gt.struct=xe(Ut);var $t=0,Wt=1,Ht=null!=(zt=null==(Jt=$((function(){}),"name"))?void 0:Jt.configurable)&&zt,Xt={value:"action",configurable:!0,writable:!1,enumerable:!1},Kt;function qt(e,t,n,r){function o(){return Yt(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),o.isMobxAction=!0,Ht&&(Xt.value=e,Object.defineProperty(o,"name",Xt)),o}function Yt(e,t,n,r,o){var i=Qt(e,t,r,o);try{return n.apply(r,o)}catch(e){throw i.error_=e,e}finally{Zt(i)}}function Qt(e,t,n,r){var o=!1,i=0,a,c=An.trackingDerivation,u=!t||!c;Un();var s=An.allowStateChanges;u&&(kn(),s=tn(!0));var l,f={runAsAction_:u,prevDerivation_:c,prevAllowStateChanges_:s,prevAllowStateReads_:Sn(!0),notifySpy_:!1,startTime_:0,actionId_:Wt++,parentActionId_:$t};return $t=f.actionId_,f}function Zt(e){$t!==e.actionId_&&U(30),$t=e.parentActionId_,void 0!==e.error_&&(An.suppressReactionErrors=!0),nn(e.prevAllowStateChanges_),En(e.prevAllowStateReads_),Gn(),e.runAsAction_&&_n(e.prevDerivation_),An.suppressReactionErrors=!1}function en(e,t){var n=tn(e);try{return t()}finally{nn(n)}}function tn(e){var t=An.allowStateChanges;return An.allowStateChanges=e,t}function nn(e){An.allowStateChanges=e}var rn="create";Kt=Symbol.toPrimitive;var on=function(e,t){function n(t,n,r,o,i){var a;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=!0),void 0===i&&(i=Ge.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=i,a.value_=n(t,void 0,r),a}ke(n,e);var r=n.prototype;return r.dehanceValue=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},r.set=function e(t){var n=this.value_;if((t=this.prepareNewValue_(t))!==An.UNCHANGED){var r=!1;0,this.setNewValue_(t)}},r.prepareNewValue_=function e(t){if(yn(this),Ro(this)){var n=Lo(this,{object:this,type:zo,newValue:t});if(!n)return An.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?An.UNCHANGED:t},r.setNewValue_=function e(t){var n=this.value_;this.value_=t,this.reportChanged(),Do(this)&&Vo(this,{type:zo,object:this,newValue:t,oldValue:n})},r.get=function e(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function e(t){return Mo(this,t)},r.observe_=function e(t,n){return n&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:zo,newValue:this.value_,oldValue:void 0}),Io(this,t)},r.raw=function e(){return this.value_},r.toJSON=function e(){return this.get()},r.toString=function e(){return this.name_+"["+this.value_+"]"},r.valueOf=function e(){return be(this.get())},r[t]=function(){return this.valueOf()},n}(Le,Kt),an=le("ObservableValue",on),cn,un=function(e){function t(e){this.dependenciesState_=ln.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ln.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new pn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=fn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||U(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=qt("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?Ge.structural:Ge.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=t.prototype;return n.onBecomeStale_=function e(){Wn(this)},n.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},n.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},n.get=function e(){if(this.isComputing_&&U(32,this.name_,this.derivation),0!==An.inBatch||0!==this.observers_.size||this.keepAlive_){if(zn(this),hn(this)){var t=An.trackingContext;this.keepAlive_&&!t&&(An.trackingContext=this),this.trackAndCompute()&&$n(this),An.trackingContext=t}}else hn(this)&&(this.warnAboutUntrackedRead_(),Un(),this.value_=this.computeValue_(!1),Gn());var n=this.value_;if(dn(n))throw n.cause;return n},n.set=function e(t){if(this.setter_){this.isRunningSetter_&&U(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else U(34,this.name_)},n.trackAndCompute=function e(){var t=this.value_,n=this.dependenciesState_===ln.NOT_TRACKING_,r=this.computeValue_(!0),o=n||dn(t)||dn(r)||!this.equals_(t,r);return o&&(this.value_=r),o},n.computeValue_=function e(t){this.isComputing_=!0;var n=tn(!1),r;if(t)r=mn(this,this.derivation,this.scope_);else if(!0===An.disableErrorBoundaries)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(e){r=new pn(e)}return nn(n),this.isComputing_=!1,r},n.suspend_=function e(){this.keepAlive_||(jn(this),this.value_=void 0)},n.observe_=function e(t,n){var r=this,o=!0,i=void 0;return kr((function(){var e=r.get();if(!o||n){var a=kn();t({observableKind:"computed",debugObjectName:r.name_,type:zo,object:r,newValue:e,oldValue:i}),_n(a)}o=!1,i=e}))},n.warnAboutUntrackedRead_=function e(){},n.toString=function e(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function e(){return be(this.get())},n[e]=function(){return this.valueOf()},t}(cn=Symbol.toPrimitive),sn=le("ComputedValue",un),ln,fn;!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(ln||(ln={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(fn||(fn={}));var pn=function e(t){this.cause=void 0,this.cause=t};function dn(e){return e instanceof pn}function hn(e){switch(e.dependenciesState_){case ln.UP_TO_DATE_:return!1;case ln.NOT_TRACKING_:case ln.STALE_:return!0;case ln.POSSIBLY_STALE_:for(var t=Sn(!0),n=kn(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(sn(a)){if(An.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return _n(n),En(t),!0}if(e.dependenciesState_===ln.STALE_)return _n(n),En(t),!0}}return Pn(e),_n(n),En(t),!1}}function vn(){return null!==An.trackingDerivation}function yn(e){var t}function bn(e){0}function mn(e,t,n){var r=Sn(!0);Pn(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++An.runId;var o=An.trackingDerivation,i;if(An.trackingDerivation=e,An.inBatch++,!0===An.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new pn(e)}return An.inBatch--,An.trackingDerivation=o,On(e),gn(e),En(r),i}function gn(e){}function On(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ln.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var c=n[a];0===c.diffValue_&&(c.diffValue_=1,o!==a&&(n[o]=c),o++),c.dependenciesState_>r&&(r=c.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var u=t[i];0===u.diffValue_&&Fn(u,e),u.diffValue_=0}for(;o--;){var s=n[o];1===s.diffValue_&&(s.diffValue_=0,Vn(s,e))}r!==ln.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function jn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Fn(t[n],e);e.dependenciesState_=ln.NOT_TRACKING_}function wn(e){var t=kn();try{return e()}finally{_n(t)}}function kn(){var e=An.trackingDerivation;return An.trackingDerivation=null,e}function _n(e){An.trackingDerivation=e}function Sn(e){var t=An.allowStateReads;return An.allowStateReads=e,t}function En(e){An.allowStateReads=e}function Pn(e){if(e.dependenciesState_!==ln.UP_TO_DATE_){e.dependenciesState_=ln.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ln.UP_TO_DATE_}}var Cn=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Tn=function e(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},xn=!0,Nn=!1,An=function(){var e=z();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(xn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Tn).version&&(xn=!1),xn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Tn):(setTimeout((function(){Nn||U(35)}),1),new Tn)}();function Rn(){if((An.pendingReactions.length||An.inBatch||An.isRunningReactions)&&U(36),Nn=!0,xn){var e=z();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),An=new Tn}}function Mn(){return An}function Ln(){var e=new Tn;for(var t in e)-1===Cn.indexOf(t)&&(An[t]=e[t]);An.allowStateChanges=!An.enforceActions}function Dn(e){return e.observers_&&e.observers_.size>0}function In(e){return e.observers_}function Vn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Fn(e,t){e.observers_.delete(t),0===e.observers_.size&&Bn(e)}function Bn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,An.pendingUnobservations.push(e))}function Un(){An.inBatch++}function Gn(){if(0==--An.inBatch){Zn();for(var e=An.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof un&&n.suspend_())}An.pendingUnobservations=[]}}function zn(e){bn(e);var t=An.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&An.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&An.inBatch>0&&Bn(e),!1)}function Jn(e){e.lowestObserverState_!==ln.STALE_&&(e.lowestObserverState_=ln.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===ln.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=ln.STALE_})))}function $n(e){e.lowestObserverState_!==ln.STALE_&&(e.lowestObserverState_=ln.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===ln.POSSIBLY_STALE_?t.dependenciesState_=ln.STALE_:t.dependenciesState_===ln.UP_TO_DATE_&&(e.lowestObserverState_=ln.UP_TO_DATE_)})))}function Wn(e){e.lowestObserverState_===ln.UP_TO_DATE_&&(e.lowestObserverState_=ln.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===ln.UP_TO_DATE_&&(e.dependenciesState_=ln.POSSIBLY_STALE_,e.onBecomeStale_())})))}function Hn(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===fn.BREAK){var n=[];Xn(Vr(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name_+"'\n\nYou are entering this break point because derivation '"+e.name_+"' is being traced and '"+t.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof un?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Xn(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+"\t".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach((function(e){return Xn(e,t,n+1)})))}var Kn=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ln.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=fn.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function e(){this.schedule_()},t.schedule_=function e(){this.isScheduled_||(this.isScheduled_=!0,An.pendingReactions.push(this),Zn())},t.isScheduled=function e(){return this.isScheduled_},t.runReaction_=function e(){if(!this.isDisposed_){Un(),this.isScheduled_=!1;var t=An.trackingContext;if(An.trackingContext=this,hn(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}An.trackingContext=t,Gn()}},t.track=function e(t){if(!this.isDisposed_){Un();var n=!1,r;0,this.isRunning_=!0;var o=An.trackingContext;An.trackingContext=this;var i=mn(this,t,void 0);An.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&jn(this),dn(i)&&this.reportExceptionInDerivation_(i.cause),Gn()}},t.reportExceptionInDerivation_=function e(t){var n=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(An.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";An.suppressReactionErrors||console.error(r,t),An.globalReactionErrorHandlers.forEach((function(e){return e(t,n)}))}},t.dispose=function e(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Un(),jn(this),Gn()))},t.getDisposer_=function e(){var t=this.dispose.bind(this);return t[Me]=this,t},t.toString=function e(){return"Reaction["+this.name_+"]"},t.trace=function e(t){void 0===t&&(t=!1),_o(this,t)},e}();function qn(e){return An.globalReactionErrorHandlers.push(e),function(){var t=An.globalReactionErrorHandlers.indexOf(e);t>=0&&An.globalReactionErrorHandlers.splice(t,1)}}var Yn=100,Qn=function e(t){return t()};function Zn(){An.inBatch>0||An.isRunningReactions||Qn(er)}function er(){An.isRunningReactions=!0;for(var e=An.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}An.isRunningReactions=!1}var tr=le("Reaction",Kn);function nr(e){var t=Qn;Qn=function n(r){return e((function(){return t(r)}))}}function rr(){return!1}function or(e){var t,n,r}function ir(e){var t}var ar={type:"report-end",spyReportEnd:!0};function cr(e){}function ur(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var sr="action",lr="action.bound",fr="autoAction",pr="autoAction.bound",dr="<unnamed action>",hr=Qe(sr),vr=Qe(lr,{bound:!0}),yr=Qe(fr,{autoAction:!0}),br=Qe(pr,{autoAction:!0,bound:!0});function mr(e){var t;return function t(n,r){return re(n)?qt(n.name||"<unnamed action>",n,e):re(r)?qt(n,r,e):oe(r)?Ne(n,r,e?yr:hr):oe(n)?xe(Qe(e?fr:sr,{name:n,autoAction:e})):void 0}}var gr=mr(!1);Object.assign(gr,hr);var Or=mr(!0);function jr(e){return Yt(e.name||"<unnamed action>",!1,e,this,void 0)}function wr(e){return re(e)&&!0===e.isMobxAction}function kr(e,t){var n,r;void 0===t&&(t=K);var o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun",i,a;if(!t.scheduler&&!t.delay)a=new Kn(o,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var c=Sr(t),u=!1;a=new Kn(o,(function(){u||(u=!0,c((function(){u=!1,a.isDisposed_||a.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(a)}return a.schedule_(),a.getDisposer_()}Object.assign(Or,yr),gr.bound=xe(vr),Or.bound=xe(br);var _r=function e(t){return t()};function Sr(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:_r}function Er(e,t,n){var r;void 0===n&&(n=K);var o=null!=(r=n.name)?r:"Reaction",i=gr(o,n.onError?Pr(n.onError,t):t),a=!n.scheduler&&!n.delay,c=Sr(n),u=!0,s=!1,l,f,p=n.compareStructural?Ge.structural:n.equals||Ge.default,d=new Kn(o,(function(){u||a?h():s||(s=!0,c(h))}),n.onError,n.requiresObservable);function h(){if(s=!1,!d.isDisposed_){var t=!1;d.track((function(){var n=en(!1,(function(){return e(d)}));t=u||!p(l,n),f=l,l=n})),(u&&n.fireImmediately||!u&&t)&&i(l,f,d),u=!1}}return d.schedule_(),d.getDisposer_()}function Pr(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}var Cr="onBO",Tr="onBUO";function xr(e,t,n){return Ar("onBO",e,t,n)}function Nr(e,t,n){return Ar("onBUO",e,t,n)}function Ar(e,t,n,r){var o="function"==typeof r?Ni(t,n):Ni(t),i=re(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}var Rr="never",Mr="always",Lr="observed";function Dr(e){!0===e.isolateGlobalState&&Rn();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(An.useProxies=t===Mr||t!==Rr&&"undefined"!=typeof Proxy),"ifavailable"===t&&(An.verifyProxies=!0),void 0!==n){var r=n===Mr?Mr:n===Lr;An.enforceActions=r,An.allowStateChanges=!0!==r&&r!==Mr}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(An[t]=!!e[t])})),An.allowStateReads=!An.observableRequiresReaction,e.reactionScheduler&&nr(e.reactionScheduler)}function Ir(e,t,n,r){var o=ge(t),i=bi(e,r)[Me];Un();try{ve(o).forEach((function(e){i.extend_(e,o[e],!n||(!(e in n)||n[e]))}))}finally{Gn()}return e}function Vr(e,t){return Fr(Ni(e,t))}function Fr(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Gr(e.observing_).map(Fr)),t}function Br(e,t){return Ur(Ni(e,t))}function Ur(e){var t={name:e.name_};return Dn(e)&&(t.observers=Array.from(In(e)).map(Ur)),t}function Gr(e){return Array.from(new Set(e))}var zr=0;function Jr(){this.message="FLOW_CANCELLED"}function $r(e){return e instanceof Jr}Jr.prototype=Object.create(Error.prototype);var Wr=rt("flow"),Hr=rt("flow.bound",{bound:!0}),Xr=Object.assign((function e(t,n){if(oe(n))return Ne(t,n,Wr);var r=t,o=r.name||"<unnamed flow>",i=function e(){var t=this,n=arguments,i=++zr,a=gr(o+" - runid: "+i+" - init",r).apply(t,n),c,u=void 0,s=new Promise((function(e,t){var n=0;function r(e){var r;u=void 0;try{r=gr(o+" - runid: "+i+" - yield "+n++,a.next).call(a,e)}catch(e){return t(e)}l(r)}function s(e){var r;u=void 0;try{r=gr(o+" - runid: "+i+" - yield "+n++,a.throw).call(a,e)}catch(e){return t(e)}l(r)}function l(n){if(!re(null==n?void 0:n.then))return n.done?e(n.value):(u=Promise.resolve(n.value)).then(r,s);n.then(l,t)}c=t,r(void 0)}));return s.cancel=gr(o+" - runid: "+i+" - cancel",(function(){try{u&&Kr(u);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(ne,ne),Kr(t),c(new Jr)}catch(e){c(e)}})),s};return i.isMobXFlow=!0,i}),Wr);function Kr(e){re(e.cancel)&&e.cancel()}function qr(e){return e}function Yr(e){return!0===(null==e?void 0:e.isMobXFlow)}function Qr(e,t,n){var r;return ci(e)||ni(e)||an(e)?r=Ai(e):Oi(e)&&(r=Ai(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function Zr(e,t,n){return re(n)?to(e,t,n):eo(e,t)}function eo(e,t){return Ai(e).intercept_(t)}function to(e,t,n){return Ai(e,t).intercept_(n)}function no(e,t){if(void 0===t)return sn(e);if(!1===Oi(e))return!1;if(!e[Me].values_.has(t))return!1;var n=Ni(e,t);return sn(n)}function ro(e){return no(e)}function oo(e,t){return no(e,t)}function io(e,t){return!!e&&(void 0!==t?!!Oi(e)&&e[Me].values_.has(t):Oi(e)||!!e[Me]||De(e)||tr(e)||sn(e))}function ao(e){return io(e)}function co(e,t){return io(e,t)}function uo(e){return Oi(e)?e[Me].keys_():ci(e)||di(e)?Array.from(e.keys()):ni(e)?e.map((function(e,t){return t})):void U(5)}function so(e){return Oi(e)?uo(e).map((function(t){return e[t]})):ci(e)?uo(e).map((function(t){return e.get(t)})):di(e)?Array.from(e.values()):ni(e)?e.slice():void U(6)}function lo(e){return Oi(e)?uo(e).map((function(t){return[t,e[t]]})):ci(e)?uo(e).map((function(t){return[t,e.get(t)]})):di(e)?Array.from(e.entries()):ni(e)?e.map((function(e,t){return[t,e]})):void U(7)}function fo(e,t,n){if(2!==arguments.length||di(e))Oi(e)?e[Me].set_(t,n):ci(e)?e.set(t,n):di(e)?e.add(t):ni(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&U("Invalid index: '"+t+"'"),Un(),t>=e.length&&(e.length=t+1),e[t]=n,Gn()):U(8);else{Un();var r=t;try{for(var o in r)fo(e,o,r[o])}finally{Gn()}}}function po(e,t){Oi(e)?e[Me].delete_(t):ci(e)||di(e)?e.delete(t):ni(e)?("number"!=typeof t&&(t=parseInt(t,10)),e.splice(t,1)):U(9)}function ho(e,t){return Oi(e)?e[Me].has_(t):ci(e)||di(e)?e.has(t):ni(e)?t>=0&&t<e.length:void U(10)}function vo(e,t){if(ho(e,t))return Oi(e)?e[Me].get_(t):ci(e)?e.get(t):ni(e)?e[t]:void U(11)}function yo(e,t,n){if(Oi(e))return e[Me].defineProperty_(t,n);U(39)}function bo(e){if(Oi(e))return e[Me].ownKeys_();U(38)}function mo(e,t,n,r){return re(n)?Oo(e,t,n,r):go(e,t,n)}function go(e,t,n){return Ai(e).observe_(t,n)}function Oo(e,t,n,r){return Ai(e,t).observe_(n,r)}function jo(e,t,n){return e.set(t,n),n}function wo(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!ao(e))return e;if(an(e)||sn(e))return wo(e.get(),t);if(t.has(e))return t.get(e);if(ni(e)){var n=jo(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=wo(e,t)})),n}if(di(e)){var r=jo(t,e,new Set);return e.forEach((function(e){r.add(wo(e,t))})),r}if(ci(e)){var o=jo(t,e,new Map);return e.forEach((function(e,n){o.set(n,wo(e,t))})),o}var i=jo(t,e,{});return bo(e).forEach((function(n){H.propertyIsEnumerable.call(e,n)&&(i[n]=wo(e[n],t))})),i}function ko(e,t){return wo(e,new Map)}function _o(){U("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var o=So(n);if(!o)return U("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===fn.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?fn.BREAK:fn.LOG}function So(e){switch(e.length){case 0:return An.trackingDerivation;case 1:return Ni(e[0]);case 2:return Ni(e[0],e[1])}}function Eo(e,t){void 0===t&&(t=void 0),Un();try{return e.apply(t)}finally{Gn()}}function Po(e,t,n){return 1===arguments.length||t&&"object"==typeof t?To(e,t):Co(e,t,n||{})}function Co(e,t,n){var r;if("number"==typeof n.timeout){var o=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[Me].isDisposed_){if(a(),!n.onError)throw o;n.onError(o)}}),n.timeout)}n.name="When";var i=qt("When-effect",t),a=kr((function(t){var n;en(!1,e)&&(t.dispose(),r&&clearTimeout(r),i())}),n);return a}function To(e,t){var n;var r=new Promise((function(r,o){var i=Co(e,r,we({},t,{onError:o}));n=function e(){i(),o(new Error("WHEN_CANCELLED"))}}));return r.cancel=n,r}function xo(e){return e[Me]}Xr.bound=xe(Hr);var No={has:function e(t,n){return xo(t).has_(n)},get:function e(t,n){return xo(t).get_(n)},set:function e(t,n,r){var o;return!!oe(n)&&(null==(o=xo(t).set_(n,r,!0))||o)},deleteProperty:function e(t,n){var r;return!!oe(n)&&(null==(r=xo(t).delete_(n,!0))||r)},defineProperty:function e(t,n,r){var o;return null==(o=xo(t).defineProperty_(n,r))||o},ownKeys:function e(t){return xo(t).ownKeys_()},preventExtensions:function e(t){U(13)}};function Ao(e,t){var n,r;return Q(),null!=(r=(n=(e=bi(e,t))[Me]).proxy_)?r:n.proxy_=new Proxy(e,No)}function Ro(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Mo(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Lo(e,t){var n=kn();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&((t=r[o](t))&&!t.type&&U(14),t);o++);return t}finally{_n(n)}}function Do(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Io(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Vo(e,t){var n=kn(),r=e.changeListeners_;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);_n(n)}}function Fo(e,t,n){var r=bi(e,n)[Me];Un();try{var o;0,null!=(o=t)||(t=Re(e)),ve(t).forEach((function(e){return r.make_(e,t[e])}))}finally{Gn()}return e}var Bo=Symbol("mobx-keys");function Uo(e,t,n){if(ae(e))return Ir(e,e,t,n);var r=bi(e,n)[Me];if(!e[Bo]){var o=Object.getPrototypeOf(e),i=new Set([].concat(ve(e),ve(o)));i.delete("constructor"),i.delete(Me),ue(o,Bo,i)}Un();try{e[Bo].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))}finally{Gn()}return e}var Go="splice",zo="update",Jo=1e4,$o={get:function e(t,n){var r=t[Me];return n===Me?r:"length"===n?r.getArrayLength_():"string"!=typeof n||isNaN(n)?me(Xo,n)?Xo[n]:t[n]:r.get_(parseInt(n))},set:function e(t,n,r){var o=t[Me];return"length"===n&&o.setArrayLength_(r),"symbol"==typeof n||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function e(){U(15)}},Wo=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Le(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.dehanceValues_=function e(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.intercept_=function e(t){return Mo(this,t)},t.observe_=function e(t,n){return void 0===n&&(n=!1),n&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Io(this,t)},t.getArrayLength_=function e(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function e(t){("number"!=typeof t||isNaN(t)||t<0)&&U("Out of range: "+t);var n=this.values_.length;if(t!==n)if(t>n){for(var r=new Array(t-n),o=0;o<t-n;o++)r[o]=void 0;this.spliceWithArray_(n,0,r)}else this.spliceWithArray_(t,n-t)},t.updateArrayLength_=function e(t,n){t!==this.lastKnownLength_&&U(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&Ti(t+n+1)},t.spliceWithArray_=function e(t,n,r){var o=this;yn(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),n=1===arguments.length?i-t:null==n?0:Math.max(0,Math.min(n,i-t)),void 0===r&&(r=X),Ro(this)){var a=Lo(this,{object:this.proxy_,type:Go,index:t,removedCount:n,added:r});if(!a)return X;n=a.removedCount,r=a.added}if(r=0===r.length?r:r.map((function(e){return o.enhancer_(e,void 0)})),this.legacyMode_){var c=r.length-n;this.updateArrayLength_(i,c)}var u=this.spliceItemsIntoValues_(t,n,r);return 0===n&&0===r.length||this.notifyArraySplice_(t,r,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function e(t,n,r){var o;if(r.length<1e4)return(o=this.values_).splice.apply(o,[t,n].concat(r));var i=this.values_.slice(t,t+n),a=this.values_.slice(t+n);this.values_.length+=r.length-n;for(var c=0;c<r.length;c++)this.values_[t+c]=r[c];for(var u=0;u<a.length;u++)this.values_[t+r.length+u]=a[u];return i},t.notifyArrayChildUpdate_=function e(t,n,r){var o=!this.owned_&&!1,i=Do(this),a=i||o?{observableKind:"array",object:this.proxy_,type:zo,debugObjectName:this.atom_.name_,index:t,newValue:n,oldValue:r}:null;this.atom_.reportChanged(),i&&Vo(this,a)},t.notifyArraySplice_=function e(t,n,r){var o=!this.owned_&&!1,i=Do(this),a=i||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Go,index:t,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom_.reportChanged(),i&&Vo(this,a)},t.get_=function e(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function e(t,n){var r=this.values_;if(t<r.length){yn(this.atom_);var o=r[t],i;if(Ro(this)){var a=Lo(this,{type:zo,object:this.proxy_,index:t,newValue:n});if(!a)return;n=a.newValue}(n=this.enhancer_(n,o))!==o&&(r[t]=n,this.notifyArrayChildUpdate_(t,n,o))}else t===r.length?this.spliceWithArray_(t,0,[n]):U(17,t,r.length)},e}();function Ho(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Q();var o=new Wo(n,t,r,!1);se(o.values_,Me,o);var i=new Proxy(o.values_,$o);if(o.proxy_=i,e&&e.length){var a=tn(!0);o.spliceWithArray_(0,0,e),nn(a)}return i}var Xo={clear:function e(){return this.splice(0)},replace:function e(t){var n=this[Me];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function e(){return this.slice()},splice:function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[Me];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function e(t,n,r){return this[Me].spliceWithArray_(t,n,r)},push:function e(){for(var t=this[Me],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function e(){return this.splice(Math.max(this[Me].values_.length-1,0),1)[0]},shift:function e(){return this.splice(0,1)[0]},unshift:function e(){for(var t=this[Me],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function e(){return An.trackingDerivation&&U(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function e(){An.trackingDerivation&&U(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function e(t){var n=this[Me],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function Ko(e,t){"function"==typeof Array.prototype[e]&&(Xo[e]=t(e))}function qo(e){return function(){var t=this[Me];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Yo(e){return function(t,n){var r=this,o=this[Me],i;return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e]((function(e,o){return t.call(n,e,o,r)}))}}function Qo(e){return function(){var t=this,n=this[Me];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(e,n,r){return o(e,n,r,t)},r[e].apply(r,arguments)}}Ko("concat",qo),Ko("flat",qo),Ko("includes",qo),Ko("indexOf",qo),Ko("join",qo),Ko("lastIndexOf",qo),Ko("slice",qo),Ko("toString",qo),Ko("toLocaleString",qo),Ko("every",Yo),Ko("filter",Yo),Ko("find",Yo),Ko("findIndex",Yo),Ko("flatMap",Yo),Ko("forEach",Yo),Ko("map",Yo),Ko("some",Yo),Ko("reduce",Qo),Ko("reduceRight",Qo);var Zo=le("ObservableArrayAdministration",Wo),ei,ti;function ni(e){return ie(e)&&Zo(e[Me])}var ri={},oi="add",ii="delete",ai=function(e,t){function n(e,t,n){var r=this;void 0===t&&(t=ze),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Me]=ri,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,re(Map)||U(18),this.keysAtom_=Ie("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,en(!0,(function(){r.merge(e)}))}var r=n.prototype;return r.has_=function e(t){return this.data_.has(t)},r.has=function e(t){var n=this;if(!An.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var o=r=new on(this.has_(t),$e,"ObservableMap.key?",!1);this.hasMap_.set(t,o),Nr(o,(function(){return n.hasMap_.delete(t)}))}return r.get()},r.set=function e(t,n){var r=this.has_(t);if(Ro(this)){var o=Lo(this,{type:r?zo:oi,object:this,newValue:n,name:t});if(!o)return this;n=o.newValue}return r?this.updateValue_(t,n):this.addValue_(t,n),this},r.delete=function e(t){var n=this,r;if((yn(this.keysAtom_),Ro(this))&&!Lo(this,{type:ii,object:this,name:t}))return!1;if(this.has_(t)){var o=!1,i=Do(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ii,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return Eo((function(){var e,r;n.keysAtom_.reportChanged(),null==(e=n.hasMap_.get(t))||e.setNewValue_(!1),n.data_.get(t).setNewValue_(void 0),n.data_.delete(t)})),i&&Vo(this,a),!0}return!1},r.updateValue_=function e(t,n){var r=this.data_.get(t);if((n=r.prepareNewValue_(n))!==An.UNCHANGED){var o=!1,i=Do(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:zo,object:this,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Vo(this,a)}},r.addValue_=function e(t,n){var r=this;yn(this.keysAtom_),Eo((function(){var e,o=new on(n,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,o),n=o.value_,null==(e=r.hasMap_.get(t))||e.setNewValue_(!0),r.keysAtom_.reportChanged()}));var o=!1,i=Do(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:oi,object:this,name:t,newValue:n}:null;i&&Vo(this,a)},r.get=function e(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},r.keys=function e(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function e(){var t=this,n=this.keys();return Vi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:t.get(i)}}})},r.entries=function e(){var t=this,n=this.keys();return Vi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,t.get(i)]}}})},r[e]=function(){return this.entries()},r.forEach=function e(t,n){for(var r=Ce(this),o;!(o=r()).done;){var i=o.value,a=i[0],c=i[1];t.call(n,c,a,this)}},r.merge=function e(t){var n=this;return ci(t)&&(t=new Map(t)),Eo((function(){ae(t)?he(t).forEach((function(e){return n.set(e,t[e])})):Array.isArray(t)?t.forEach((function(e){var t=e[0],r=e[1];return n.set(t,r)})):fe(t)?(t.constructor!==Map&&U(19,t),t.forEach((function(e,t){return n.set(t,e)}))):null!=t&&U(20,t)})),this},r.clear=function e(){var t=this;Eo((function(){wn((function(){for(var e=Ce(t.keys()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},r.replace=function e(t){var n=this;return Eo((function(){for(var e=li(t),r=new Map,o=!1,i=Ce(n.data_.keys()),a;!(a=i()).done;){var c=a.value,u;if(!e.has(c))if(n.delete(c))o=!0;else{var s=n.data_.get(c);r.set(c,s)}}for(var l=Ce(e.entries()),f;!(f=l()).done;){var p=f.value,d=p[0],h=p[1],v=n.data_.has(d);if(n.set(d,h),n.data_.has(d)){var y=n.data_.get(d);r.set(d,y),v||(o=!0)}}if(!o)if(n.data_.size!==r.size)n.keysAtom_.reportChanged();else for(var b=n.data_.keys(),m=r.keys(),g=b.next(),O=m.next();!g.done;){if(g.value!==O.value){n.keysAtom_.reportChanged();break}g=b.next(),O=m.next()}n.data_=r})),this},r.toString=function e(){return"[object ObservableMap]"},r.toJSON=function e(){return Array.from(this)},r.observe_=function e(t,n){return Io(this,t)},r.intercept_=function e(t){return Mo(this,t)},je(n,[{key:"size",get:function e(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:t,get:function e(){return"Map"}}]),n}(ei=Symbol.iterator,ti=Symbol.toStringTag),ci=le("ObservableMap",ai),ui,si;function li(e){if(fe(e)||ci(e))return e;if(Array.isArray(e))return new Map(e);if(ae(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return U(21,e)}var fi={},pi=function(e,t){function n(e,t,n){void 0===t&&(t=ze),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[Me]=fi,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,re(Set)||U(22),this.atom_=Ie(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var r=n.prototype;return r.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},r.clear=function e(){var t=this;Eo((function(){wn((function(){for(var e=Ce(t.data_.values()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},r.forEach=function e(t,n){for(var r=Ce(this),o;!(o=r()).done;){var i=o.value;t.call(n,i,i,this)}},r.add=function e(t){var n=this,r;if((yn(this.atom_),Ro(this))&&!Lo(this,{type:oi,object:this,newValue:t}))return this;if(!this.has(t)){Eo((function(){n.data_.add(n.enhancer_(t,void 0)),n.atom_.reportChanged()}));var o=!1,i=Do(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:oi,object:this,newValue:t}:null;0,i&&Vo(this,a)}return this},r.delete=function e(t){var n=this,r;if(Ro(this)&&!Lo(this,{type:ii,object:this,oldValue:t}))return!1;if(this.has(t)){var o=!1,i=Do(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ii,object:this,oldValue:t}:null;return Eo((function(){n.atom_.reportChanged(),n.data_.delete(t)})),i&&Vo(this,a),!0}return!1},r.has=function e(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},r.entries=function e(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return Vi({next:function e(){var o=t;return t+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{done:!0}}})},r.keys=function e(){return this.values()},r.values=function e(){this.atom_.reportObserved();var t=this,n=0,r=Array.from(this.data_.values());return Vi({next:function e(){return n<r.length?{value:t.dehanceValue_(r[n++]),done:!1}:{done:!0}}})},r.replace=function e(t){var n=this;return di(t)&&(t=new Set(t)),Eo((function(){Array.isArray(t)||pe(t)?(n.clear(),t.forEach((function(e){return n.add(e)}))):null!=t&&U("Cannot initialize set from "+t)})),this},r.observe_=function e(t,n){return Io(this,t)},r.intercept_=function e(t){return Mo(this,t)},r.toJSON=function e(){return Array.from(this)},r.toString=function e(){return"[object ObservableSet]"},r[e]=function(){return this.values()},je(n,[{key:"size",get:function e(){return this.atom_.reportObserved(),this.data_.size}},{key:t,get:function e(){return"Set"}}]),n}(ui=Symbol.iterator,si=Symbol.toStringTag),di=le("ObservableSet",pi),hi=Object.create(null),vi="remove",yi=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=bt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Le("ObservableObject.keys"),this.isPlainObject_=ae(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function e(t){return this.values_.get(t).get()},t.setObservablePropValue_=function e(t,n){var r=this.values_.get(t);if(r instanceof un)return r.set(n),!0;if(Ro(this)){var o=Lo(this,{type:zo,object:this.proxy_||this.target_,name:t,newValue:n});if(!o)return null;n=o.newValue}if((n=r.prepareNewValue_(n))!==An.UNCHANGED){var i=Do(this),a=!1,c=i?{type:zo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Vo(this,c)}return!0},t.get_=function e(t){return An.trackingDerivation&&!me(this.target_,t)&&this.has_(t),this.target_[t]},t.set_=function e(t,n,r){return void 0===r&&(r=!1),me(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,n):r?Reflect.set(this.target_,t,n):(this.target_[t]=n,!0):this.extend_(t,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function e(t){if(!An.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(t);return n||(n=new on(t in this.target_,$e,"ObservableObject.key?",!1),this.pendingKeys_.set(t,n)),n.get()},t.make_=function e(t,n){if(!0===n&&(n=this.defaultAnnotation_),!1!==n){if(wi(this,n,t),!(t in this.target_)){var r;if(null!=(r=this.target_[Te])&&r[t])return;U(1,n.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==H;){var i=$(o,t);if(i){var a=n.make_(this,t,i,o);if(0===a)return;if(1===a)break}o=Object.getPrototypeOf(o)}ji(this,n,t)}},t.extend_=function e(t,n,r,o){if(void 0===o&&(o=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,n,o);wi(this,r,t);var i=r.extend_(this,t,n,o);return i&&ji(this,r,t),i},t.defineProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t);if(!o)return o;if(Ro(this)){var i=Lo(this,{object:this.proxy_||this.target_,name:t,type:oi,newValue:n.value});if(!i)return null;var a=i.newValue;n.value!==a&&(n=we({},n,{value:a}))}if(r){if(!Reflect.defineProperty(this.target_,t,n))return!1}else W(this.target_,t,n);this.notifyPropertyAddition_(t,n.value)}finally{Gn()}return!0},t.defineObservableProperty_=function e(t,n,r,o){void 0===o&&(o=!1);try{Un();var i=this.delete_(t);if(!i)return i;if(Ro(this)){var a=Lo(this,{object:this.proxy_||this.target_,name:t,type:oi,newValue:n});if(!a)return null;n=a.newValue}var c=gi(t),u={configurable:!An.safeDescriptors||this.isPlainObject_,enumerable:!0,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,t,u))return!1}else W(this.target_,t,u);var s=new on(n,r,"ObservableObject.key",!1);this.values_.set(t,s),this.notifyPropertyAddition_(t,s.value_)}finally{Gn()}return!0},t.defineComputedProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t),i;if(!o)return o;if(Ro(this))if(!Lo(this,{object:this.proxy_||this.target_,name:t,type:oi,newValue:void 0}))return null;n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var a=gi(t),c={configurable:!An.safeDescriptors||this.isPlainObject_,enumerable:!1,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,c))return!1}else W(this.target_,t,c);this.values_.set(t,new un(n)),this.notifyPropertyAddition_(t,void 0)}finally{Gn()}return!0},t.delete_=function e(t,n){if(void 0===n&&(n=!1),!me(this.target_,t))return!0;var r;if(Ro(this)&&!Lo(this,{object:this.proxy_||this.target_,name:t,type:vi}))return null;try{var o,i;Un();var a=Do(this),c=!1,u=this.values_.get(t),s=void 0,l;if(!u&&a)s=null==(l=$(this.target_,t))?void 0:l.value;if(n){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(u&&(this.values_.delete(t),u instanceof on&&(s=u.value_),Jn(u)),this.keysAtom_.reportChanged(),null==(o=this.pendingKeys_)||null==(i=o.get(t))||i.set(t in this.target_),a){var f={type:vi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:t};0,a&&Vo(this,f)}}finally{Gn()}return!0},t.observe_=function e(t,n){return Io(this,t)},t.intercept_=function e(t){return Mo(this,t)},t.notifyPropertyAddition_=function e(t,n){var r,o,i=Do(this),a=!1;if(i){var c=i?{type:oi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:n}:null;0,i&&Vo(this,c)}null==(r=this.pendingKeys_)||null==(o=r.get(t))||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function e(){return this.keysAtom_.reportObserved(),ve(this.target_)},t.keys_=function e(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function bi(e,t){var n;if(me(e,Me))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",o=new yi(e,new Map,String(r),Rt(t));return ue(e,Me,o),e}var mi=le("ObservableObjectAdministration",yi);function gi(e){return hi[e]||(hi[e]={get:function t(){return this[Me].getObservablePropValue_(e)},set:function t(n){return this[Me].setObservablePropValue_(e,n)}})}function Oi(e){return!!ie(e)&&mi(e[Me])}function ji(e,t,n){var r;null==(r=e.target_[Te])||delete r[n]}function wi(e,t,n){var r,o,i}var ki=0,_i=function e(){};function Si(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}Si(_i,Array.prototype);var Ei=function(e,t,n){function r(t,n,r,o){var i;void 0===r&&(r="ObservableArray"),void 0===o&&(o=!1),i=e.call(this)||this;var a=new Wo(r,n,o,!0);if(a.proxy_=Se(i),se(Se(i),Me,a),t&&t.length){var c=tn(!0);i.spliceWithArray(0,0,t),nn(c)}return i}ke(r,e);var o=r.prototype;return o.concat=function e(){this[Me].atom_.reportObserved();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),n.map((function(e){return ni(e)?e.slice():e})))},o[n]=function(){var e=this,t=0;return Vi({next:function n(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},je(r,[{key:"length",get:function e(){return this[Me].getArrayLength_()},set:function e(t){this[Me].setArrayLength_(t)}},{key:t,get:function e(){return"Array"}}]),r}(_i,Symbol.toStringTag,Symbol.iterator);function Pi(e){return{enumerable:!1,configurable:!0,get:function t(){return this[Me].get_(e)},set:function t(n){this[Me].set_(e,n)}}}function Ci(e){W(Ei.prototype,""+e,Pi(e))}function Ti(e){if(e>ki){for(var t=ki;t<e+100;t++)Ci(t);ki=e}}function xi(e,t,n){return new Ei(e,t,n)}function Ni(e,t){if("object"==typeof e&&null!==e){if(ni(e))return void 0!==t&&U(23),e[Me].atom_;if(di(e))return e[Me];if(ci(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||U(25,t,Ri(e)),n}if(Oi(e)){if(!t)return U(26);var r=e[Me].values_.get(t);return r||U(27,t,Ri(e)),r}if(De(e)||sn(e)||tr(e))return e}else if(re(e)&&tr(e[Me]))return e[Me];U(28)}function Ai(e,t){return e||U(29),void 0!==t?Ai(Ni(e,t)):De(e)||sn(e)||tr(e)||ci(e)||di(e)?e:e[Me]?e[Me]:void U(24,e)}function Ri(e,t){var n;if(void 0!==t)n=Ni(e,t);else{if(wr(e))return e.name;n=Oi(e)||ci(e)||di(e)?Ai(e):Ni(e)}return n.name_}Object.entries(Xo).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&ue(Ei.prototype,t,n)})),Ti(1e3);var Mi=H.toString;function Li(e,t,n){return void 0===n&&(n=-1),Di(e,t,n)}function Di(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Mi.call(e);if(a!==Mi.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Ii(e),t=Ii(t);var c="[object Array]"===a;if(!c){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,s=t.constructor;if(u!==s&&!(re(u)&&u instanceof u&&re(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),c){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Di(e[l],t[l],n-1,r,o))return!1}else{var f=Object.keys(e),p;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!me(t,p=f[l])||!Di(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function Ii(e){return ni(e)?e.slice():fe(e)||ci(e)||pe(e)||di(e)?Array.from(e.entries()):e}function Vi(e){return e[Symbol.iterator]=Fi,e}function Fi(){return this}function Bi(e){return e instanceof Object&&"string"==typeof e.annotationType_&&re(e.make_)&&re(e.extend_)}["Symbol","Map","Set"].forEach((function(e){var t;void 0===z()[e]&&U("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ur,extras:{getDebugName:Ri},$mobx:Me})}.call(this,n(69))},function(e,t){e.exports=Next},function(e,t,n){"use strict";var r=n(4);n.d(t,"a",(function(){return r.TransformStage}))},function(e,t,n){"use strict";var r=n(169),o=n(64);n.d(t,"Designer",(function(){return o.a}));var i=n(121);n.d(t,"DesignerView",(function(){return i.a}));var a=n(26);n.d(t,"DragObjectType",(function(){return a.a})),n.d(t,"isDragAnyObject",(function(){return a.c})),n.d(t,"isDragNodeDataObject",(function(){return a.d})),n.d(t,"isDragNodeObject",(function(){return a.e})),n.d(t,"isShaken",(function(){return a.f}));var c=n(60),u=n(43);n.d(t,"LocationDetailType",(function(){return u.b})),n.d(t,"getRectTarget",(function(){return u.c})),n.d(t,"isChildInline",(function(){return u.d})),n.d(t,"isLocationChildrenDetail",(function(){return u.e})),n.d(t,"isLocationData",(function(){return u.f})),n.d(t,"isRowContainer",(function(){return u.g})),n.d(t,"isVertical",(function(){return u.h}));var s=n(61),l=n(57);n.d(t,"ScrollTarget",(function(){return l.a}));var f=n(62);n.o(f,"LiveEditing")&&n.d(t,"LiveEditing",(function(){return f.LiveEditing})),n.o(f,"LowCodePluginManager")&&n.d(t,"LowCodePluginManager",(function(){return f.LowCodePluginManager})),n.o(f,"Node")&&n.d(t,"Node",(function(){return f.Node})),n.o(f,"SettingField")&&n.d(t,"SettingField",(function(){return f.SettingField})),n.o(f,"SettingTopEntry")&&n.d(t,"SettingTopEntry",(function(){return f.SettingTopEntry})),n.o(f,"TransformStage")&&n.d(t,"TransformStage",(function(){return f.TransformStage})),n.o(f,"contains")&&n.d(t,"contains",(function(){return f.contains})),n.o(f,"getConvertedExtraKey")&&n.d(t,"getConvertedExtraKey",(function(){return f.getConvertedExtraKey})),n.o(f,"getOriginalExtraKey")&&n.d(t,"getOriginalExtraKey",(function(){return f.getOriginalExtraKey})),n.o(f,"isNode")&&n.d(t,"isNode",(function(){return f.isNode})),n.o(f,"isSettingField")&&n.d(t,"isSettingField",(function(){return f.isSettingField}));var p=n(58)},function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return I})),n.d(t,"g",(function(){return V})),n.d(t,"d",(function(){return B})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return U})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return z}));var r=n(0),o=n(9),i=n.n(o),a=n(1),c=n(4),u=n(3),s=n(8),l=n(16),f=n(59),p=n(28),d=n(41),h=n(12),v=n(42),y=n(32),b=["componentName","id","children","props"],m=["componentName","id","children","props"],g,O,j,w,k,_;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(null==e)return{};var n=T(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function T(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var R=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,e),this.document=void 0,this.emitter=void 0,this.isNode=!0,this.id=void 0,this.componentName=void 0,this.props=void 0,this._children=void 0,this._addons={},this._parent=null,this.isInited=!1,this._settingEntry=void 0,this.autoruns=void 0,this._isRGLContainer=!1,this._slotFor=null,this._slots=[],this._conditionGroup=null,this.purged=!1,this.purging=!1,this.status={inPlaceEditing:!1,locking:!1,pseudo:!1},this.document=t,Object(a.makeObservable)(this);var i=n.componentName,u=n.id,s=n.children,p=n.props,d=C(n,b);this.id=t.nextId(u),this.componentName=i,"Leaf"===this.componentName?this.props=new l.a(this,{children:Object(c.isDOMText)(s)||Object(c.isJSExpression)(s)?s:""}):(this.props=new l.a(this,p,d),this._children=new f.a(this,this.initialChildren(s)),this._children.internalInitParent(),this.props.merge(this.upgradeProps(this.initProps(p||{})),this.upgradeProps(d)),this.setupAutoruns()),this.initBuiltinProps(),this.isInited=!0,this.emitter=new o.EventEmitter}return A(e,[{key:"parent",get:function e(){return this._parent}},{key:"children",get:function e(){return this._children||null}},{key:"zLevel",get:function e(){return this._parent?this._parent.zLevel+1:0}},{key:"title",get:function e(){var t=this.getExtraProp("title");if(t){var n=t.getAsString();if(n)return n}return this.componentMeta.title}},{key:"icon",get:function e(){return this.componentMeta.icon}},{key:"settingEntry",get:function e(){return this._settingEntry||(this._settingEntry=this.document.designer.createSettingEntry([this])),this._settingEntry}},{key:"initBuiltinProps",value:function e(){this.props.has(Object(l.b)("hidden"))||this.props.add(!1,Object(l.b)("hidden")),this.props.has(Object(l.b)("title"))||this.props.add("",Object(l.b)("title")),this.props.has(Object(l.b)("isLocked"))||this.props.add(!1,Object(l.b)("isLocked")),this.props.has(Object(l.b)("condition"))||this.props.add(!0,Object(l.b)("condition")),this.props.has(Object(l.b)("conditionGroup"))||this.props.add("",Object(l.b)("conditionGroup")),this.props.has(Object(l.b)("loop"))||this.props.add(void 0,Object(l.b)("loop"))}},{key:"initProps",value:function e(t){return this.document.designer.transformProps(t,this,h.a.Init)}},{key:"upgradeProps",value:function e(t){return this.document.designer.transformProps(t,this,h.a.Upgrade)}},{key:"setupAutoruns",value:function e(){var t,n=this,r=null===(t=this.componentMeta.getMetadata().configure.advanced)||void 0===t?void 0:t.autoruns;!r||r.length<1||(this.autoruns=r.map((function(e){return Object(a.autorun)((function(){e.autorun(n.props.get(e.name,!0))}))})))}},{key:"initialChildren",value:function e(t){if(null==t){var n,e=null===(n=this.componentMeta.getMetadata().configure.advanced)||void 0===n?void 0:n.initialChildren;if(e)return"function"==typeof e?e(this)||[]:e}return t||[]}},{key:"isRGLContainer",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isContainer",value:function e(){return this.isParental()&&this.componentMeta.isContainer}},{key:"isModal",value:function e(){return this.componentMeta.isModal}},{key:"isRoot",value:function e(){return this.document.rootNode===this}},{key:"isPage",value:function e(){return this.isRoot()&&"Page"===this.componentName}},{key:"isComponent",value:function e(){return this.isRoot()&&"Component"===this.componentName}},{key:"isSlot",value:function e(){return null!=this._slotFor&&"Slot"===this.componentName}},{key:"isParental",value:function e(){return!this.isLeaf()}},{key:"isLeaf",value:function e(){return"Leaf"===this.componentName}},{key:"internalSetWillPurge",value:function e(){this.internalSetParent(null),this.document.addWillPurge(this)}},{key:"didDropIn",value:function e(t){var n,r=null===(n=this.componentMeta.getMetadata().configure.advanced)||void 0===n?void 0:n.callbacks;if(null!=r&&r.onNodeAdd){var o=this.internalToShellNode();null==r||r.onNodeAdd.call(o,t.internalToShellNode(),o)}this._parent&&this._parent.didDropIn(t)}},{key:"didDropOut",value:function e(t){var n,r=null===(n=this.componentMeta.getMetadata().configure.advanced)||void 0===n?void 0:n.callbacks;if(null!=r&&r.onNodeRemove){var o=this.internalToShellNode();null==r||r.onNodeRemove.call(o,t.internalToShellNode(),o)}this._parent&&this._parent.didDropOut(t)}},{key:"internalSetParent",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._parent!==t){var r;if(this._parent&&(this.isSlot()?this._parent.unlinkSlot(this):this._parent.children.unlinkChild(this)),n)null===(r=this._parent)||void 0===r||r.didDropOut(this);if(t){if(this._parent=t,this.document.removeWillPurge(this),!this.conditionGroup){var o,i=null===(o=this.getExtraProp("conditionGroup",!1))||void 0===o?void 0:o.getAsString();i&&this.setConditionGroup(i)}n&&t.didDropIn(this)}}}},{key:"internalSetSlotFor",value:function e(t){this._slotFor=t}},{key:"internalToShellNode",value:function e(){return s.g.create(this)}},{key:"slotFor",get:function e(){return this._slotFor}},{key:"remove",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{suppressRemoveEvent:!1};if(this.parent){var o,i,a;if(!r.suppressRemoveEvent)null===(o=this.document.designer.editor)||void 0===o||o.emit("node.remove.topLevel",{node:this,index:null===(i=this.parent)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.indexOf(this)});this.isSlot()?(this.parent.removeSlot(this,n),this.parent.children.delete(this,n,t,{suppressRemoveEvent:!0})):this.parent.children.delete(this,n,t,{suppressRemoveEvent:!0})}}},{key:"lock",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setExtraProp("isLocked",t)}},{key:"isLocked",get:function e(){var t;return!(null===(t=this.getExtraProp("isLocked"))||void 0===t||!t.getValue())}},{key:"select",value:function e(){this.document.selection.select(this.id)}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.document.designer.detecting.capture(this):this.document.designer.detecting.release(this)}},{key:"componentMeta",get:function e(){return this.document.getComponentMeta(this.componentName)}},{key:"propsData",get:function e(){return this.isParental()&&"Fragment"!==this.componentName&&this.props.export(h.a.Serilize).props||null}},{key:"hasSlots",value:function e(){return this._slots.length>0}},{key:"slots",get:function e(){return this._slots}},{key:"conditionGroup",get:function e(){return this._conditionGroup}},{key:"setConditionGroup",value:function e(t){var n,r,o,i,a,c;if(!t)return null===(n=this.getExtraProp("conditionGroup",!1))||void 0===n||n.remove(),void(this._conditionGroup&&(this._conditionGroup.remove(this),this._conditionGroup=null));Object(d.b)(t)||(t=(null===(r=this.prevSibling)||void 0===r||null===(o=r.conditionGroup)||void 0===o?void 0:o.name)===t?this.prevSibling.conditionGroup:(null===(i=this.nextSibling)||void 0===i||null===(a=i.conditionGroup)||void 0===a?void 0:a.name)===t?this.nextSibling.conditionGroup:new d.a(t));this._conditionGroup!==t&&(null===(c=this.getExtraProp("conditionGroup",!0))||void 0===c||c.setValue(t.name),this._conditionGroup&&this._conditionGroup.remove(this),this._conditionGroup=t,t.add(this))}},{key:"isConditionalVisible",value:function e(){var t;return null===(t=this._conditionGroup)||void 0===t?void 0:t.isVisible(this)}},{key:"setConditionalVisible",value:function e(){var t;null===(t=this._conditionGroup)||void 0===t||t.setVisible(this)}},{key:"hasCondition",value:function e(){var t,n=null===(t=this.getExtraProp("condition",!1))||void 0===t?void 0:t.getValue();return null!=n&&""!==n&&!0!==n}},{key:"hasLoop",value:function e(){var t,n=null===(t=this.getExtraProp("loop",!1))||void 0===t?void 0:t.getValue();return null!=n&&(!!Array.isArray(n)||!!Object(c.isJSExpression)(n))}},{key:"wrapWith",value:function e(t){var n;return this.replaceWith(E(E({},t),{},{children:[this.export()]})).children.get(0)}},{key:"replaceWith",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=Object.assign({},r?this.export():{},t),null===(n=this.parent)||void 0===n?void 0:n.replaceChild(this,t)}},{key:"replaceChild",value:function e(t,n){var r;if(null!==(r=this.children)&&void 0!==r&&r.has(t)){var o=this.document.selection.has(t.id);delete n.id;var i=this.document.createNode(n);return this.insertBefore(i,t,!1),t.remove(!1),o&&this.document.selection.select(i.id),i}return t}},{key:"setVisible",value:function e(t){var n;null===(n=this.getExtraProp("hidden"))||void 0===n||n.setValue(!t),this.emitter.emit("visibleChange",t)}},{key:"getVisible",value:function e(){var t;return!(null!==(t=this.getExtraProp("hidden"))&&void 0!==t&&t.getValue())}},{key:"onVisibleChange",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("visibleChange",r),function(){n.emitter.removeListener("visibleChange",r)}}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.query(t,n)||null}},{key:"getExtraProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.get(Object(l.b)(t),n)||null}},{key:"setExtraProp",value:function e(t,n){var r;null===(r=this.getProp(Object(l.b)(t),!0))||void 0===r||r.setValue(n)}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.getProp(t,!1))||void 0===n||n.unset()}},{key:"mergeProps",value:function e(t){this.props.merge(t)}},{key:"setProps",value:function e(t){t instanceof l.a?this.props=t:this.props.import(t)}},{key:"index",get:function e(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"nextSibling",get:function e(){if(!this.parent)return null;var t=this.index;return t<0?null:this.parent.children.get(t+1)}},{key:"prevSibling",get:function e(){if(!this.parent)return null;var t=this.index;return t<1?null:this.parent.children.get(t-1)}},{key:"schema",get:function e(){return this.export(h.a.Save)},set:function e(t){var n=this;Object(a.runInAction)((function(){return n.import(t)}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.componentName,o=t.id,i=t.children,a=t.props,u=C(t,m);this.isSlot()&&Object(y.a)(this.children,(function(e){e.remove(!0,!0)}),(function(e,t){return e.get(t)})),this.isParental()?(this.props.import(a,u),this._children.import(i,n)):this.props.get("children",!0).setValue(Object(c.isDOMText)(i)||Object(c.isJSExpression)(i)?i:"")}},{key:"toData",value:function e(){return this.export()}},{key:"export",value:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a.Save,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object(u.j)(n);var o={componentName:this.componentName};if(n!==h.a.Clone&&(o.id=this.id),n===h.a.Render&&(o.docId=this.document.id),this.isLeaf()){var i;if(!r.bypassChildren)o.children=null===(i=this.props.get("children"))||void 0===i?void 0:i.export(n);return o}var a=this.props.export(n)||{},c=a.props,s=void 0===c?{}:c,f=a.extras,p=E({},f);Object.keys(this._addons).forEach((function(e){var n=t._addons[e];n&&(n.isProp?s[Object(l.b)(e)]=n.exportData():p[e]=n.exportData())}));var d=E(E({},o),{},{props:this.document.designer.transformProps(s,this,n)},this.document.designer.transformProps(p,this,n));return this.isParental()&&this.children.size>0&&!r.bypassChildren&&(d.children=this.children.export(n)),d}},{key:"contains",value:function e(t){return B(this,t)}},{key:"getZLevelTop",value:function e(t){return F(this,t)}},{key:"comparePosition",value:function e(t){return U(this,t)}},{key:"unlinkSlot",value:function e(t){var n=this._slots.indexOf(t);if(n<0)return!1;this._slots.splice(n,1)}},{key:"removeSlot",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._slots.indexOf(t);return r<0||this._slots.splice(r,1),!1}},{key:"addSlot",value:function e(t){var n,r=null==t||null===(n=t.getExtraProp("name"))||void 0===n?void 0:n.getAsString();Object(v.a)(this,r)&&Object(v.b)(this,r),t.internalSetParent(this,!0),this._slots.push(t)}},{key:"isValidComponent",value:function e(){var t,n,r=null===(t=this.document)||void 0===t||null===(n=t.designer)||void 0===n?void 0:n.componentsMap;return!(!r||!r[this.componentName])}},{key:"removeChild",value:function e(t){var n;null===(n=this.children)||void 0===n||n.delete(t)}},{key:"isPurged",get:function e(){return this.purged}},{key:"purge",value:function e(){var t,n;this.purged||(this.purged=!0,null===(t=this.autoruns)||void 0===t||t.forEach((function(e){return e()})),this.props.purge(),null===(n=this.settingEntry)||void 0===n||n.purge())}},{key:"internalPurgeStart",value:function e(){this.purging=!0}},{key:"isPurging",get:function e(){return this.purging}},{key:"canPerformAction",value:function e(t){var n,r,o=this,i;return((null===(n=this.componentMeta)||void 0===n||null===(r=n.availableActions)||void 0===r?void 0:r.filter((function(e){var t=e.condition;return"function"==typeof t?!1!==t(o):!1!==t})).map((function(e){return e.name})))||[]).indexOf(t)>=0}},{key:"isEmpty",value:function e(){return!this.children||this.children.isEmpty()}},{key:"getChildren",value:function e(){return this.children}},{key:"getComponentName",value:function e(){return this.componentName}},{key:"insert",value:function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.insertAfter(t,n,r)}},{key:"insertBefore",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=L(t,this.document);null===(r=this.children)||void 0===r||r.insert(i,n?n.index:null,o)}},{key:"insertAfter",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=L(t,this.document);null===(r=this.children)||void 0===r||r.insert(i,n?n.index+1:null,o)}},{key:"getParent",value:function e(){return this.parent}},{key:"getId",value:function e(){return this.id}},{key:"getIndex",value:function e(){return this.index}},{key:"getNode",value:function e(){return this}},{key:"getRoot",value:function e(){return this.document.rootNode}},{key:"getProps",value:function e(){return this.props}},{key:"onChildrenChange",value:function e(t){var n,r=Object(a.wrapWithEventSwitch)(t);return null===(n=this.children)||void 0===n?void 0:n.onChange(r)}},{key:"mergeChildren",value:function e(t,n,r){var o;null===(o=this.children)||void 0===o||o.mergeChildren(t,n,r)}},{key:"getStatus",value:function e(t){return t&&null!=this.status[t]?this.status[t]:this.status}},{key:"setStatus",value:function e(t,n){this.status.hasOwnProperty(t)&&n!==this.status[t]&&(this.status[t]=n)}},{key:"getDOMNode",value:function e(){var t,n,r,o,i=null===(t=this.document.simulator)||void 0===t||null===(n=t.getComponentInstances(this))||void 0===n?void 0:n[0];if(i)return null===(r=this.document.simulator)||void 0===r||null===(o=r.findDOMNodes(i))||void 0===o?void 0:o[0]}},{key:"getPage",value:function e(){return console.warn("getPage is deprecated, use document instead"),this.document}},{key:"getRGL",value:function e(){var t,n=this.isContainer(),r=this.isEmpty(),o=this.isRGLContainer,i=null===(t=this.getParent())||void 0===t?void 0:t.isRGLContainer,a=o||i&&(!n||!r),c;return{isContainerNode:n,isEmptyNode:r,isRGLContainerNode:o,isRGLNode:i,isRGL:a,rglNode:o?this:a?null==this?void 0:this.getParent():{}}}},{key:"getSuitablePlace",value:function e(t,n){var r,o,i,a,c,u=null===(r=this.document)||void 0===r?void 0:r.focusNode;if(null!=t&&null!==(o=t.componentMeta)&&void 0!==o&&o.isModal)return{container:u,ref:n};if(!n&&this.contains(u)){var s,l,f,p=null===(s=u.componentMeta)||void 0===s||null===(l=s.prototype)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.canDropIn;return void 0===p||!0===p||"function"==typeof p&&p(t)?{container:u}:null}if(this.isRoot()&&this.children){var d,h,v,y=this.children.filter((function(e){var n,r,o;if(!e.isContainer())return!1;var i=null===(n=e.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.canDropIn;return!!(void 0===i||!0===i||"function"==typeof i&&i(t))}))[0];if(y)return{container:y,ref:n};var b=null===(d=this.componentMeta)||void 0===d||null===(h=d.prototype)||void 0===h||null===(v=h.options)||void 0===v?void 0:v.canDropIn;return void 0===b||!0===b||"function"==typeof b&&b(t)?{container:this,ref:n}:null}var m=null===(i=this.componentMeta)||void 0===i||null===(a=i.prototype)||void 0===a||null===(c=a.options)||void 0===c?void 0:c.canDropIn;return this.isContainer()&&(void 0===m||"boolean"==typeof m&&m||"function"==typeof m&&m(t))?{container:this,ref:n}:this.parent?this.parent.getSuitablePlace(t,{index:this.index}):null}},{key:"getAddonData",value:function e(t){var n,r=this._addons[t];return r?r.exportData():null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"registerAddon",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._addons[t]={exportData:n,isProp:r}}},{key:"getRect",value:function e(){var t,n;return this.isRoot()?(null===(n=this.document.simulator)||void 0===n?void 0:n.viewport.contentBounds)||null:(null===(t=this.document.simulator)||void 0===t?void 0:t.computeRect(this))||null}},{key:"getPrototype",value:function e(){return this.componentMeta.prototype}},{key:"setPrototype",value:function e(t){this.componentMeta.prototype=t}},{key:"getIcon",value:function e(){return this.icon}},{key:"toString",value:function e(){return this.id}},{key:"emitPropChange",value:function e(t){var n;null===(n=this.emitter)||void 0===n||n.emit("propChange",t)}},{key:"onPropChange",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("propChange",r),function(){n.emitter.removeListener("propChange",r)}}}]),e}(),M;function L(e,t){var n=e;return D(e)||(n=e.getComponentName?t.createNode({componentName:e.getComponentName()}):t.createNode(e)),n}function D(e){return e&&e.isNode}function I(e){return e&&e.isRoot()}function V(e){var t;return"lowCode"===(null===(t=e.componentMeta)||void 0===t?void 0:t.getMetadata().devMode)}function F(e,t){var n=e.zLevel;if(n<t||t<0)return null;if(n===t)return e;for(var r=e;r&&n-- >t;)r=r.parent;return r}function B(e,t){if(e===t)return!0;if(!e.isParental()||!t.parent)return!1;var n=F(t,e.zLevel);return!!n&&e===n}function U(e,t){if(e===t)return M.TheSame;var n=e.zLevel,r=t.zLevel,o;return n===r?M.BeforeOrAfter:n<r?(o=F(t,n))&&o===e?M.Contains:M.BeforeOrAfter:(o=F(e,r))&&o===t?M.ContainedBy:M.BeforeOrAfter}function G(e,t,n,r){var o;return D(t)&&(r||t.isSlot())&&(t=t.export(h.a.Clone)),o=D(t)?t:e.document.createNode(t),e.children.insert(o,n),o}function z(e,t,n,r){for(var o=n,i,a=[];i=t.pop();)i=G(e,i,o,r),a.push(i),o=i.index;return a}Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],R.prototype,"_parent",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Number),Object(r.d)("design:paramtypes",[])],R.prototype,"zLevel",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],R.prototype,"title",null),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],R.prototype,"initBuiltinProps",null),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object]),Object(r.d)("design:returntype",Object)],R.prototype,"initProps",null),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object]),Object(r.d)("design:returntype",Object)],R.prototype,"upgradeProps",null),Object(r.b)([a.computed,Object(r.d)("design:type","function"==typeof(O=void 0!==p.a&&p.a)?O:Object),Object(r.d)("design:paramtypes",[])],R.prototype,"componentMeta",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],R.prototype,"propsData",null),Object(r.b)([a.obx.shallow,Object(r.d)("design:type",Array)],R.prototype,"_slots",void 0),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],R.prototype,"_conditionGroup",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Number),Object(r.d)("design:paramtypes",[])],R.prototype,"index",null),Object(r.b)([a.obx.shallow,Object(r.d)("design:type","function"==typeof(_=void 0!==c.NodeStatus&&c.NodeStatus)?_:Object)],R.prototype,"status",void 0),function(e){e[e.Contains=16]="Contains",e[e.ContainedBy=8]="ContainedBy",e[e.BeforeOrAfter=2]="BeforeOrAfter",e[e.TheSame=0]="TheSame"}(M||(M={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"h",(function(){return X})),n.d(t,"b",(function(){return u.a})),n.d(t,"j",(function(){return u.h})),n.d(t,"k",(function(){return u.i})),n.d(t,"i",(function(){return u.g})),n.d(t,"d",(function(){return u.d})),n.d(t,"g",(function(){return u.f})),n.d(t,"e",(function(){return S.b})),n.d(t,"f",(function(){return S.c})),n.d(t,"c",(function(){return E.a}));var r=n(0),o=n(1),i=n(4),a=n(9),c=n(13),u=n(14);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=function(){function e(t){p(this,e),this.doc=void 0,this.emitter=new a.EventEmitter,this._selected=[],this.doc=t,Object(o.makeObservable)(this)}return h(e,[{key:"selected",get:function e(){return this._selected}},{key:"select",value:function e(t){1===this._selected.length&&this._selected.indexOf(t)>-1||(this._selected=[t],this.emitter.emit("selectionchange",this._selected))}},{key:"selectAll",value:function e(t){this._selected=t,this.emitter.emit("selectionchange",this._selected)}},{key:"clear",value:function e(){this._selected.length<1||(this._selected=[],this.emitter.emit("selectionchange",this._selected))}},{key:"dispose",value:function e(){for(var t=this._selected.length,n=t;n-- >0;){var r=this._selected[n];this.doc.hasNode(r)||this._selected.splice(n,1)}this._selected.length!==t&&this.emitter.emit("selectionchange",this._selected)}},{key:"add",value:function e(t){this._selected.indexOf(t)>-1||(this._selected.push(t),this.emitter.emit("selectionchange",this._selected))}},{key:"has",value:function e(t){return this._selected.indexOf(t)>-1}},{key:"remove",value:function e(t){var n=this._selected.indexOf(t);n>-1&&(this._selected.splice(n,1),this.emitter.emit("selectionchange",this._selected))}},{key:"containsNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=s(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if((!n||null==a||!a.contains(this.doc.focusNode))&&(null!=a&&a.contains(t)))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getNodes",value:function e(){var t=[],n=s(this._selected),r;try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.doc.getNode(o);i&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],r=s(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if(a&&(t||!a.contains(this.doc.focusNode))){for(var c=n.length,l=!0;c-- >0;){var f=Object(u.c)(n[c],a);if(f===u.b.Contains||f===u.b.TheSame){l=!1;break}f===u.b.ContainedBy&&n.splice(c,1)}l&&n.push(a)}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"onSelectionChange",value:function e(t){var n=this;return this.emitter.on("selectionchange",t),function(){n.emitter.removeListener("selectionchange",t)}}}]),e}();Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Array)],v.prototype,"_selected",void 0);var y=n(8);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var O=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;b(this,e),this.redoer=void 0,this.timeGap=void 0,this.session=void 0,this.records=void 0,this.point=0,this.emitter=new a.EventEmitter,this.asleep=!1,this.currentSerialization={serialize:function e(t){return JSON.stringify(t)},unserialize:function e(t){return JSON.parse(t)}},this.redoer=n,this.timeGap=i,this.session=new j(0,null,this.timeGap),this.records=[this.session],Object(o.reaction)((function(){return t()}),(function(e){r.asleep||Object(o.untracked)((function(){var t=r.currentSerialization.serialize(e);if(r.session.isActive())r.session.log(t);else{r.session.end();var n=r.getState(),o=r.session.cursor+1,i=new j(o,t,r.timeGap);r.session=i,r.records.splice(o,r.records.length-o,i);var a=r.getState();a!==n&&r.emitter.emit("statechange",a)}}))}),{fireImmediately:!0})}return g(e,[{key:"setSerialization",value:function e(t){this.currentSerialization=t}},{key:"hotData",get:function e(){return this.session.data}},{key:"isSavePoint",value:function e(){return this.point!==this.session.cursor}},{key:"sleep",value:function e(){this.asleep=!0}},{key:"wakeup",value:function e(){this.asleep=!1}},{key:"go",value:function e(t){this.session.end();var n=this.session.cursor;if((t=+t)<0?t=0:t>=this.records.length&&(t=this.records.length-1),t!==n){var r=this.records[t],o=r.data;this.sleep();try{this.redoer(this.currentSerialization.unserialize(o)),this.emitter.emit("cursor",o)}catch(e){console.error(e)}this.wakeup(),this.session=r,this.emitter.emit("statechange",this.getState())}}},{key:"back",value:function e(){if(this.session){var t=this.session.cursor-1;this.go(t);var n=o.globalContext.get(o.Editor);n&&n.emit("history.back",t)}}},{key:"forward",value:function e(){if(this.session){var t=this.session.cursor+1;this.go(t);var n=o.globalContext.get(o.Editor);n&&n.emit("history.forward",t)}}},{key:"savePoint",value:function e(){this.session&&(this.session.end(),this.point=this.session.cursor,this.emitter.emit("statechange",this.getState()))}},{key:"getState",value:function e(){var t=this.session.cursor,n=7;return t<=0&&(n-=1),t>=this.records.length-1&&(n-=2),this.point===t&&(n-=4),n}},{key:"onStateChange",value:function e(t){var n=this;return this.emitter.on("statechange",t),function(){n.emitter.removeListener("statechange",t)}}},{key:"onCursor",value:function e(t){var n=this;return this.emitter.on("cursor",t),function(){n.emitter.removeListener("cursor",t)}}},{key:"destroy",value:function e(){this.emitter.removeAllListeners(),this.records=[]}},{key:"isModified",value:function e(){return this.isSavePoint()}},{key:"internalToShellHistory",value:function e(){return new y.d(this)}}]),e}(),j=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;b(this,e),this.cursor=void 0,this.timeGap=void 0,this._data=void 0,this.activeTimer=void 0,this.cursor=t,this.timeGap=r,this.setTimer(),this.log(n)}return g(e,[{key:"data",get:function e(){return this._data}},{key:"log",value:function e(t){this.isActive()&&(this._data=t,this.setTimer())}},{key:"isActive",value:function e(){return null!=this.activeTimer}},{key:"end",value:function e(){this.isActive()&&this.clearTimer()}},{key:"setTimer",value:function e(){var t=this;this.clearTimer(),this.activeTimer=setTimeout((function(){return t.end()}),this.timeGap)}},{key:"clearTimer",value:function e(){this.activeTimer&&clearTimeout(this.activeTimer),this.activeTimer=null}}]),e}(),w=n(41),k=n(59),_=n(18),S=n(16),E=n(12);function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e){if(!e)return[];var t=[];e.componentMeta.isModal&&t.push(e);var n=e.getChildren();return n&&n.forEach((function(e){t=t.concat(N(e))})),t}var A=function(){function e(t){var n=this;P(this,e),this.willDestroy=void 0,this.page=void 0,this.modalNodes=void 0,this.nodeRemoveEvents=void 0,this.emitter=void 0,this.page=t,this.emitter=new a.EventEmitter,this.nodeRemoveEvents={},this.setNodes(),this.hideModalNodes(),this.willDestroy=[t.onNodeCreate((function(e){return n.addNode(e)})),t.onNodeDestroy((function(e){return n.removeNode(e)}))]}return x(e,[{key:"getModalNodes",value:function e(){return this.modalNodes}},{key:"getVisibleModalNode",value:function e(){return this.getModalNodes().find((function(e){return e.getVisible()}))}},{key:"hideModalNodes",value:function e(){this.modalNodes.forEach((function(e){e.setVisible(!1)}))}},{key:"setVisible",value:function e(t){this.hideModalNodes(),t.setVisible(!0)}},{key:"setInvisible",value:function e(t){t.setVisible(!1)}},{key:"onVisibleChange",value:function e(t){var n=this;return this.emitter.on("visibleChange",t),function(){n.emitter.removeListener("visibleChange",t)}}},{key:"onModalNodesChange",value:function e(t){var n=this;return this.emitter.on("modalNodesChange",t),function(){n.emitter.removeListener("modalNodesChange",t)}}},{key:"addNode",value:function e(t){t.componentMeta.isModal&&(this.hideModalNodes(),this.modalNodes.push(t),this.addNodeEvent(t),this.emitter.emit("modalNodesChange"),this.emitter.emit("visibleChange"))}},{key:"removeNode",value:function e(t){if(t.componentMeta.isModal){var n=this.modalNodes.indexOf(t);n>=0&&this.modalNodes.splice(n,1),this.removeNodeEvent(t),this.emitter.emit("modalNodesChange"),t.getVisible()&&this.emitter.emit("visibleChange")}}},{key:"addNodeEvent",value:function e(t){var n=this;this.nodeRemoveEvents[t.getId()]=t.onVisibleChange((function(){n.emitter.emit("visibleChange")}))}},{key:"removeNodeEvent",value:function e(t){this.nodeRemoveEvents[t.getId()]&&(this.nodeRemoveEvents[t.getId()](),delete this.nodeRemoveEvents[t.getId()])}},{key:"setNodes",value:function e(){var t=this,n=N(this.page.getRoot());this.modalNodes=n,this.modalNodes.forEach((function(e){t.addNodeEvent(e)})),this.emitter.emit("modalNodesChange")}}]),e}(),R=n(3),M,L,D,I;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=G(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function G(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var H=function(){function e(t,n){var r,i,c=this;J(this,e),this.rootNode=void 0,this.id=Object(R.F)("doc"),this.selection=new v(this),this.history=void 0,this.modalNodesManager=void 0,this._nodesMap=new Map,this.project=void 0,this.designer=void 0,this.nodes=new Set,this.seqId=0,this.emitter=void 0,this.rootNodeVisitorMap={},this._addons=[],this._drillDownNode=null,this._modalNode=void 0,this._blank=void 0,this.inited=!1,this.willPurgeSpace=[],this.activeNodes=void 0,this._dropLocation=null,this._opened=!1,this._suspensed=!1,Object(o.makeObservable)(this),this.project=t,this.designer=null===(r=this.project)||void 0===r?void 0:r.designer,this.emitter=new a.EventEmitter,n||(this._blank=!0),this.id=(null===(i=t.getSchema())||void 0===i?void 0:i.id)||this.id,this.rootNode=this.createNode(n||{componentName:"Page",id:"root",fileName:""}),this.history=new O((function(){return c.export(E.a.Serilize)}),(function(e){var t;c.import(e,!0),null===(t=c.simulator)||void 0===t||t.rerender()})),this.setupListenActiveNodes(),this.modalNodesManager=new A(this),this.inited=!0}return W(e,[{key:"simulator",get:function e(){return this.project.simulator}},{key:"nodesMap",get:function e(){return this._nodesMap}},{key:"fileName",get:function e(){var t,n;return(null===(t=this.rootNode)||void 0===t||null===(n=t.getExtraProp("fileName",!1))||void 0===n?void 0:n.getAsString())||this.id},set:function e(t){var n,r;null===(n=this.rootNode)||void 0===n||null===(r=n.getExtraProp("fileName",!0))||void 0===r||r.setValue(t)}},{key:"focusNode",get:function e(){if(this._drillDownNode)return this._drillDownNode;var t=o.engineConfig.get("focusNodeSelector");return t&&"function"==typeof t?t(this.rootNode):this.rootNode}},{key:"drillDown",value:function e(t){this._drillDownNode=t}},{key:"modalNode",get:function e(){return this._modalNode}},{key:"currentRoot",get:function e(){return this.modalNode||this.focusNode}},{key:"addWillPurge",value:function e(t){this.willPurgeSpace.push(t)}},{key:"removeWillPurge",value:function e(t){var n=this.willPurgeSpace.indexOf(t);n>-1&&this.willPurgeSpace.splice(n,1)}},{key:"isBlank",value:function e(){return this._blank&&!this.isModified()}},{key:"nextId",value:function e(t){for(var n=t;!n||this.nodesMap.get(n);)n="node_".concat((String(this.id).slice(-10)+(++this.seqId).toString(36)).toLocaleLowerCase());return n}},{key:"getNode",value:function e(t){return this._nodesMap.get(t)||null}},{key:"getNodeCount",value:function e(){var t;return null===(t=this._nodesMap)||void 0===t?void 0:t.size}},{key:"hasNode",value:function e(t){var n=this.getNode(t);return!!n&&!n.isPurged}},{key:"createNode",value:function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o;o=Object(i.isDOMText)(t)||Object(i.isJSExpression)(t)?{componentName:"Leaf",children:t}:t;var a=null;return this.hasNode(null===(n=o)||void 0===n?void 0:n.id)&&(o.id=null),o.id&&((a=this.getNode(o.id))&&a.componentName===o.componentName?(a.parent&&a.internalSetParent(null,!1),a.import(o,!0)):a&&(a=null)),a||(a=new u.a(this,o,{checkId:r})),this._nodesMap.set(a.id,a),this.nodes.add(a),this.emitter.emit("nodecreate",a),a}},{key:"destroyNode",value:function e(t){this.emitter.emit("nodedestroy",t)}},{key:"insertNode",value:function e(t,n,r,o){return Object(u.e)(t,n,r,o)}},{key:"insertNodes",value:function e(t,n,r,o){return Object(u.f)(t,n,r,o)}},{key:"removeNode",value:function e(t){var n,r;"string"==typeof t?(n=t,r=this.getNode(n)):n=(r=t).id,r&&this.internalRemoveAndPurgeNode(r,!0)}},{key:"internalRemoveAndPurgeNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.nodes.has(t)&&t.remove(n)}},{key:"unlinkNode",value:function e(t){this.nodes.delete(t),this._nodesMap.delete(t.id)}},{key:"internalSetDropLocation",value:function e(t){this._dropLocation=t}},{key:"dropLocation",get:function e(){return this._dropLocation}},{key:"wrapWith",value:function e(t){var n=this.selection.getTopNodes();if(n.length<1)return null;var r=this.createNode(t);if(r.isParental()){var o=n[0];return Object(u.e)(o.parent,r,o.index),Object(u.f)(r,n),this.selection.select(r.id),r}return this.removeNode(r),null}},{key:"schema",get:function e(){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.schema}},{key:"import",value:function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null===(n=this._drillDownNode)||void 0===n?void 0:n.id;Object(o.runWithGlobalEventOff)((function(){var e;r.nodes.forEach((function(e){e.isRoot()||r.internalRemoveAndPurgeNode(e,!0)})),null===(e=r.rootNode)||void 0===e||e.import(t,i),r.modalNodesManager=new A(r),a&&r.drillDown(r.getNode(a))}))}},{key:"export",value:function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.a.Serilize;n=Object(R.j)(n);var r=null===(t=this.rootNode)||void 0===t?void 0:t.export(n);if(Array.isArray(null==r?void 0:r.children)&&(null==r?void 0:r.children.length)>0){var o=r.children.filter((function(e){return Object(R.y)(e)})).findIndex((function(e){var t;return null===(t=e.props)||void 0===t?void 0:t.__isTopFixed__}));if(o>0){var i=r.children.splice(o,1);r.children.unshift(i[0])}}return r}},{key:"getNodeSchema",value:function e(t){var n=this.getNode(t);return n?n.schema:null}},{key:"isModified",value:function e(){return this.history.isSavePoint()}},{key:"getComponent",value:function e(t){return this.simulator.getComponent(t)}},{key:"getComponentMeta",value:function e(t){var n=this;return this.designer.getComponentMeta(t,(function(){var e;return(null===(e=n.simulator)||void 0===e?void 0:e.generateComponentMetadata(t))||null}))}},{key:"suspensed",get:function e(){return this._suspensed||!this._opened}},{key:"active",get:function e(){return!this._suspensed}},{key:"actived",get:function e(){return this.active}},{key:"opened",get:function e(){return this._opened}},{key:"setSuspense",value:function e(t){var n;(this._opened||t)&&(this._suspensed=t,null===(n=this.simulator)||void 0===n||n.setSuspense(t),t||this.project.checkExclusive(this))}},{key:"suspense",value:function e(){this.setSuspense(!0)}},{key:"activate",value:function e(){this.setSuspense(!1)}},{key:"open",value:function e(){var t=this._opened;return this._opened=!0,!1===t&&this.designer.postEvent("document-open",this),this._suspensed?this.setSuspense(!1):this.project.checkExclusive(this),this}},{key:"close",value:function e(){this.setSuspense(!0),this._opened=!1}},{key:"remove",value:function e(){this.designer.postEvent("document.remove",{id:this.id}),this.purge(),this.project.removeDocument(this)}},{key:"purge",value:function e(){var t;null===(t=this.rootNode)||void 0===t||t.purge(),this.nodes.clear(),this._nodesMap.clear(),this.rootNode=null}},{key:"checkNesting",value:function e(t,n){var r=this,o;if(Object(c.isDragNodeDataObject)(n))o=Array.isArray(n.data)?n.data:[n.data];else if(Object(c.isDragNodeObject)(n))o=n.nodes;else{if(!Object(u.h)(n)&&!Object(i.isNodeSchema)(n))return console.warn("the dragObject is not in the correct type, dragObject:",n),!0;o=[n]}return o.every((function(e){return r.checkNestingDown(t,e)&&r.checkNestingUp(t,e)}))}},{key:"checkDropTarget",value:function e(t,n){var r=this,o;return(o=Object(c.isDragNodeDataObject)(n)?Array.isArray(n.data)?n.data:[n.data]:n.nodes).every((function(e){return r.checkNestingUp(t,e)}))}},{key:"checkNestingUp",value:function e(t,n){if(Object(u.h)(n)||Object(i.isNodeSchema)(n)){var r=Object(u.h)(n)?n.componentMeta:this.getComponentMeta(n.componentName);if(r)return r.checkNestingUp(n,t)}return!0}},{key:"checkNestingDown",value:function e(t,n){var r;return t.componentMeta.checkNestingDown(t,n)}},{key:"getRoot",value:function e(){return this.rootNode}},{key:"toData",value:function e(t){var n=this.export(E.a.Save),r;return{componentsMap:this.getComponentsMap(t),utils:this.getUtilsMap(),componentsTree:[n]}}},{key:"getHistory",value:function e(){return this.history}},{key:"root",get:function e(){return this.rootNode}},{key:"getAddonData",value:function e(t){var n=this._addons.find((function(e){return e.name===t}));if(n)return n.exportData()}},{key:"exportAddonData",value:function e(){var t={};return this._addons.forEach((function(e){var n=e.exportData();null===n?delete t[e.name]:t[e.name]=n})),t}},{key:"registerAddon",value:function e(t,n){if(["id","params","layout"].indexOf(t)>-1)throw new Error("addon name cannot be id, params, layout");var r=this._addons.findIndex((function(e){return e.name===t}));r>-1&&this._addons.splice(r,1),this._addons.push({exportData:n,name:t})}},{key:"acceptRootNodeVisitor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1?arguments[1]:void 0,r={};t||console.warn("Invalid or empty RootNodeVisitor name.");try{r=n.call(this,this.rootNode),this.rootNodeVisitorMap[t]=r}catch(e){console.error("RootNodeVisitor is not valid."),console.error(e)}return r}},{key:"getRootNodeVisitor",value:function e(t){return this.rootNodeVisitorMap[t]}},{key:"getComponentsMap",value:function e(t){var n=this,r=[],o={},i=U(this._nodesMap.values()),a;try{for(i.s();!(a=i.n()).done;){var c=a.value,u,s=(c||{}).componentName,l,f;if("Slot"!==s)if(!o[s])o[s]=!0,null!==(l=c.componentMeta)&&void 0!==l&&null!==(f=l.npm)&&void 0!==f&&f.package?r.push(F(F({},c.componentMeta.npm),{},{componentName:s})):r.push({devMode:"lowCode",componentName:s})}}catch(e){i.e(e)}finally{i.f()}return Array.isArray(t)&&t.forEach((function(e){if(e&&!o[e]){var t,i=n.getComponentMeta(e);i&&null!==(t=i.npm)&&void 0!==t&&t.package&&r.push(F(F({},null==i?void 0:i.npm),{},{componentName:e}))}})),r}},{key:"getUtilsMap",value:function e(){var t,n,r,o;return null===(t=this.designer)||void 0===t||null===(n=t.editor)||void 0===n||null===(r=n.get("assets"))||void 0===r||null===(o=r.utils)||void 0===o?void 0:o.map((function(e){return{name:e.name,type:e.type||"npm",content:e.npm}}))}},{key:"onNodeCreate",value:function e(t){var n=this,r=Object(o.wrapWithEventSwitch)(t);return this.emitter.on("nodecreate",r),function(){n.emitter.removeListener("nodecreate",r)}}},{key:"onNodeDestroy",value:function e(t){var n=this,r=Object(o.wrapWithEventSwitch)(t);return this.emitter.on("nodedestroy",r),function(){n.emitter.removeListener("nodedestroy",r)}}},{key:"refresh",value:function e(){console.warn("refresh method is deprecated")}},{key:"onRefresh",value:function e(){console.warn("onRefresh method is deprecated")}},{key:"onReady",value:function e(t){var n=this;return this.designer.editor.on("document-open",t),function(){n.designer.editor.removeListener("document-open",t)}}},{key:"setupListenActiveNodes",value:function e(){}}]),e}();function X(e){return e&&e.rootNode}function K(e){return"Page"===(null==e?void 0:e.componentName)}Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Object)],H.prototype,"nodes",void 0),Object(r.b)([o.obx.ref,Object(r.d)("design:type",Object)],H.prototype,"_drillDownNode",void 0),Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Array)],H.prototype,"willPurgeSpace",void 0),Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Array)],H.prototype,"activeNodes",void 0),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,Boolean]),Object(r.d)("design:returntype","function"==typeof(L="undefined"!=typeof T&&T)?L:Object)],H.prototype,"createNode",null),Object(r.b)([o.obx.ref,Object(r.d)("design:type",Object)],H.prototype,"_dropLocation",void 0),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(I=void 0!==i.RootSchema&&i.RootSchema)?I:Object,Object]),Object(r.d)("design:returntype",void 0)],H.prototype,"import",null),Object(r.b)([o.obx.ref,Object(r.d)("design:type",Object)],H.prototype,"_opened",void 0),Object(r.b)([o.obx.ref,Object(r.d)("design:type",Object)],H.prototype,"_suspensed",void 0)},function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return P}));var r=n(0),o=n(1),i=n(4),a=n(3),c=n(18),u=n(12),s,l,f,p,d,h,v,y,b,m,g,O;function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _="___";function S(e){if(!e)return"";var t=e;return e.indexOf(".")>0&&(t=e.split(".")[0]),"___"+t+"___"+e.slice(t.length)}function E(e){return e.replace(new RegExp("".concat("___"),"g"),"")}s=Symbol.iterator;var P=function(){function e(t,n,r){var i=this;j(this,e),this.id=Object(a.F)("props"),this.items=[],this.path=[],this.owner=void 0,this.type="map",this.purged=!1,Object(o.makeObservable)(this),this.owner=t,Array.isArray(n)?(this.type="list",this.items=n.map((function(e,t){return new c.a(i,e.value,e.name||t,e.spread)}))):null!=n&&(this.items=Object.keys(n).map((function(e){return new c.a(i,n[e],e,!1)}))),r&&Object.keys(r).forEach((function(e){i.items.push(new c.a(i,r[e],S(e)))}))}return k(e,[{key:"maps",get:function e(){var t=new Map;return this.items.length>0&&this.items.forEach((function(e){e.key&&t.set(e.key,e)})),t}},{key:"props",get:function e(){return this}},{key:"size",get:function e(){return this.items.length}},{key:"import",value:function e(t,n){var r=this,o=this.items;Array.isArray(t)?(this.type="list",this.items=t.map((function(e,t){return new c.a(r,e.value,e.name||t,e.spread)}))):null!=t?(this.type="map",this.items=Object.keys(t).map((function(e){return new c.a(r,t[e],e)}))):(this.type="map",this.items=[]),n&&Object.keys(n).forEach((function(e){r.items.push(new c.a(r,n[e],S(e)))})),o.forEach((function(e){return e.purge()}))}},{key:"merge",value:function e(t,n){var r=this;Object.keys(t).forEach((function(e){r.query(e,!0).setValue(t[e]),r.query(e,!0).setupItems()})),n&&Object.keys(n).forEach((function(e){r.query(S(e),!0).setValue(n[e]),r.query(S(e),!0).setupItems()}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.Save;if(t=Object(a.j)(t),this.items.length<1)return{};var n={},r={},o={};if("list"===this.type)r=[],this.items.forEach((function(e){var n=e.export(t),i=e.key;i&&"string"==typeof i&&i.startsWith("___")?(i=E(i),o[i]=n):r.push({spread:e.spread,name:i,value:n})}));else{this.items.forEach((function(e){var r=e.key;if(null!=r&&!e.isUnset()&&!e.isVirtual()){var o=e.export(t);null!=o&&(n[r]=o)}}));var i=this.transformToStatic(n);Object.keys(i).forEach((function(e){var t=i[e];"string"==typeof e&&e.startsWith("___")?(e=E(e),o[e]=t):r[e]=t}))}return{props:r,extras:o}}},{key:"transformToStatic",value:function e(t){var n,r,o,i=null===(n=this.owner.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.transducers;return i?(Array.isArray(i)||(i=[i]),t=i.reduce((function(e,t){return t&&"function"==typeof t.toStatic?t.toStatic(e):e}),t)):t}},{key:"query",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.get(t,n)}},{key:"get",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t,o="",i=t.indexOf(".");i>0&&(o=t.slice(i+1))&&(r=t.slice(0,i));var a=this.maps.get(r);return!a&&n&&(a=new c.a(this,c.b,r),this.items.push(a)),a?o?a.get(o,n):a:null}},{key:"delete",value:function e(t){var n=this.items.indexOf(t);n>-1&&(this.items.splice(n,1),t.purge())}},{key:"deleteKey",value:function e(t){var n=this;this.items=this.items.filter((function(e,r){return e.key!==t||(e.purge(),n.items.splice(r,1),!1)}))}},{key:"add",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new c.a(this,t,n,r,o);return this.items.push(i),i}},{key:"has",value:function e(t){return this.maps.has(t)}},{key:s,value:function e(){var t=0,n=this.items,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.items.forEach((function(e){return t(e,e.key)}))}},{key:"map",value:function e(t){return this.items.map((function(e){return t(e,e.key)}))}},{key:"filter",value:function e(t){return this.items.filter((function(e){return t(e,e.key)}))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this.items.forEach((function(e){return e.purge()})))}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.query(t,n)||null}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"getNode",value:function e(){return this.owner}},{key:"toData",value:function e(){var t;return null===(t=this.export())||void 0===t?void 0:t.props}}]),e}();Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Array)],P.prototype,"items",void 0),Object(r.b)([o.computed,Object(r.d)("design:type","function"==typeof(l="undefined"!=typeof Map&&Map)?l:Object),Object(r.d)("design:paramtypes",[])],P.prototype,"maps",null),Object(r.b)([o.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],P.prototype,"size",null),Object(r.b)([o.obx,Object(r.d)("design:type",String)],P.prototype,"type",void 0),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,Object]),Object(r.d)("design:returntype",void 0)],P.prototype,"import",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(d=void 0!==i.PropsMap&&i.PropsMap)?d:Object,"function"==typeof(h=void 0!==i.PropsMap&&i.PropsMap)?h:Object]),Object(r.d)("design:returntype",void 0)],P.prototype,"merge",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[String,Object]),Object(r.d)("design:returntype",Object)],P.prototype,"query",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[String,Object]),Object(r.d)("design:returntype",Object)],P.prototype,"get",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(b=void 0!==c.a&&c.a)?b:Object]),Object(r.d)("design:returntype",void 0)],P.prototype,"delete",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[String]),Object(r.d)("design:returntype",void 0)],P.prototype,"deleteKey",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,Object,Object,Object]),Object(r.d)("design:returntype","function"==typeof(g=void 0!==c.a&&c.a)?g:Object)],P.prototype,"add",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Function]),Object(r.d)("design:returntype",void 0)],P.prototype,"forEach",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Function]),Object(r.d)("design:returntype",Object)],P.prototype,"map",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Function]),Object(r.d)("design:returntype",void 0)],P.prototype,"filter",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],P.prototype,"purge",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[String,Object]),Object(r.d)("design:returntype",Object)],P.prototype,"getProp",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[String]),Object(r.d)("design:returntype",Object)],P.prototype,"getPropValue",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[String,Object]),Object(r.d)("design:returntype",void 0)],P.prototype,"setPropValue",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],P.prototype,"toData",null)},function(e,t,n){"use strict";n.d(t,"f",(function(){return St})),n.d(t,"e",(function(){return qr})),n.d(t,"d",(function(){return io})),n.d(t,"c",(function(){return Wa})),n.d(t,"g",(function(){return Hi})),n.d(t,"a",(function(){return Do})),n.d(t,"b",(function(){return Io})),n.d(t,"h",(function(){return Pc}));var r=n(0),o=n(2),i=n.n(o),a=n(1),c=n(6),u=n.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){var t=m();return function n(){var r=g(e),o;if(t){var i=g(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return y(this,o)}}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var O=function(e){d(n,e);var t=v(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return React.createElement("div",{className:u()("lc-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(w,{area:n,itemClassName:r}))}}]),n}(o.Component),j=O=Object(r.b)([a.observer],O),w=function(e){d(n,e);var t=v(n);function n(){return l(this,n),t.apply(this,arguments)}return p(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName,i=[],a=[],c=[];return n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:r||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):c.push(t)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-top-area-left"},i),React.createElement("div",{className:"lc-top-area-center"},a),React.createElement("div",{className:"lc-top-area-right"},c))}}]),n}(o.Component);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function T(e){var t=A();return function n(){var r=R(e),o;if(t){var i=R(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return x(this,o)}}function x(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}w=Object(r.b)([a.observer],w);var M=function(e){P(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return E(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:u()("lc-left-area",{"lc-area-visible":t.visible})},React.createElement(D,{area:t}))}}]),n}(o.Component),L=M=Object(r.b)([a.observer],M),D=function(e){P(n,e);var t=T(n);function n(){return _(this,n),t.apply(this,arguments)}return E(n,[{key:"render",value:function e(){var t=this.props.area,n=[],r=[];return t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{key:"left-area-".concat(e.name)},e.content);"bottom"===e.align?r.push(t):n.push(t)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-left-area-top"},n),React.createElement("div",{className:"lc-left-area-bottom"},r))}}]),n}(o.Component);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}function G(e,t){return(G=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function z(e){var t=W();return function n(){var r=H(e),o;if(t){var i=H(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return J(this,o)}}function J(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}D=Object(r.b)([a.observer],D);var X=function(e){U(n,e);var t=z(n);function n(){return V(this,n),t.apply(this,arguments)}return B(n,[{key:"componentDidUpdate",value:function e(){var t;null===(t=this.props.area.skeleton.editor.get("designer"))||void 0===t||t.touchOffsetObserver()}},{key:"render",value:function e(){var t,n,r=this.props.area,o=null===(t=r.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,i=o?{width:o}:void 0;return React.createElement("div",{className:u()("lc-left-fixed-pane",{"lc-area-visible":r.visible}),style:i},React.createElement(q,{area:r}))}}]),n}(o.Component),K=X=Object(r.b)([a.observer],X),q=function(e){U(n,e);var t=z(n);function n(){return V(this,n),t.apply(this,arguments)}return B(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(o.Component);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}function ne(e,t){return(ne=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function re(e){var t=ae();return function n(){var r=ce(e),o;if(t){var i=ce(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return oe(this,o)}}function oe(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}q=Object(r.b)([a.observer],q);var ue=function(e){te(n,e);var t=re(n);function n(){var e;Q(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e.focusing=void 0,e.shell=null,e}return ee(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.area,r=function e(t){var r,o,i,a;n.visible&&(null!==(r=t.originalEvent)&&void 0!==r&&null!==(o=r.target)&&void 0!==o&&o.classList.contains("insertion")||(null===(i=t.originalEvent)||void 0===i?void 0:i.target.closest('div[data-keep-visible-while-dragging="true"]'))||n.setVisible(!1))};n.skeleton.editor.on("designer.drag",r),this.dispose=function(){n.skeleton.editor.removeListener("designer.drag",r)},this.focusing=a.focusTracker.create({range:function e(r){var o,i,a,c,u,s,l,f=r.target;if(!f)return!1;if(null!==(o=t.shell)&&void 0!==o&&o.contains(f))return!0;if(null!==(i=document.querySelector(".lc-simulator-content-frame"))&&void 0!==i&&null!==(a=i.contentWindow)&&void 0!==a&&a.document.documentElement.contains(f))return!1;if(null!==(c=document.querySelector(".lc-right-area"))&&void 0!==c&&c.contains(f))return!1;if(null===(u=document.querySelector(".lc-workbench"))||void 0===u||!u.contains(f))return!0;if(null!==(s=document.querySelector(".lc-workbench-body"))&&void 0!==s&&s.contains(f))return!0;var p=null===(l=n.current)||void 0===l?void 0:l.getAssocDocks();return!(!p||null==p||!p.length)&&p.some((function(e){var t;return null===(t=e.getDOMNode())||void 0===t?void 0:t.contains(f)}))},onEsc:function e(){t.props.area.setVisible(!1)},onBlur:function e(){t.props.area.setVisible(!1)}}),this.onEffect()}},{key:"onEffect",value:function e(){var t=this.props.area;if(t.visible){var n,r,o;null===(n=this.focusing)||void 0===n||n.active();var i=null==t||null===(r=t.skeleton)||void 0===r||null===(o=r.leftFixedArea)||void 0===o?void 0:o.container,a=null==i?void 0:i.current;a&&i.unactive(a)}else{var c;null===(c=this.focusing)||void 0===c||c.suspense()}}},{key:"componentDidUpdate",value:function e(){this.onEffect()}},{key:"componentWillUnmount",value:function e(){var t,n;null===(t=this.focusing)||void 0===t||t.purge(),null===(n=this.dispose)||void 0===n||n.call(this)}},{key:"render",value:function e(){var t,n,r=this,o=this.props.area,i=null===(t=o.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,a=i?{width:i}:void 0;return React.createElement("div",{ref:function e(t){r.shell=t},className:u()("lc-left-float-pane",{"lc-area-visible":o.visible}),style:a},React.createElement(le,{area:o}))}}]),n}(o.Component),se=ue=Object(r.b)([a.observer],ue),le=function(e){te(n,e);var t=re(n);function n(){return Q(this,n),t.apply(this,arguments)}return ee(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(o.Component);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}function ye(e,t){return(ye=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function be(e){var t=Oe();return function n(){var r=je(e),o;if(t){var i=je(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return me(this,o)}}function me(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}le=Object(r.b)([a.observer],le);var we=function(e){ve(n,e);var t=be(n);function n(){return pe(this,n),t.apply(this,arguments)}return he(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:u()("lc-toolbar",{"lc-area-visible":t.visible})},React.createElement(_e,{area:t}))}}]),n}(o.Component),ke=we=Object(r.b)([a.observer],we),_e=function(e){ve(n,e);var t=be(n);function n(){return pe(this,n),t.apply(this,arguments)}return he(n,[{key:"render",value:function e(){var t=this.props.area,n=[],r=[],i=[];return t.container.items.forEach((function(e){"center"===e.align?r.push(e.content):"right"===e.align?i.push(e.content):n.push(e.content)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-toolbar-left"},n),React.createElement("div",{className:"lc-toolbar-center"},r),React.createElement("div",{className:"lc-toolbar-right"},i))}}]),n}(o.Component);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&Pe(e.prototype,t),n&&Pe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}function xe(e,t){return(xe=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Ne(e){var t=Me();return function n(){var r=Le(e),o;if(t){var i=Le(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ae(this,o)}}function Ae(e,t){if(t&&("object"===Se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}_e=Object(r.b)([a.observer],_e);var De=function(e){Te(n,e);var t=Ne(n);function n(){return Ee(this,n),t.apply(this,arguments)}return Ce(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:u()("lc-main-area engine-workspacepane")},t.container.items.map((function(e){return e.content})))}}]),n}(o.Component),Ie=De=Object(r.b)([a.observer],De);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){return t&&Be(e.prototype,t),n&&Be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ze(e,t)}function ze(e,t){return(ze=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Je(e){var t=He();return function n(){var r=Xe(e),o;if(t){var i=Xe(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return $e(this,o)}}function $e(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return We(e)}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ke=function(e){Ge(n,e);var t=Je(n);function n(){return Fe(this,n),t.apply(this,arguments)}return Ue(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:u()("lc-bottom-area",{"lc-area-visible":t.visible})},React.createElement(Ye,{area:t}))}}]),n}(o.Component),qe=Ke=Object(r.b)([a.observer],Ke),Ye=function(e){Ge(n,e);var t=Je(n);function n(){return Fe(this,n),t.apply(this,arguments)}return Ue(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(o.Component);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t,n){return t&&et(e.prototype,t),n&&et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}function rt(e,t){return(rt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ot(e){var t=ct();return function n(){var r=ut(e),o;if(t){var i=ut(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return it(this,o)}}function it(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return at(e)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Ye=Object(r.b)([a.observer],Ye);var st=function(e){nt(n,e);var t=ot(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:u()("lc-right-area engine-tabpane",{"lc-area-visible":t.visible})},React.createElement(ft,{area:t}))}}]),n}(o.Component),lt=st=Object(r.b)([a.observer],st),ft=function(e){nt(n,e);var t=ot(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(o.Component);ft=Object(r.b)([a.observer],ft);var pt=n(176),dt=Object(o.createContext)({});function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}function gt(e,t){return(gt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Ot(e){var t=kt();return function n(){var r=_t(e),o;if(t){var i=_t(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jt(this,o)}}function jt(e,t){if(t&&("object"===ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wt(e)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var St=function(e){mt(n,e);var t=Ot(n);function n(e){var r;vt(this,n);var o=(r=t.call(this,e)).props,i=o.config,a=o.components,c;return o.skeleton.buildFromConfig(i,a),r}return bt(n,[{key:"render",value:function e(){var t=this.props,n=t.skeleton,r=t.className,o=t.topAreaItemClassName;return React.createElement("div",{className:u()("lc-workbench",r)},React.createElement(dt.Provider,{value:this.props.skeleton},React.createElement(j,{area:n.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workbench-body"},React.createElement(L,{area:n.leftArea}),React.createElement(se,{area:n.leftFloatArea}),React.createElement(K,{area:n.leftFixedArea}),React.createElement("div",{className:"lc-workbench-center"},React.createElement(ke,{area:n.toolbar}),React.createElement(Ie,{area:n.mainArea}),React.createElement(qe,{area:n.bottomArea})),React.createElement(lt,{area:n.rightArea})),React.createElement(a.TipContainer,null)))}}]),n}(o.Component);function Et(e){return e&&"Widget"===e.type}function Pt(e){return e&&"Divider"===e.type}function Ct(e){return e&&/Dock$/.test(e.type)}function Tt(e){return e&&"DialogDock"===e.type}function xt(e){return e&&"Panel"===e.type}function Nt(e){return e&&"PanelDock"===e.type}St=Object(r.b)([a.observer,Object(r.d)("design:paramtypes",[Object])],St);var At=n(9),Rt=n(3);function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function It(e){return e&&e.setActive}var Vt=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Mt(this,e),this.name=void 0,this.handle=void 0,this.exclusive=void 0,this.checkVisible=void 0,this.defaultSetCurrent=void 0,this.items=[],this.maps={},this._current=null,this.name=t,this.handle=n,this.exclusive=r,this.checkVisible=o,this.defaultSetCurrent=i,Object(a.makeObservable)(this)}return Dt(e,[{key:"current",get:function e(){return this._current}},{key:"visible",get:function e(){return this.checkVisible()}},{key:"active",value:function e(t){var n=t;if(t&&"string"==typeof t&&(n=this.get(t)),It(n)||(n=null),this.exclusive){if(this._current===n)return;this._current&&this._current.setActive(!1),this._current=n}n&&n.setActive(!0)}},{key:"unactive",value:function e(t){var n=t;t&&"string"==typeof t&&(n=this.get(t)),It(n)||(n=null),this._current===n&&(this._current=null),n&&n.setActive(!1)}},{key:"unactiveAll",value:function e(){var t=this;Object.keys(this.maps).forEach((function(e){return t.unactive(e)}))}},{key:"add",value:function e(t){t=this.handle(t);var n=this.get(t.name);if(n===t)return n;var r=n?this.items.indexOf(n):-1;return r>-1?this.items[r]=t:this.items.push(t),this.maps[t.name]=t,vr(t)&&t.setParent(this),this.defaultSetCurrent&&(this._current||this.active(t)),t}},{key:"get",value:function e(t){return this.maps[t]||null}},{key:"getAt",value:function e(t){return this.items[t]||null}},{key:"has",value:function e(t){return Object(Rt.s)(this.maps,t)}},{key:"indexOf",value:function e(t){return this.items.indexOf(t)}},{key:"remove",value:function e(t){var n="string"==typeof t?this.get(t):t;if(!n)return-1;var r=this.items.indexOf(n);return r>-1&&this.items.splice(r,1),delete this.maps[n.name],n===this.current&&(this._current=null),r}}]),e}();Object(r.b)([a.obx.shallow,Object(r.d)("design:type",Array)],Vt.prototype,"items",void 0),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],Vt.prototype,"_current",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],Vt.prototype,"visible",null);var Ft=n(8),Bt=n(11),Ut=n(4);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t,n,r,i){return e||(e={},t&&!r||(e.label=n,n=void 0)),(t||n)&&("object"!==$t(e)||Object(o.isValidElement)(e)||Object(Ut.isI18nData)(e)?(Object(o.isValidElement)(e)&&("svg"===e.type||e.type.getIcon)&&(t||(t=e),r?(e=n,n=null):e=void 0),e={label:e,icon:t,tip:n}):e=zt(zt({},e),{},{icon:t,tip:n})),Object(Ut.isTitleConfig)(e)&&i&&(Object(o.isValidElement)(e)||(e.icon=void 0)),e}var Ht=n(177);function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t,n){return t&&Yt(e.prototype,t),n&&Yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&en(e,t)}function en(e,t){return(en=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function tn(e){var t=on();return function n(){var r=an(e),o;if(t){var i=an(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return nn(this,o)}}function nn(e,t){if(t&&("object"===Xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rn(e)}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var cn=function(e){Zt(n,e);var t=tn(n);function n(e){var r;return qt(this,n),(r=t.call(this,e)).startDrag=void 0,r.canDrag=void 0,r.offset=void 0,r.currentOffset=void 0,r.offEvent=void 0,r.offDragEvent=void 0,r.startOffset=void 0,r.shell=null,r.startDrag=!1,r.canDrag=!1,r.offset=0,r.currentOffset=0,r}return Qt(n,[{key:"componentDidMount",value:function e(){this.offEvent=this.initEvent()}},{key:"componentWillUnmount",value:function e(){this.offEvent&&this.offEvent()}},{key:"onSelectStart",value:function e(t){this.startDrag&&t.preventDefault()}},{key:"onStartMove",value:function e(t){var n=this.props.onDragStart;this.startDrag||n&&n(),this.startDrag=!0,this.canDrag=!0,this.currentOffset=0,this.offDragEvent=this.initDragEvent(),this.startOffset=this.getClientPosition(t)}},{key:"onEndMove",value:function e(){var t=this.props.onDragEnd;this.startDrag&&(this.offDragEvent&&this.offDragEvent(),this.startDrag=!1,this.offset=this.currentOffset),t&&t()}},{key:"onDrag",value:function e(t){var n=this.props,r=n.position,e=n.onDrag,o=n.maxIncrement,i=void 0===o?100:o,a=n.maxDecrement,c=void 0===a?0:a;this.startDrag&&(this.currentOffset="left"===r||"top"===r?this.offset+this.startOffset-this.getClientPosition(t):this.offset+this.getClientPosition(t)-this.startOffset,this.currentOffset<-c?this.currentOffset=-c:this.currentOffset>i&&(this.currentOffset=i),e(this.currentOffset,t))}},{key:"getClientPosition",value:function e(t){var n=this.props.position;return"left"===n||"right"===n?t.clientX:t.clientY}},{key:"initEvent",value:function e(){var t=this.onSelectStart.bind(this);return document.addEventListener("selectstart",t),function(){return document.removeEventListener("selectstart",t)}}},{key:"initDragEvent",value:function e(){var t=this.onDrag.bind(this),n=this.onEndMove.bind(this);return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}}},{key:"getParent",value:function e(){var t;return null===(t=this.shell)||void 0===t?void 0:t.parentElement}},{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=void 0===r?"":r,i=n.position;return React.createElement("div",{ref:function e(n){t.shell=n},className:u()("left"===i||"right"===i?"lc-draggable-line-vertical":"lc-draggable-line-horizontal",Kt({},o,!!o)),onMouseDown:function e(n){return t.onStartMove(n)}})}}]),n}(o.Component);function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sn(e){var t={width:13,height:13};return React.createElement(Rt.e,un({viewBox:"0 0 1024 1024"},e,t),React.createElement("path",{d:"M750.848 28.928l245.248 242.944a66.048 66.048 0 1 1-93.184 93.184l-25.6-19.456-249.6 353.792 78.336 78.336a66.048 66.048 0 0 1-93.184 92.672l-460.8-464.64a66.048 66.048 0 0 1 93.184-93.184l76.8 78.336 354.048-249.856-18.176-18.944a66.048 66.048 0 1 1 93.184-93.184zM380.672 732.416l-91.904-90.88c-74.24 89.6-191.488 219.904-212.736 247.04a419.84 419.84 0 0 0-70.656 128 419.84 419.84 0 0 0 128-70.144c27.136-21.248 157.44-138.496 246.528-214.016z"}))}function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fn(e){return React.createElement(Rt.e,ln({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M160.256 816.64C116.224 872.448 102.4 921.6 102.4 921.6s49.152-13.824 104.96-57.856c22.016-17.408 128-112.64 200.704-174.08l-73.728-73.728c-61.44 72.704-157.184 178.688-174.08 200.704zM648.704 209.408L442.368 355.328l226.304 226.304 145.92-206.336 15.872 15.872c20.992 20.992 54.784 20.992 75.776 0s20.992-54.784 0-75.776l-197.12-197.12c-20.992-20.992-54.784-20.992-75.776 0-20.992 20.992-20.992 54.784 0 75.776l15.36 15.36zM247.808 334.848c-9.728 2.048-18.944 6.656-26.624 14.336-20.992 20.992-20.992 54.784 0 75.776l377.856 377.856c20.992 20.992 54.784 20.992 75.776 0 7.68-7.68 12.288-16.896 14.336-26.624L247.808 334.848z"}),React.createElement("path",{d:"M840.704 879.104c-9.728 0-19.456-3.584-27.136-11.264L155.648 210.432c-14.848-14.848-14.848-39.424 0-54.272 14.848-14.848 39.424-14.848 54.272 0L867.84 814.08c14.848 14.848 14.848 39.424 0 54.272-7.168 7.168-16.896 10.752-27.136 10.752z"}))}function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t,n){return t&&hn(e.prototype,t),n&&hn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bn(e,t)}function bn(e,t){return(bn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function mn(e){var t=jn();return function n(){var r=wn(e),o;if(t){var i=wn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return gn(this,o)}}function gn(e,t){if(t&&("object"===pn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return On(e)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}cn.displayName="DraggableLine",cn.defaultProps={onDrag:function e(){},position:"right",className:"",maxIncrement:100,maxDecrement:0},sn.displayName="Fix",fn.displayName="Float";var kn=function(e){yn(n,e);var t=mn(n);function n(e){var r;return dn(this,n),r=t.call(this,e),Object(a.makeObservable)(On(r)),r}return vn(n,[{key:"setDisplay",value:function e(){var t=this.props.panel,n;t&&t.skeleton.toggleFloatStatus(t)}},{key:"render",value:function e(){var t,n,r,i,a=this.props.panel,c;if("rightArea"===(null===(t=this.props.panel.config)||void 0===t?void 0:t.area))return null;var u=!0;!1===(null==a||null===(n=a.config.props)||void 0===n?void 0:n.canSetFixed)&&(u=!1);var s=null==a||null===(r=a.config.props)||void 0===r?void 0:r.hideTitleBar,l=null==a||null===(i=a.parent)||void 0===i?void 0:i.name,f=a.skeleton[l];return React.createElement(o.Fragment,null,!s&&React.createElement(o.Fragment,null,u&&React.createElement(Bt.Button,{text:!0,className:"lc-pane-icon-fix",onClick:this.setDisplay.bind(this)},"leftFloatArea"===l?React.createElement(sn,null):React.createElement(fn,null)),React.createElement(Bt.Button,{text:!0,className:"lc-pane-icon-close",onClick:function e(){f&&f.setVisible(!1)}},React.createElement(Bt.Icon,{type:"close"}))))}}]),n}(o.Component);Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],kn.prototype,"setDisplay",null);var _n=n(178);function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var En=["dock","className","onClick"];function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){Un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t){if(null==e)return{};var n=xn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xn(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t,n){return t&&An(e.prototype,t),n&&An(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ln(e,t)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Dn(e){var t=Fn();return function n(){var r=Bn(e),o;if(t){var i=Bn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return In(this,o)}}function In(e,t){if(t&&("object"===Sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vn(e)}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gn(e){var t=e.title,n=e.icon,r=e.description,o=e.size,i=e.className,c=e.onClick;return React.createElement(a.Title,{title:Wt(t,n,r),className:u()("lc-dock",i,Un({},"lc-dock-".concat(o),o)),onClick:c})}function zn(e){var t=e.tip;return t&&t.url?React.createElement("div",null,React.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},React.createElement(Bt.Icon,{type:"help",size:"small",className:"lc-help-tip"})),React.createElement(a.Tip,null,t.content)):React.createElement("div",null,React.createElement(Bt.Icon,{type:"help",size:"small",className:"lc-help-tip"}),React.createElement(a.Tip,null,t.content))}var Jn=function(e){Mn(n,e);var t=Dn(n);function n(){var e;Nn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastActived=!1,e}return Rn(n,[{key:"componentDidMount",value:function e(){this.checkActived()}},{key:"componentDidUpdate",value:function e(){this.checkActived()}},{key:"checkActived",value:function e(){var t=this.props.dock;t.actived!==this.lastActived&&(this.lastActived=t.actived,this.lastActived?t.skeleton.postEvent(qr.PANEL_DOCK_ACTIVE,t.name,t):t.skeleton.postEvent(qr.PANEL_DOCK_UNACTIVE,t.name,t))}},{key:"render",value:function e(){var t=this.props,n=t.dock,r=t.className,o=t.onClick,i;return Gn(Cn(Cn({},Tn(t,En)),{},{className:u()(r,{actived:n.actived}),onClick:function e(){o&&o(),n.togglePanel()}}))}}]),n}(o.Component);Jn=Object(r.b)([a.observer],Jn);var $n=function(e){Mn(n,e);var t=Dn(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Rn(n)}(o.Component),Wn=function(e){Mn(n,e);var t=Dn(n);function n(){var e;Nn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=void 0,e.defaultWidth=void 0,e}return Rn(n,[{key:"getDefaultWidth",value:function e(){var t,n,r,o=null===(t=this.props.panel)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width;if(o)return o;if(this.defaultWidth)return this.defaultWidth;var i=null===(r=this.shell)||void 0===r?void 0:r.getParent();return i?(this.defaultWidth=i.offsetWidth,this.defaultWidth):300}},{key:"onDrag",value:function e(t){var n,r,o=this.getDefaultWidth()+t,i=null===(n=this.shell)||void 0===n?void 0:n.getParent();i&&(i.style.width="".concat(o,"px"));var c=a.globalContext.get(a.Editor);null==c||c.emit("dockpane.drag",o)}},{key:"onDragChange",value:function e(t){var n=a.globalContext.get(a.Editor);null==n||n.emit("dockpane.dragchange",t),null==n||n.emit("designer.builtinSimulator.disabledEvents","start"===t)}},{key:"render",value:function e(){var t,n,r,o=this,i=null===(t=this.props.panel.config.props)||void 0===t?void 0:t.enableDrag,a;return"rightArea"===(null===(n=this.props.panel.config)||void 0===n?void 0:n.area)||!i||"leftFixedArea"===(null===(r=this.props.panel)||void 0===r?void 0:r.parent.name)?null:React.createElement(cn,{ref:function e(t){o.shell=t},position:"right",className:"lc-engine-slate-draggable-line-right",onDrag:function e(t){return o.onDrag(t)},onDragStart:function e(){return o.onDragChange("start")},onDragEnd:function e(){return o.onDragChange("end")},maxIncrement:500,maxDecrement:0})}}]),n}(o.Component),Hn=function(e){Mn(n,e);var t=Dn(n);function n(){var e;Nn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return Rn(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?t.skeleton.postEvent(qr.PANEL_SHOW,t.name,t):t.skeleton.postEvent(qr.PANEL_HIDE,t.name,t))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area;if(!r.inited)return null;var i=a.globalContext.get(a.Editor),c=o?"".concat(o,"-").concat(r.name):r.name;return null==i||i.emit("skeleton.panel.toggle",{name:c||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:u()("lc-titled-panel",{hidden:!r.visible}),id:c,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},React.createElement(kn,{panel:r}),React.createElement(qn,{panel:r}),React.createElement("div",{className:"lc-panel-body"},r.body),React.createElement(Wn,{panel:r}))}}]),n}(o.Component);Hn=Object(r.b)([a.observer],Hn);var Xn=function(e){Mn(n,e);var t=Dn(n);function n(){var e;Nn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return Rn(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?(t.skeleton.postEvent(qr.PANEL_SHOW,t.name,t),t.skeleton.postEvent("leftPanel.show",t.name,t)):(t.skeleton.postEvent(qr.PANEL_HIDE,t.name,t),t.skeleton.postEvent("leftPanel.hide",t.name,t)))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area,i=n.hideOperationRow,c=n.hideDragLine;if(!r.inited)return null;var s=a.globalContext.get(a.Editor),l=o?"".concat(o,"-").concat(r.name):r.name;return null==s||s.emit("skeleton.panel.toggle",{name:l||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:u()("lc-panel",{hidden:!r.visible}),id:l,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},!i&&React.createElement(kn,{panel:r}),r.body,!c&&React.createElement(Wn,{panel:r}))}}]),n}(o.Component);Xn=Object(r.b)([a.observer],Xn);var Kn=function(e){Mn(n,e);var t=Dn(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Rn(n,[{key:"render",value:function e(){var t=this.props.container,n=[],r=[];return t.items.forEach((function(e){n.push(React.createElement(qn,{key:e.id,panel:e,className:"lc-tab-title"})),r.push(React.createElement(Xn,{key:e.id,panel:e,hideOperationRow:!0,hideDragLine:!0}))})),React.createElement("div",{className:"lc-tabs"},React.createElement("div",{className:"lc-tabs-title",onClick:function e(n){for(var r=n.currentTarget,o=n.target,i=r.firstElementChild;i&&!i.contains(o);)i=i.nextElementSibling;i&&t.active(i.dataset.name)}},n),React.createElement("div",{className:"lc-tabs-content"},r))}}]),n}(o.Component);Kn=Object(r.b)([a.observer],Kn);var qn=function(e){Mn(n,e);var t=Dn(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Rn(n,[{key:"render",value:function e(){var t=this.props,n=t.panel,r=t.className;return React.createElement("div",{className:u()("lc-panel-title",r,{actived:n.actived}),"data-name":n.name},React.createElement(a.Title,{title:n.title||n.name}),n.help?React.createElement(zn,{tip:n.help}):null)}}]),n}(o.Component);qn=Object(r.b)([a.observer],qn);var Yn=function(e){Mn(n,e);var t=Dn(n);function n(){var e;Nn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e.lastDisabled=!1,e}return Rn(n,[{key:"componentDidMount",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"componentDidUpdate",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"checkVisible",value:function e(){var t=this.props.widget,n=t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible,t.skeleton.postEvent(qr.WIDGET_SHOW,t.name,t))}},{key:"checkDisabled",value:function e(){var t=this.props.widget,n=t.disabled;n!==this.lastDisabled&&(this.lastDisabled=n,this.lastDisabled?t.skeleton.postEvent(qr.WIDGET_DISABLE,t.name,t):t.skeleton.postEvent(qr.WIDGET_ENABLE,t.name,t))}},{key:"render",value:function e(){var t=this.props.widget;return t.visible?t.disabled?React.createElement("div",{className:"lc-widget-disabled"},t.body):t.body:null}}]),n}(o.Component);Yn=Object(r.b)([a.observer],Yn);var Qn=n(31);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t,n){return t&&rr(e.prototype,t),n&&rr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ir=function(){function e(t,n){nr(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.isPanelDock=!0,this.id=void 0,this.name=void 0,this.align=void 0,this.inited=!1,this._body=void 0,this._shell=null,this._visible=!0,this.panelName=void 0,this._panel=void 0,this._disabled=!1,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.content,o=n.contentProps,i=n.panelProps,c=n.name,u=n.props;if(this.name=c,this.id=Object(Rt.F)("dock:".concat(c,"$")),this.panelName=n.panelName||c,this.align=null==u?void 0:u.align,r){var s=er({},i);null==s.title&&u&&(s.title=Wt(u.title,void 0,u.description,!0,!0)),this._panel=this.skeleton.add({type:"Panel",name:this.panelName,props:s,contentProps:o,content:r,area:null==i?void 0:i.area})}null!=u&&u.onInit&&u.onInit.call(this,this)}return or(e,[{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config.props;return this._body=Object(o.createElement)(Jn,er(er({},t),{},{dock:this})),this._body}},{key:"content",get:function e(){var t=this;return Object(o.createElement)(Yn,{widget:this,ref:function e(n){t._shell=n},key:this.id})}},{key:"getDOMNode",value:function e(){return this._shell?Object(Qn.findDOMNode)(this._shell):null}},{key:"visible",get:function e(){return this._visible}},{key:"actived",get:function e(){var t;return(null===(t=this.panel)||void 0===t?void 0:t.visible)||!1}},{key:"panel",get:function e(){return this._panel||this.skeleton.getPanel(this.panelName)}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"togglePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.toggle()}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hidePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!1)}},{key:"showPanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!0)}},{key:"onActiveChange",value:function e(t){var n;return null===(n=this.panel)||void 0===n?void 0:n.onActiveChange(t)}}]),e}(),ar;function cr(e){return e&&e.isPanelDock}function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t,n){return t&&pr(e.prototype,t),n&&pr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],ir.prototype,"_visible",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Boolean),Object(r.d)("design:paramtypes",[])],ir.prototype,"actived",null),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],ir.prototype,"_disabled",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],ir.prototype,"panel",null);var hr=function(){function e(t,n){var r=this;fr(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.name=void 0,this.id=void 0,this.inited=!1,this._actived=!1,this.emitter=new At.EventEmitter,this.isPanel=!0,this.title=void 0,this.help=void 0,this.plain=!1,this.container=void 0,this.parent=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var o=n.name,i=n.content,c=n.props,u=void 0===c?{}:c,s=u.hideTitleBar,l=u.title,f=u.icon,p=u.description,d=u.help;this.name=o,this.id=Object(Rt.F)("pane:".concat(o,"$")),this.title=Wt(l||o,f,p),this.plain=s||!l,this.help=d,Array.isArray(i)&&(i.length,this.container=this.skeleton.createContainer(o,(function(e){return vr(e)?e:r.skeleton.createPanel(e)}),!0,(function(){return r.visible}),!0),i.forEach((function(e){return r.add(e)}))),u.onInit&&u.onInit.call(this,this),i.onInit&&i.onInit.call(this,this)}return dr(e,[{key:"actived",get:function e(){return this._actived}},{key:"visible",get:function e(){if(!this.parent||this.parent.visible){var t=this.config.props;return null!=t&&t.condition?t.condition(this):this._actived}return!1}},{key:"body",get:function e(){if(this.container)return Object(o.createElement)(Kn,{container:this.container});var t=this.config,n=t.content,r=t.contentProps;return Object(Rt.l)(n,sr(sr({},r),{},{editor:Object(Ft.s)(this.skeleton.editor),config:this.config,panel:this,pane:this}))}},{key:"content",get:function e(){var t,n,r=(null===(t=this.config)||void 0===t?void 0:t.area)||(null===(n=this.parent)||void 0===n?void 0:n.name);return this.plain?Object(o.createElement)(Xn,{panel:this,key:this.id,area:r}):Object(o.createElement)(Hn,{panel:this,key:this.id,area:r})}},{key:"setParent",value:function e(t){t!==this.parent&&(this.parent&&this.parent.remove(this),this.parent=t)}},{key:"add",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.add(t)}},{key:"getPane",value:function e(t){var n;return(null===(n=this.container)||void 0===n?void 0:n.get(t))||null}},{key:"remove",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.remove(t)}},{key:"active",value:function e(t){var n;t?null===(n=this.container)||void 0===n||n.active(t):this.setActive(!0)}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"isChildOfFloatArea",value:function e(){var t;return"leftFloatArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"isChildOfFixedArea",value:function e(){var t;return"leftFixedArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"setActive",value:function e(t){var n;if(t!==this._actived)if(t)this.isChildOfFloatArea()?this.skeleton.leftFixedArea.container.unactiveAll():this.isChildOfFixedArea()&&this.skeleton.leftFloatArea.container.unactiveAll(),this._actived=!0,null===(n=this.parent)||void 0===n||n.active(this),this.inited||(this.inited=!0),this.emitter.emit("activechange",!0);else if(this.inited){var r,o;null!==(r=this.parent)&&void 0!==r&&r.name&&this.name.startsWith(this.parent.name)&&(this.inited=!1),this._actived=!1,null===(o=this.parent)||void 0===o||o.unactive(this),this.emitter.emit("activechange",!1)}}},{key:"toggle",value:function e(){this.setActive(!this._actived)}},{key:"hide",value:function e(){this.setActive(!1)}},{key:"show",value:function e(){this.setActive(!0)}},{key:"getAssocDocks",value:function e(){var t=this;return this.skeleton.widgets.filter((function(e){return cr(e)&&e.panelName===t.name}))}},{key:"getSupportedPositions",value:function e(){return["default"]}},{key:"getCurrentPosition",value:function e(){return"default"}},{key:"setPosition",value:function e(){}},{key:"onActiveChange",value:function e(t){var n=this;return this.emitter.on("activechange",t),function(){n.emitter.removeListener("activechange",t)}}}]),e}();function vr(e){return e&&e.isPanel}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t,n){return t&&br(e.prototype,t),n&&br(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],hr.prototype,"inited",void 0),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],hr.prototype,"_actived",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Boolean),Object(r.d)("design:paramtypes",[])],hr.prototype,"actived",null),Object(r.b)([a.computed,Object(r.d)("design:type",Boolean),Object(r.d)("design:paramtypes",[])],hr.prototype,"visible",null),Object(r.b)([a.obx.ref,Object(r.d)("design:type","function"==typeof(ar=void 0!==Vt&&Vt)?ar:Object)],hr.prototype,"parent",void 0);var gr=function(){function e(t,n,r,o){var i=this,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];yr(this,e),this.skeleton=void 0,this.name=void 0,this.exclusive=void 0,this._visible=!0,this.container=void 0,this.lastCurrent=null,this.skeleton=t,this.name=n,this.exclusive=o,Object(a.makeObservable)(this),this.container=t.createContainer(n,r,o,(function(){return i.visible}),c)}return mr(e,[{key:"visible",get:function e(){return this.exclusive?null!=this.container.current:this._visible}},{key:"current",get:function e(){return this.exclusive?this.container.current:null}},{key:"isEmpty",value:function e(){return this.container.items.length<1}},{key:"add",value:function e(t){var n=this.container.get(t.name);return n||this.container.add(t)}},{key:"remove",value:function e(t){return this.container.remove(t)}},{key:"setVisible",value:function e(t){if(this.exclusive){var n=this.container.current;t&&!n?this.container.active(this.lastCurrent||this.container.getAt(0)):n&&(this.lastCurrent=n,this.container.unactive(n))}else this._visible=t}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"removeAction",value:function e(t){return this.remove(t)}}]),e}();function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t,n){return t&&_r(e.prototype,t),n&&_r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object(r.b)([a.obx,Object(r.d)("design:type",Object)],gr.prototype,"_visible",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],gr.prototype,"visible",null);var Er=function(){function e(t,n){kr(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(Rt.F)("widget"),this.name=void 0,this.align=void 0,this._visible=!0,this.inited=!1,this._disabled=!1,this._body=void 0,this.title=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,this.title=o.title||i,o.onInit&&o.onInit.call(this,this)}return Sr(e,[{key:"visible",get:function e(){return this._visible}},{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config,n=t.content,r=t.contentProps;return this._body=Object(Rt.l)(n,jr(jr({},r),{},{config:this.config,editor:Object(Ft.s)(this.skeleton.editor)})),this._body}},{key:"content",get:function e(){return Object(o.createElement)(Yn,{widget:this,key:this.id})}},{key:"getId",value:function e(){return this.id}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}}]),e}();function Pr(e){return e&&e.isWidget}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t,n){return t&&Ar(e.prototype,t),n&&Ar(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],Er.prototype,"_visible",void 0),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],Er.prototype,"inited",void 0),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],Er.prototype,"_disabled",void 0);var Mr=function(){function e(t,n){Nr(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(Rt.F)("dock"),this.name=void 0,this.align=void 0,this._visible=!0,this._disabled=!1,this.inited=!1,this._body=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,o.onInit&&o.onInit.call(this,this)}return Rr(e,[{key:"visible",get:function e(){return this._visible}},{key:"content",get:function e(){return Object(o.createElement)(Yn,{widget:this,key:this.id})}},{key:"body",get:function e(){if(this.inited)return this._body;var t=this.config,n=t.props,r=t.content,i=t.contentProps;return this._body=r?Object(Rt.l)(r,Tr(Tr({},i),{},{config:this.config,editor:Object(Ft.s)(this.skeleton.editor)})):Object(o.createElement)(Gn,n),this.inited=!0,this._body}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"getContent",value:function e(){return this.content}},{key:"getName",value:function e(){return this.name}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}}]),e}();function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t,n){return t&&Ir(e.prototype,t),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Br(e,t)}function Br(e,t){return(Br=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Ur(e){var t=Jr();return function n(){var r=$r(e),o;if(t){var i=$r(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Gr(this,o)}}function Gr(e,t){if(t&&("object"===Lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zr(e)}function zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],Mr.prototype,"_visible",void 0),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],Mr.prototype,"_disabled",void 0);var Wr=function(e){Fr(n,e);var t=Ur(n);function n(e,r){var o;return Dr(this,n),(o=t.call(this,e,r)).isRoot=void 0,o.previous=void 0,o.refer=void 0,o.isRoot=r.isRoot||!1,o}return Vr(n,[{key:"setPrevious",value:function e(t){this.previous=t}},{key:"getPrevious",value:function e(){return this.previous}},{key:"hasBack",value:function e(){return!(!this.previous||this.isRoot)}},{key:"setRefer",value:function e(t,n){this.refer={stage:t,direction:n}}},{key:"setReferRight",value:function e(t){this.setRefer(t,"right")}},{key:"setReferLeft",value:function e(t){this.setRefer(t,"left")}},{key:"getRefer",value:function e(){var t=this.refer;return this.refer=void 0,t}}]),n}(Er),Hr=["dialogProps","balloonProps","panelProps","linkProps"],Xr=["content"],Kr,qr;function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){Zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e,t){if(null==e)return{};var n=to(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function to(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function no(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e,t,n){return t&&ro(e.prototype,t),n&&ro(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.PANEL_DOCK_ACTIVE="skeleton.panel-dock.active",e.PANEL_DOCK_UNACTIVE="skeleton.panel-dock.unactive",e.PANEL_SHOW="skeleton.panel.show",e.PANEL_HIDE="skeleton.panel.hide",e.WIDGET_SHOW="skeleton.widget.show",e.WIDGET_HIDE="skeleton.widget.hide",e.WIDGET_DISABLE="skeleton.widget.disable",e.WIDGET_ENABLE="skeleton.widget.enable"}(qr||(qr={}));var io=function(){function e(t){var n=this;no(this,e),this.editor=void 0,this.panels=new Map,this.containers=new Map,this.leftArea=void 0,this.topArea=void 0,this.toolbar=void 0,this.leftFixedArea=void 0,this.leftFloatArea=void 0,this.rightArea=void 0,this.mainArea=void 0,this.bottomArea=void 0,this.stages=void 0,this.widgets=[],this.editor=t,Object(a.makeObservable)(this),this.leftArea=new gr(this,"leftArea",(function(e){return Pr(e)?e:n.createWidget(e)}),!1),this.topArea=new gr(this,"topArea",(function(e){return Pr(e)?e:n.createWidget(e)}),!1),this.toolbar=new gr(this,"toolbar",(function(e){return Pr(e)?e:n.createWidget(e)}),!1),this.leftFixedArea=new gr(this,"leftFixedArea",(function(e){return vr(e)?e:n.createPanel(e)}),!0),this.leftFloatArea=new gr(this,"leftFloatArea",(function(e){return vr(e)?e:n.createPanel(e)}),!0),this.rightArea=new gr(this,"rightArea",(function(e){return vr(e)?e:n.createPanel(e)}),!1,!0),this.mainArea=new gr(this,"mainArea",(function(e){return Pr(e)?e:n.createWidget(e)}),!0,!0),this.bottomArea=new gr(this,"bottomArea",(function(e){return vr(e)?e:n.createPanel(e)}),!0),this.stages=new gr(this,"stages",(function(e){return Pr(e)?e:new Wr(n,e)})),this.setupPlugins(),this.setupEvents()}return oo(e,[{key:"setupEvents",value:function e(){var t=this;this.editor.on("skeleton.panel.show",(function(e,n){var r,o,i="".concat(e,"-pinned-status-isFloat"),a,c,u,s,l;(null===(r=t.editor)||void 0===r||null===(o=r.getPreference())||void 0===o?void 0:o.contains(i,"skeleton"))&&((null===(c=t.editor)||void 0===c||null===(u=c.getPreference())||void 0===u?void 0:u.get(i,"skeleton"))!==(null==n?void 0:n.isChildOfFloatArea())&&t.toggleFloatStatus(n))}))}},{key:"toggleFloatStatus",value:function e(t){var n,r,o,i="leftFloatArea"===(null==t||null===(n=t.parent)||void 0===n?void 0:n.name);i?(this.leftFloatArea.remove(t),this.leftFixedArea.add(t),this.leftFixedArea.container.active(t)):(this.leftFixedArea.remove(t),this.leftFloatArea.add(t),this.leftFloatArea.container.active(t)),null===(r=this.editor)||void 0===r||null===(o=r.getPreference())||void 0===o||o.set("".concat(t.name,"-pinned-status-isFloat"),!i,"skeleton")}},{key:"buildFromConfig",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&this.editor.init(t,n),this.setupPlugins()}},{key:"setupPlugins",value:function e(){var t=this,n=this.editor,r=n.config,o=n.components,i=void 0===o?{}:o;if(r){var a=r.plugins;a&&Object.keys(a).forEach((function(e){a[e].forEach((function(n){var r=n.pluginKey,o=n.type,a=n.props,c=void 0===a?{}:a,u=n.pluginProps,s={area:e,type:"Widget",name:r,contentProps:u},l=c.dialogProps,f=c.balloonProps,p=c.panelProps,d=c.linkProps,h=eo(c,Hr);s.props=h,l&&(s.dialogProps=l),f&&(s.balloonProps=f),p&&(s.panelProps=p),d&&(s.linkProps=d),"TabPanel"===o?s.type="Panel":/Icon$/.test(o)&&(s.type=o.replace("Icon","Dock")),r in i&&(s.content=i[r]),t.add(s)}))}))}}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor).emit.apply(n,[t].concat(o))}},{key:"createWidget",value:function e(t){return Pr(t)?t:(n=Ct(t=this.parseConfig(t))?Nt(t)?new ir(this,t):new Mr(this,t):Pt(t)?new Er(this,Qr(Qr({},t),{},{type:"Widget",content:Bt.Divider})):xt(t)?this.createPanel(t):new Er(this,t),this.widgets.push(n),n);var n}},{key:"getWidget",value:function e(t){return this.widgets.find((function(e){return e.name===t}))}},{key:"createPanel",value:function e(t){var n=this.parseConfig(t),r=new hr(this,n);return this.panels.set(r.name,r),r}},{key:"getPanel",value:function e(t){return this.panels.get(t)}},{key:"getStage",value:function e(t){return this.stages.container.get(t)}},{key:"createStage",value:function e(t){var n,r=this.add(Qr({name:Object(Rt.F)("stage"),area:"stages"},t));return null==r||null===(n=r.getName)||void 0===n?void 0:n.call(r)}},{key:"createContainer",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new Vt(t,n,r,o,i);return this.containers.set(t,a),a}},{key:"parseConfig",value:function e(t){if(t.parsed)return t;var n=t.content,r=eo(t,Xr);return n&&(Object(Rt.y)(n)&&!Object(o.isValidElement)(n)?Object.keys(n).forEach((function(e){/props$/i.test(e)&&r[e]?r[e]=Qr(Qr({},r[e]),n[e]):r[e]=n[e]})):r.content=n),r.pluginKey=r.name,r.parsed=!0,r}},{key:"add",value:function e(t,n){var r=Qr(Qr({},this.parseConfig(t)),n),o=r.area;switch(o||(o="Panel"===r.type?"leftFloatArea":"Widget"===r.type?"mainArea":"leftArea"),o){case"leftArea":case"left":return this.leftArea.add(r);case"rightArea":case"right":return this.rightArea.add(r);case"topArea":case"top":return this.topArea.add(r);case"toolbar":return this.toolbar.add(r);case"mainArea":case"main":case"center":case"centerArea":return this.mainArea.add(r);case"bottomArea":case"bottom":return this.bottomArea.add(r);case"leftFixedArea":return this.leftFixedArea.add(r);case"leftFloatArea":return this.leftFloatArea.add(r);case"stages":return this.stages.add(r)}}}]),e}();Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(Kr=void 0!==hr&&hr)?Kr:Object]),Object(r.d)("design:returntype",void 0)],io.prototype,"toggleFloatStatus",null);var ao=n(179),co=n(7),uo=n.n(co),so=n(5),lo;function fo(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function po(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fo(i,r,o,a,c,"next",e)}function c(e){fo(i,r,o,a,c,"throw",e)}a(void 0)}))}}function ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e,t,n){return t&&vo(e.prototype,t),n&&vo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bo(e){return e.map((function(e){return e.id})).sort().join(",")}var mo=function(){function e(t){ho(this,e),this.editor=void 0,this.emitter=new At.EventEmitter,this._sessionId="",this._settings=void 0,this.disposeListener=void 0,this.designer=void 0,this.editor=t,Object(a.makeObservable)(this),this.init()}return yo(e,[{key:"length",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.nodes.length}},{key:"componentMeta",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.componentMeta}},{key:"settings",get:function e(){return this._settings}},{key:"init",value:function(){var e=po(uo.a.mark((function e(){var t=this,n,r;return uo.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return n=function e(n){n?t.setup(n.getNodes()):t.setup([])},this.editor.on("designer.selection.change",n),this.disposeListener=function(){t.editor.removeListener("designer.selection.change",n)},o.next=5,this.editor.onceGot(so.Designer);case 5:r=o.sent,this.designer=r,n(r.currentSelection);case 8:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setup",value:function e(t){var n=bo(t);n!==this._sessionId&&(this._sessionId=n,t.length<1?this._settings=void 0:(this.designer||(this.designer=t[0].document.designer),1===t.length?this._settings=t[0].settingEntry:this._settings=this.designer.createSettingEntry(t)))}},{key:"purge",value:function e(){this.disposeListener(),this.emitter.removeAllListeners()}}]),e}();Object(r.b)([a.obx.ref,Object(r.d)("design:type","function"==typeof(lo=void 0!==so.SettingTopEntry&&so.SettingTopEntry)?lo:Object)],mo.prototype,"_settings",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],mo.prototype,"length",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],mo.prototype,"componentMeta",null),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Array]),Object(r.d)("design:returntype",void 0)],mo.prototype,"setup",null);var go=n(107),Oo=n(20),jo=n(180);function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_o(e,t)}function _o(e,t){return(_o=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function So(e){var t=Co();return function n(){var r=To(e),o;if(t){var i=To(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Eo(this,o)}}function Eo(e,t){if(t&&("object"===wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Po(e)}function Po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){Ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t,n){return t&&Mo(e.prototype,t),n&&Mo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Do=Object(o.createContext)({}),Io=function(){function e(){Ro(this,e),this.emitter=new At.EventEmitter,this.currentId=void 0}return Lo(e,[{key:"create",value:function e(t){var n=this,r=null,o=null,i=Object(Rt.F)("popup");return{send:function e(a,c){r=a,o=c,n.currentId===i&&n.popup(No(No({},t),{},{content:a,title:c}))},show:function e(a,c){n.currentId=i,n.popup(No(No({},t),{},{actionKey:c,content:r,title:o}),a)}}}},{key:"popup",value:function e(t,n){var r=this;Promise.resolve().then((function(){r.emitter.emit("popupchange",t,n)}))}},{key:"onPopupChange",value:function e(t){var n=this;return this.emitter.on("popupchange",t),function(){n.emitter.removeListener("popupchange",t)}}},{key:"purge",value:function e(){this.emitter.removeAllListeners()}}]),e}(),Vo=function(e){ko(n,e);var t=So(n);function n(){var e;Ro(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupPipe=e.props.popupPipe||new Io,e}return Lo(n,[{key:"componentWillUnmount",value:function e(){this.popupPipe.purge()}},{key:"render",value:function e(){var t=this.props,n=t.children,r=t.actionKey,o=t.safeId,i=t.popupContainer;return React.createElement(Do.Provider,{value:this.popupPipe},n,React.createElement(Fo,{key:"pop".concat(r),safeId:o,popupContainer:i}))}}]),n}(o.Component),Fo=function(e){ko(n,e);var t=So(n);function n(){var e;Ro(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupContainerId=Object(Rt.F)("popupContainer"),e.state={visible:!1,offsetX:-300},e.dispose=e.context.onPopupChange((function(t,n){var r=No(No({},t),{},{visible:!0});if(n){var o=n.getBoundingClientRect();r.pos={top:o.top,height:o.height}}e.setState(r)})),e.onClose=function(){e.setState({visible:!1})},e}return Lo(n,[{key:"componentDidMount",value:function e(){var t;(document.documentElement.clientWidth||document.body.clientWidth)>=1860&&this.setState({offsetX:-400})}},{key:"componentWillUnmount",value:function e(){this.dispose()}},{key:"render",value:function e(){var t=this,n=this.state,r=n.content,o=n.visible,i=n.title,a=n.actionKey,c=n.pos,u=n.offsetX;if(!o)return null;var s=!0;setTimeout((function(){s=!1}),10);var l=Object(Rt.F)("ball");return React.createElement(Bt.Drawer,{width:360,visible:o,offset:[u,0],hasMask:!1,onVisibleChange:function e(n,r){s||n||"closeClick"!==r||t.setState({visible:!1})},trigger:React.createElement("div",{className:"lc-popup-placeholder",style:c}),triggerType:"click",canCloseByOutSideClick:!0,animation:!1,onClose:this.onClose,id:this.props.safeId,safeNode:l,closeable:!0,container:this.props.popupContainer},React.createElement("div",{className:"lc-ballon-title"},i),React.createElement("div",{className:"lc-ballon-content"},React.createElement(Vo,{actionKey:a,safeId:l,popupContainer:this.popupContainerId},React.createElement(Bt.ConfigProvider,{popupContainer:this.popupContainerId},r))),React.createElement("div",{id:this.popupContainerId}),React.createElement("div",{id:"engine-variable-setter-dialog"}),React.createElement("div",{id:"engine-popup-container"}))}}]),n}(o.PureComponent);function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e,t,n){return t&&Go(e.prototype,t),n&&Go(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$o(e,t)}function $o(e,t){return($o=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Wo(e){var t=Ko();return function n(){var r=qo(e),o;if(t){var i=qo(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ho(this,o)}}function Ho(e,t){if(t&&("object"===Bo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xo(e)}function Xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ko(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Fo.contextType=Do;var Yo=function(e){Jo(n,e);var t=Wo(n);function n(){return Uo(this,n),t.apply(this,arguments)}return zo(n,[{key:"render",value:function e(){var t=this.props,n=t.position,r=t.theme,i=t.children;return o.createElement("div",{style:{display:"none"},"data-role":"tip","data-position":n,"data-theme":r},i)}}]),n}(o.Component);function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(e,t,n){return t&&ei(e.prototype,t),n&&ei(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ni(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ri(e,t)}function ri(e,t){return(ri=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function oi(e){var t=ci();return function n(){var r=ui(e),o;if(t){var i=ui(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ii(this,o)}}function ii(e,t){if(t&&("object"===Qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ai(e)}function ai(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Yo.displayName="InlineTip",Yo.defaultProps={position:"auto",theme:"black"};var si=function(e){ni(n,e);var t=oi(n);function n(e){var r;return Zo(this,n),(r=t.call(this,e)).state={collapsed:r.props.collapsed,display:r.props.defaultDisplay||"inline",hasError:!1},r.toggleExpand=function(){var e=r.props.onExpandChange,t=!r.state.collapsed;r.setState({collapsed:t}),e&&e(!t)},r.body=null,r.dispose=void 0,r.handleClear=r.handleClear.bind(ai(r)),r.clickHandler=r.clickHandler.bind(ai(r)),r}return ti(n,[{key:"deployBlockTesting",value:function e(){var t=this;this.dispose&&this.dispose();var n=this.body;if(n){var r=function e(){var r=n.firstElementChild;r&&r.classList.contains("lc-block-setter")?t.setState({display:"block"}):t.setState({display:"inline"})},o=new MutationObserver(r);r(),o.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),this.dispose=function(){return o.disconnect()}}}},{key:"handleClear",value:function e(t){t.stopPropagation(),this.props.onClear&&this.props.onClear()}},{key:"componentDidMount",value:function e(){var t=this.props.defaultDisplay;t&&"inline"!==t||this.deployBlockTesting()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose()}},{key:"getTipContent",value:function e(t,n){var r=React.createElement("div",null,React.createElement("div",null,"\u5c5e\u6027\uff1a",t));return Object(Oo.isObject)(n)?r=React.createElement("div",null,React.createElement("div",null,"\u5c5e\u6027\uff1a",t),React.createElement("div",null,"\u8bf4\u660e\uff1a",n.content)):n&&(r=React.createElement("div",null,React.createElement("div",null,"\u5c5e\u6027\uff1a",t),React.createElement("div",null,"\u8bf4\u660e\uff1a",n))),r}},{key:"clickHandler",value:function e(t){var n=this.props,r=n.editor,o=n.name,i=n.title,a=n.meta;null==r||r.emit("setting.setter.field.click",{name:o,title:i,meta:a,event:t})}},{key:"render",value:function e(){var t=this,n;if(this.state.hasError)return null;var r=this.props,o=r.className,i=r.children,c=r.meta,s=r.title,l=r.valueState,f=r.name,p=r.tip,d=this.state,h=d.display,v=d.collapsed,y="accordion"===h,b="";"object"===Qo(c)?b="".concat((null==c?void 0:c.package)||"","-").concat(c.componentName||""):"string"==typeof c&&(b=c);var m="".concat(b,"-").concat(f||s["en-US"]||s["zh-CN"]),g=this.getTipContent(f,p);return React.createElement("div",{className:u()("lc-field lc-".concat(h,"-field"),o,{"lc-field-is-collapsed":y&&v}),id:m},"plain"!==h&&React.createElement("div",{className:"lc-field-head",onClick:y?this.toggleExpand:void 0},React.createElement("div",{className:"lc-field-title"},(this.handleClear,null),React.createElement(a.Title,{title:s||"",onClick:this.clickHandler}),React.createElement(Yo,{position:"top"},g)),y&&React.createElement(Bt.Icon,{className:"lc-field-icon",type:"arrow-up",size:"xs"})),React.createElement("div",{key:"body",ref:function e(n){t.body=n},className:"lc-field-body"},i))}}],[{key:"getDerivedStateFromError",value:function e(){return{hasError:!0}}}]),n}(o.Component);function li(){return null}var fi=function(e){ni(n,e);var t=oi(n);function n(){var e;Zo(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).pipe=void 0,e}return ti(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=n.children,i=n.title,c=n.width;this.pipe||(this.pipe=this.context.create({width:c}));var s=i&&React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:i}));return this.pipe.send(React.createElement("div",{className:"lc-field-body"},o),s),React.createElement("div",{className:u()("lc-field lc-popup-field",r)},i&&React.createElement("div",{className:"lc-field-head",onClick:function e(n){t.pipe.show(n.target)}},React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:i})),React.createElement(Bt.Icon,{className:"lc-field-icon",type:"arrow-left",size:"xs"})))}}]),n}(o.Component);fi.contextType=Do,fi.defaultProps={width:300};var pi=function(e){ni(n,e);var t=oi(n);function n(){return Zo(this,n),t.apply(this,arguments)}return ti(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,o=t.stageName,i=u()("lc-field","lc-entry-field",r);return React.createElement("div",{className:i},React.createElement("div",{className:"lc-field-head","data-stage-target":o},React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:n||""})),React.createElement(Bt.Icon,{className:"lc-field-icon",type:"arrow-right",size:"xs"})))}}]),n}(o.Component),di=function(e){ni(n,e);var t=oi(n);function n(){return Zo(this,n),t.apply(this,arguments)}return ti(n,[{key:"render",value:function e(){var t=this.props,n=t.className,r=t.children;return React.createElement("div",{className:u()("lc-field lc-plain-field",n)},React.createElement("div",{className:"lc-field-body"},r))}}]),n}(o.Component);function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e,t,n){return"popup"===n?Object(o.createElement)(fi,e,t):"entry"===n?Object(o.createElement)(pi,e,t):"plain"!==n&&e.title?Object(o.createElement)(si,vi(vi({},e),{},{defaultDisplay:n}),t):Object(o.createElement)(di,e,t)}var mi=n(123),gi=n(124),Oi=Object(a.createIntl)({"en-US":mi,"zh-CN":gi}),ji=Oi.intl,wi=Oi.intlNode,ki=Oi.getLocale,_i=Oi.setLocale,Si,Ei,Pi,Ci;function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e,t,n){return t&&Mi(e.prototype,t),n&&Mi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Di(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ii(e,t)}function Ii(e,t){return(Ii=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Vi(e){var t=Ui();return function n(){var r=Gi(e),o;if(t){var i=Gi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Fi(this,o)}}function Fi(e,t){if(t&&("object"===Ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bi(e)}function Bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ui(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function zi(e){return!!e&&null==e.prototype;var t}function Ji(e){return Object(Ut.isJSSlot)(e)?!1!==e.visible&&Array.isArray(e.value)&&e.value.length>0:null!=e}var $i=((Si=function(e){Di(n,e);var t=Vi(n);function n(e){var r;Ri(this,n),(r=t.call(this,e)).stageName=void 0;var i=r.props.field,c,u=i.extraProps.display,s,l,f=a.globalContext.get("editor").get("skeleton").stages,p;return"entry"===u&&Object(a.runInAction)((function(){p="".concat(i.getNode().id,"_").concat(i.name.toString()),f.container.remove(p);var e=f.add({type:"Widget",name:p,content:React.createElement(o.Fragment,null,i.items.map((function(e,t){return Hi(e,i,t)}))),props:{title:i.title}})})),r.stageName=p,r}return Li(n,[{key:"render",value:function e(){var t,n,r,o,i,c,u=this,s=this.props.field,l=s.extraProps,f=s.componentMeta,p=l.condition,d=l.defaultValue,h;try{h="function"!=typeof p||!1!==p(s.internalToShellPropEntry())}catch(e){console.error("exception when condition (hidden) is excuted",e)}var v=s.setter,y={},b,m=null;Array.isArray(v)?(b="MixedSetter",y={setters:v}):Object(Ut.isSetterConfig)(v)?(b=v.componentName,v.props&&"function"==typeof(y=v.props)&&(y=y(s.internalToShellPropEntry())),null!=v.initialValue&&(m=v.initialValue)):v&&(b=v);var g=null;if(null==d||"defaultValue"in y||(y.defaultValue=d,null==m&&(m=d)),-1===s.valueState?(y.multiValue=!0,"placeholder"in y||(y.placeholder=ji("Multiple Value"))):g=s.getValue(),(null===(t=this.state)||void 0===t||!t.fromOnChange)&&void 0===g&&Ji(m)){var O="function"==typeof m?m(s.internalToShellPropEntry()):m;s.setValue(O),g=O}if(!h)return null;var j=null===(n=s.extraProps)||void 0===n?void 0:n.supportVariable,w=a.engineConfig.get("supportVariableGlobally",!1)&&zi(f);(j||w)&&("MixedSetter"===b?Array.isArray(y.setters)&&!y.setters.includes("VariableSetter")&&y.setters.push("VariableSetter"):(b="MixedSetter",y={setters:[v,"VariableSetter"]}));var k=null==l?void 0:l.onChange,_=this.stageName;return bi(Ni({meta:(null==s||null===(r=s.componentMeta)||void 0===r?void 0:r.npm)||(null==s||null===(o=s.componentMeta)||void 0===o?void 0:o.componentName)||"",title:s.title,collapsed:!s.expanded,valueState:s.isRequired?10:s.valueState,onExpandChange:function e(t){return s.setExpanded(t)},onClear:function e(){return s.clearValue()},stageName:_},l),!_&&Object(a.createSetterContent)(b,Ni(Ni({},Object(a.shallowIntl)(y)),{},{forceInline:l.forceInline,key:s.id,prop:s.internalToShellPropEntry(),selected:null===(i=s.top)||void 0===i||null===(c=i.getNode())||void 0===c?void 0:c.internalToShellNode(),field:s.internalToShellPropEntry(),value:g,initialValue:m,onChange:function e(t){u.setState({fromOnChange:!0,value:t}),s.setValue(t,!0),k&&k(t,s)},onInitial:function e(){if(null!=m){var t="function"==typeof m?m(s.internalToShellPropEntry()):m;u.setState({value:t}),s.setValue(t,!0)}},removeProp:function e(){s.parent.clearPropValue(s.name)}})),l.forceInline?"plain":l.display)}}]),n}(o.Component)).contextType=dt,Si);$i=Object(r.b)([a.observer,Object(r.d)("design:paramtypes",[Object])],$i);var Wi=((Ei=function(e){Di(n,e);var t=Vi(n);function n(e){var r;Ri(this,n),(r=t.call(this,e)).stageName=void 0;var i=r.props.field,c,u=i.extraProps.display,s,l,f=a.globalContext.get("editor").get("skeleton").stages,p;return"entry"===u&&Object(a.runInAction)((function(){p="".concat(i.getNode().id,"_").concat(i.name.toString()),f.container.remove(p),f.add({type:"Widget",name:p,content:React.createElement(o.Fragment,null,i.items.map((function(e,t){return Hi(e,i,t)}))),props:{title:i.title}})})),r.stageName=p,r}return Li(n,[{key:"render",value:function e(){var t,n,r=this.props.field,o=r.extraProps,i=o.condition,a=o.display,c;return!r.isSingle||"function"!=typeof i||!1!==i(r.internalToShellPropEntry())?bi({meta:(null===(t=r.componentMeta)||void 0===t?void 0:t.npm)||(null===(n=r.componentMeta)||void 0===n?void 0:n.componentName)||"",title:r.title,collapsed:!r.expanded,onExpandChange:function e(t){return r.setExpanded(t)},stageName:this.stageName},r.items.map((function(e,t){return Hi(e,r,t)})),a):null}}]),n}(o.Component)).contextType=dt,Ei);function Hi(e,t,n){return Object(so.isSettingField)(e)?e.isGroup?React.createElement(Wi,{field:e,key:e.id}):React.createElement($i,{field:e,key:e.id}):Object(Rt.l)(e,{key:n,field:t})}Wi=Object(r.b)([a.observer,Object(r.d)("design:paramtypes",[Object])],Wi);var Xi=((Pi=function(e){Di(n,e);var t=Vi(n);function n(){var e;Ri(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).currentStage=void 0,e.popupPipe=new Io,e.pipe=e.popupPipe.create(),e.handleClick=function(t){var n=e.props.usePopup,r;if(void 0===n||n){var o=t.currentTarget,i=u(t.target);if(i){var a=e.context;if(a&&a.stages){var c=a.stages.container.get(i);c&&(e.currentStage&&c.setPrevious(e.currentStage),e.currentStage=c)}}}function u(e){if(!o.contains(e)||"A"===e.nodeName&&e.getAttribute("href"))return null;var t=e.dataset?e.dataset.stageTarget:null;return t||u(e.parentNode)}},e}return Li(n,[{key:"popStage",value:function e(){var t;this.currentStage=null===(t=this.currentStage)||void 0===t?void 0:t.getPrevious()}},{key:"render",value:function e(){var t=this.props.target,n=t.items;return React.createElement("div",{className:"lc-settings-pane",onClick:this.handleClick},React.createElement(Vo,{popupPipe:this.popupPipe},React.createElement("div",{className:"lc-settings-content"},n.map((function(e,n){return Hi(e,t,n)})))))}}]),n}(o.Component)).contextType=dt,Pi);function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yi(e,t,n){return t&&qi(e.prototype,t),n&&qi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object(r.b)([a.obx,Object(r.d)("design:type","function"==typeof(Ci="undefined"!=typeof Stage&&Stage)?Ci:Object)],Xi.prototype,"currentStage",void 0),Xi=Object(r.b)([a.observer],Xi);var Qi=function(){function e(t){Ki(this,e),this.emitter=void 0,this.stage=void 0,this.emitter=new At.EventEmitter,this.stage=t}return Yi(e,[{key:"stagePush",value:function e(t){t&&(t.setPrevious(this.stage),t.setReferLeft(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBack",value:function e(){var t=this.stage.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBackToRoot",value:function e(){for(var t=this.stage.getPrevious();t&&!t.isRoot;)t=t.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"getCurrentStage",value:function e(){return this.stage}},{key:"onStageChange",value:function e(t){var n=this;return this.emitter.on("stagechange",t),function(){n.emitter.removeListener("stagechange",t)}}}]),e}();function Zi(){return(Zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ea(e){return React.createElement(Rt.e,Zi({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function ta(){return(ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function na(e){return React.createElement(Rt.e,ta({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M723.872 478.4l-81.12-81.152L688 352l135.776 135.776L846.4 510.4 688 668.8l-45.248-45.28 81.12-81.12H384v-64h339.872zM576 896H256.192A64.16 64.16 0 0 1 192 831.84V192.16c0-35.424 28.704-64.16 64.192-64.16H576v64H288.224A31.968 31.968 0 0 0 256 223.744v576.512C256 817.44 270.4 832 288.224 832H576v64z"}))}function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t,n){return t&&ia(e.prototype,t),n&&ia(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ca(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ua(e,t)}function ua(e,t){return(ua=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function sa(e){var t=pa();return function n(){var r=da(e),o;if(t){var i=da(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return la(this,o)}}function la(e,t){if(t&&("object"===ra(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fa(e)}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}ea.displayName="Arrow",na.displayName="Exit";var ha={current:!1},va=function(e){ca(n,e);var t=sa(n);function n(){var e;oa(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).timer=void 0,e.additionClassName=void 0,e.shell=void 0,e}return aa(n,[{key:"componentDidMount",value:function e(){this.doSkate()}},{key:"componentDidUpdate",value:function e(){this.doSkate()}},{key:"componentWillUnmount",value:function e(){window.clearTimeout(this.timer)}},{key:"doSkate",value:function e(){var t=this;window.clearTimeout(this.timer),this.additionClassName&&(this.timer=window.setTimeout((function(){var e=t.shell;e&&(t.props.current?e.classList.remove(t.additionClassName):e.classList.add(t.additionClassName),t.additionClassName=null)}),15))}},{key:"render",value:function e(){var t=this,n=this.props,r=n.stage,o=n.current,a=n.direction,c=null==r?void 0:r.getContent(),s=r.title,l=Object(Ut.isTitleConfig)(s)?s.label:s;o?a&&(this.additionClassName="skeleton-stagebox-stagein-".concat(a)):a&&(this.additionClassName="skeleton-stagebox-stageout-".concat(a));var f=u()("skeleton-stagebox-stage",{"skeleton-stagebox-refer":!o},this.additionClassName),p=null!=r&&r.hasBack()?i.a.createElement("div",{className:"skeleton-stagebox-stagebacker"},i.a.createElement(ea,{className:"skeleton-stagebox-stage-arrow",size:"medium","data-stage-target":"stageback"}),i.a.createElement("span",{className:"skeleton-stagebox-stage-title"},l),i.a.createElement(na,{className:"skeleton-stagebox-stage-exit",size:"medium","data-stage-target":"stageexit"})):null;return i.a.createElement("div",{ref:function e(n){t.shell=n},className:f},p,i.a.createElement("div",{className:"skeleton-stagebox-stage-content"},c))}}]),n}(o.Component),ya;function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oa(e,t,n){return t&&ga(e.prototype,t),n&&ga(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ja(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wa(e,t)}function wa(e,t){return(wa=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ka(e){var t=Ea();return function n(){var r=Pa(e),o;if(t){var i=Pa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _a(this,o)}}function _a(e,t){if(t&&("object"===ba(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sa(e)}function Sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ea(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}va.defaultProps=ha;var Ca={},Ta=((ya=function(e){ja(n,e);var t=ka(n);function n(e){var r;ma(this,n),(r=t.call(this,e)).stageChain=void 0,r.willDetach=[],r.shell=void 0,r.popupPipe=new Io,r.pipe=r.popupPipe.create();var o=r.props,i=o.stageChain,a=o.children,c=o.skeleton;if(i)r.stageChain=i;else{var u=c.createStage({content:a,isRoot:!0});r.stageChain=new Qi(c.getStage(u))}return r.willDetach.push(r.stageChain.onStageChange((function(){return r.forceUpdate()}))),r}return Oa(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.shell,r=function e(t){if(!t||null==n||!n.contains(t)||"A"===t.nodeName&&t.getAttribute("href"))return null;var r=t.dataset?t.dataset.stageTarget:null;return r||e(t.parentNode)},o=function e(n){var o=r(n.target);if(o)if("stageback"===o)t.stageChain.stageBack();else if("stageexit"===o)t.stageChain.stageBackToRoot();else{var i=t.props.skeleton;t.stageChain.stagePush(i.getStage(o))}};null==n||n.addEventListener("click",o,!1),this.willDetach.push((function(){return null==n?void 0:n.removeEventListener("click",o,!1)}))}},{key:"componentWillUnmount",value:function e(){this.willDetach&&this.willDetach.forEach((function(e){return e()}))}},{key:"render",value:function e(){var t=this,n=u()("skeleton-stagebox",this.props.className),r=this.stageChain.getCurrentStage(),o=null==r?void 0:r.getRefer(),a=null,c=null,s;o?(a=i.a.createElement(va,{key:r.getId(),stage:r,direction:o.direction,current:!0}),c=i.a.createElement(va,{key:null==o||null===(s=o.stage)||void 0===s?void 0:s.getId(),stage:null==o?void 0:o.stage,direction:o.direction})):a=i.a.createElement(va,{key:r.getId(),stage:r,current:!0});return i.a.createElement("div",{ref:function e(n){t.shell=n},className:n},i.a.createElement(Vo,{popupPipe:this.popupPipe},c,a))}}]),n}(o.Component)).defaultProps=Ca,ya.displayName="StageBox",ya),xa=Ta=Object(r.b)([a.observer,Object(r.d)("design:paramtypes",[Object])],Ta),Na=n(181);function Aa(e){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(){return(Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ma(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function La(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ma(i,r,o,a,c,"next",e)}function c(e){Ma(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(e,t,n){return t&&Ia(e.prototype,t),n&&Ia(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ba(e,t)}function Ba(e,t){return(Ba=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Ua(e){var t=Ja();return function n(){var r=$a(e),o;if(t){var i=$a(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ga(this,o)}}function Ga(e,t){if(t&&("object"===Aa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return za(e)}function za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ja(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Wa=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Da(this,n),(r=t.call(this,e)).state={shouldIgnoreRoot:!1},r.main=new mo(a.globalContext.get("editor")),r._activeKey=void 0,Object(a.makeObservable)(za(r)),r}return Va(n,[{key:"componentDidMount",value:function e(){var t=this;this.setShouldIgnoreRoot(),a.globalContext.get("editor").on("designer.selection.change",(function(){a.engineConfig.get("stayOnTheSameSettingTab",!1)||(t._activeKey=null)}))}},{key:"setShouldIgnoreRoot",value:function(){var e=La(uo.a.mark((function e(){var t;return uo.a.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.globalContext.get("editor").get("designMode");case 2:t=n.sent,this.setState({shouldIgnoreRoot:"live"===t});case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.main.purge()}},{key:"renderBreadcrumb",value:function e(){var t,n,r,o=this.main.settings,c=this.props.config,u=this.state.shouldIgnoreRoot,s;if(!o)return null;if(o.isMultiple)return i.a.createElement("div",{className:"lc-settings-navigator"},Object(Rt.m)(null===(s=o.componentMeta)||void 0===s?void 0:s.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),i.a.createElement(a.Title,{title:o.componentMeta.title}),i.a.createElement("span",null," x ",o.nodes.length));for(var l=a.globalContext.get("editor"),f=l.get("designer"),p=null==f||null===(t=f.currentSelection)||void 0===t||null===(n=t.getNodes())||void 0===n?void 0:n[0],d=o.first,h=d.document.focusNode,v=[],y=3,b=function e(){var t=d;if(u&&d.isRoot())return"break";d.contains(h)&&(y=0);var n=2===y?{}:{onMouseOver:Ha.bind(null,t,!0),onMouseOut:Ha.bind(null,t,!1),onClick:function e(){if(t){Xa.call(null,t);var n=function e(t){var n,r,o=null==t||null===(n=t.componentMeta)||void 0===n?void 0:n.npm;return[null==o?void 0:o.package,null==o?void 0:o.componentName].filter((function(e){return!!e})).join("-")||(null==t||null===(r=t.componentMeta)||void 0===r?void 0:r.componentName)||""},r=n(p),o=n(t);null==l||l.emit("skeleton.settingsPane.Breadcrumb",{selected:r,target:o})}}};v.unshift(i.a.createElement(Bt.Breadcrumb.Item,Ra({},n,{key:d.id}),i.a.createElement(a.Title,{title:d.title}))),d=d.parent};y-- >0&&d;){var m;if("break"===b())break}return i.a.createElement("div",{className:"lc-settings-navigator"},Object(Rt.m)(null===(r=this.main.componentMeta)||void 0===r?void 0:r.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),i.a.createElement(Bt.Breadcrumb,{className:"lc-settings-node-breadcrumb"},v))}},{key:"render",value:function e(){var t=this,n=this.main.settings,r=a.globalContext.get("editor");if(!n)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,"\u8bf7\u5728\u5de6\u4fa7\u753b\u5e03\u9009\u4e2d\u8282\u70b9")));if(n.isLocked&&!a.engineConfig.get("enableLockedNodeSetting",!1))return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,"\u8be5\u8282\u70b9\u5df2\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u914d\u7f6e")));if(Array.isArray(n.items)&&0===n.items.length)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,"\u8be5\u7ec4\u4ef6\u6682\u65e0\u914d\u7f6e")));if(!n.isSameComponent)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,"\u8bf7\u9009\u4e2d\u540c\u4e00\u7c7b\u578b\u8282\u70b9\u7f16\u8f91")));var o=n.items;if(o.length>5||o.some((function(e){return!Object(so.isSettingField)(e)||!e.isGroup})))return i.a.createElement("div",{className:"lc-settings-main"},this.renderBreadcrumb(),i.a.createElement("div",{className:"lc-settings-body"},i.a.createElement(dt.Consumer,null,(function(e){return e?i.a.createElement(xa,{skeleton:e,target:n,key:n.id},i.a.createElement(Xi,{target:n,usePopup:!1})):null}))));var c=!1,s=o.map((function(e){return t._activeKey===e.name&&(c=!0),i.a.createElement(Bt.Tab.Item,{className:"lc-settings-tab-item",title:i.a.createElement(a.Title,{title:e.title}),key:e.name,onClick:function t(){null==r||r.emit("skeleton.settingsPane.change",{name:e.name,title:e.title})}},i.a.createElement(dt.Consumer,null,(function(t){return t?i.a.createElement(xa,{skeleton:t,target:e,key:e.id},i.a.createElement(Xi,{target:e,key:e.id,usePopup:!1})):null})))})),l=c?this._activeKey:o[0].name,f=u()("lc-settings-main",{"lc-settings-hide-tabs":1===o.length&&a.engineConfig.get("hideSettingsTabsWhenOnlyOneItem",!1)});return i.a.createElement("div",{className:f},this.renderBreadcrumb(),i.a.createElement(Bt.Tab,{activeKey:l,onChange:function e(n){t._activeKey=n},navClassName:"lc-settings-tabs",animation:!1,excessMode:"dropdown",contentClassName:"lc-settings-tabs-content"},s))}}]),n}(o.Component);function Ha(e,t){e.hover(t)}function Xa(e){null==e||e.select()}Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],Wa.prototype,"_activeKey",void 0),Wa=Object(r.b)([a.observer,Object(r.d)("design:paramtypes",[Object])],Wa);var Ka=/^function/,qa=/^\w+\s*\(/;function Ya(e){if("string"!=typeof e)return e;var t;qa.test(e)&&!Ka.test(e)&&(e="function ".concat(e));var n="\n    return function() {\n      const self = this;\n      try {\n        return (".concat(e,").apply(self, arguments);\n      } catch(e) {\n        console.log('call function which parsed by lowcode failed: ', e);\n        return e.message;\n      }\n    };\n  ");try{t=new Function(n)()}catch(t){console.error(e),console.error(t.message)}return t}function Qa(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&Object.keys(e).forEach((function(n){var r=e[n];Object(Ut.isJSFunction)(r)?e[n]=Ya(r.value):Array.isArray(r)?r.forEach((function(e){return Qa(e,t)})):Object(Rt.y)(r)&&Qa(r,t)}))}var Za=function(e){return Qa(e,!1),e};function ec(e){return oc(e)||rc(e)||nc(e)||tc()}function tc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nc(e,t){if(e){if("string"==typeof e)return ic(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(e,t):void 0}}function rc(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function oc(e){if(Array.isArray(e))return ic(e)}function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ac(e){return(ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){sc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e){var t=e.name,n=e.description,r;return uc(uc({title:{label:{type:"i18n","en-US":t,"zh-CN":(null==n?void 0:n.slice(0,10))||t},tip:n?"".concat(t," | ").concat(n):void 0}},e),{},{setter:e.setter?e.setter:fc(e.propType)})}function fc(e){var t,n=!1;switch("string"==typeof e?t=e:"object"===ac(e)?(t=e.type,n=e.isRequired):t="string",t){case"string":return{componentName:"StringSetter",isRequired:n,initialValue:""};case"number":return{componentName:"NumberSetter",isRequired:n,initialValue:0};case"bool":return{componentName:"BoolSetter",isRequired:n,initialValue:!1};case"oneOf":var r=(e.value||[]).map((function(e,t){var n=ac(e);return{label:"string"===n||"number"===n||"boolean"===n?String(e):"value ".concat(t),value:e}})),o;return{componentName:r.length>=4?"SelectSetter":"RadioGroupSetter",props:{dataSource:r,options:r},isRequired:n,initialValue:r[0]?r[0].value:null};case"element":case"node":return{componentName:"SlotSetter",props:{mode:t},isRequired:n,initialValue:{type:"JSSlot",value:[]}};case"shape":case"exact":var i=(e.value||[]).map((function(e){return lc(e)}));return{componentName:"ObjectSetter",props:{config:{items:i,extraSetter:"shape"===t?fc("any"):null}},isRequired:n,initialValue:function e(t){var n={};return i.forEach((function(e){var r=e.defaultValue;null==r&&e.setter&&"object"===ac(e.setter)&&(r=e.setter.initialValue),n[e.name]=r?"function"==typeof r?r(t):r:null})),n}};case"object":case"objectOf":return{componentName:"ObjectSetter",props:{config:{extraSetter:fc("objectOf"===t?e.value:"any")}},isRequired:n,initialValue:{}};case"array":case"arrayOf":return{componentName:"ArraySetter",props:{itemSetter:fc("arrayOf"===t?e.value:"any")},isRequired:n,initialValue:[]};case"func":return{componentName:"FunctionSetter",isRequired:n};case"color":return{componentName:"ColorSetter",isRequired:n};case"oneOfType":return{componentName:"MixedSetter",props:{setters:e.value.map((function(e){return fc(e)}))},isRequired:n}}return{componentName:"MixedSetter",isRequired:n,props:{}}}var pc=/^on|after|before[A-Z][\w]*$/,dc=function(e){var t=e.configure,n=void 0===t?{}:t,r=null;if(n.props){if(Array.isArray(n.props))return e;var o=n.props,i=o.isExtends,a=o.override,c=void 0===a?[]:a;if(!i)return uc(uc({},e),{},{configure:uc(uc({},n),{},{props:ec(c)})});r={},c.forEach((function(e){r[e.name]=e}))}if(!e.props)return uc(uc({},e),{},{configure:uc(uc({},n),{},{props:[]})});var u=n.component,s=void 0===u?{}:u,l=n.supports,f=void 0===l?{}:l,p=f.events?null:[],d=[];return e.props.forEach((function(e){var t=e,n=t.name,o=t.propType,i=t.description;if("children"===n&&(s.isContainer||"node"===o||"element"===o||"any"===o)&&!1!==s.isContainer)return s.isContainer=!0,void d.push(lc(e));!pc.test(n)||"func"!==o&&"any"!==o?"className"!==n||"string"!==o&&"any"!==o?"style"!==n||"object"!==o&&"any"!==o?(r&&n in r&&(e=r[n]),d.push(lc(e))):null==f.style&&(f.style=!0):null==f.className&&(f.className=!0):p&&(p.push({name:n,description:i}),f.events=p)})),uc(uc({},e),{},{configure:uc(uc({},n),{},{props:d,supports:f,component:s})})};function hc(){return(hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vc(e){return React.createElement(Rt.e,hc({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M682.325333 135.509333V204.8H819.2v613.376h-614.741333V204.8h136.874666v-69.290667h-206.165333v752.298667h754.346667V135.509333z",c:"Q29weXJpZ2h0IChjKSAyMDIwLXByZXNlbnQgQWxpYmFiYSBJbmMu"}),React.createElement("path",{d:"M512 512m-170.325333 0a170.325333 170.325333 0 1 0 340.650666 0 170.325333 170.325333 0 1 0-340.650666 0Z"}))}function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(e){return jc(e)||Oc(e)||gc(e)||mc()}function mc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gc(e,t){if(e){if("string"==typeof e)return wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wc(e,t):void 0}}function Oc(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function jc(e){if(Array.isArray(e))return wc(e)}function wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){Sc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}vc.displayName="IconSlot";var Ec=function(e){var t=e.componentName,n=e.configure,r=void 0===n?{}:n;if(r.combined)return e;if("Leaf"===t)return _c(_c({},e),{},{configure:_c(_c({},r),{},{combined:[{name:"children",title:{type:"i18n","zh-CN":"\u5185\u5bb9\u8bbe\u7f6e","en-US":"Content"},setter:{componentName:"MixedSetter",props:{setters:[{componentName:"StringSetter",props:{multiline:!0},initialValue:""},{componentName:"ExpressionSetter",initialValue:{type:"JSExpression",value:""}}]}}}]})});var o=r.props,i=r.supports,a=void 0===i?{}:i,c="Page"===t||"Component"===t,u=[],s=a.lifecycles||null;s&&u.push({type:"lifeCycleEvent",title:"\u751f\u547d\u5468\u671f",list:s.map((function(e){return"string"==typeof e?{name:e}:e}))}),a.events&&u.push({type:"events",title:"\u4e8b\u4ef6",list:(a.events||[]).map((function(e){return"string"==typeof e?{name:e}:e}))});var l=o?bc(o):[],f={};"Slot"===t&&(r.component?"object"===yc(r.component)&&(r.component.isContainer=!0):r.component={isContainer:!0},f.icon=vc,l=[{name:Object(so.getConvertedExtraKey)("title"),title:{type:"i18n","en-US":"Slot Title","zh-CN":"\u63d2\u69fd\u6807\u9898"},setter:"StringSetter",defaultValue:"\u63d2\u69fd\u5bb9\u5668"}]);var p=[],d=[];if(l)for(var h=l.length;h-- >0;){var v=l[h],y;if("__style__"===v.name||"style"===v.name||"containerStyle"===v.name||"pageStyle"===v.name)l.splice(h,1),p.push(v),null!==(y=v.extraProps)&&void 0!==y&&y.defaultCollapsed&&"containerStyle"!==v.name&&(v.extraProps.defaultCollapsed=!1)}var b=[{title:{type:"i18n","zh-CN":"\u5c5e\u6027","en-US":"Props"},name:"#props",items:l}];return a.className&&p.push({name:"className",title:{type:"i18n","zh-CN":"\u7c7b\u540d\u7ed1\u5b9a","en-US":"ClassName"},setter:"ClassNameSetter"}),a.style&&p.push({name:"style",title:{type:"i18n","zh-CN":"\u884c\u5185\u6837\u5f0f","en-US":"Style"},setter:"StyleSetter",extraProps:{display:"block"}}),p.length>0&&b.push({name:"#styles",title:{type:"i18n","zh-CN":"\u6837\u5f0f","en-US":"Styles"},items:p}),u.length>0&&b.push({name:"#events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6","en-US":"Events"},items:[{name:"__events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6\u8bbe\u7f6e","en-US":"Events"},setter:{componentName:"EventsSetter",props:{definition:u}},getValue:function e(t,n){return n},setValue:function e(t,n){var r=n.eventDataList,o=n.eventList;Array.isArray(o)&&o.map((function(e){return t.parent.clearPropValue(e.name),e})),Array.isArray(r)&&r.map((function(e){return t.parent.setPropValue(e.name,{type:"JSFunction",value:"function(){this.".concat(e.relatedEventName,".apply(this,Array.prototype.slice.call(arguments).concat([").concat(e.paramStr?e.paramStr:"","])) }")}),e}))}}]}),c||(!1!==a.condition&&d.push({name:Object(so.getConvertedExtraKey)("condition"),title:{type:"i18n","zh-CN":"\u662f\u5426\u6e32\u67d3","en-US":"Condition"},defaultValue:!0,setter:[{componentName:"BoolSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}}),!1!==a.loop&&d.push({name:"#loop",title:{type:"i18n","zh-CN":"\u5faa\u73af","en-US":"Loop"},items:[{name:Object(so.getConvertedExtraKey)("loop"),title:{type:"i18n","zh-CN":"\u5faa\u73af\u6570\u636e","en-US":"Loop Data"},setter:[{componentName:"JsonSetter",props:{label:{type:"i18n","zh-CN":"\u7f16\u8f91\u6570\u636e","en-US":"Edit Data"},defaultValue:"[]"}},{componentName:"VariableSetter"}]},{name:Object(so.getConvertedExtraKey)("loopArgs.0"),title:{type:"i18n","zh-CN":"\u8fed\u4ee3\u53d8\u91cf\u540d","en-US":"Loop Item"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: item","en-US":"Defaults: item"}}}},{name:Object(so.getConvertedExtraKey)("loopArgs.1"),title:{type:"i18n","zh-CN":"\u7d22\u5f15\u53d8\u91cf\u540d","en-US":"Loop Index"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: index","en-US":"Defaults: index"}}}},{name:"key",title:"\u5faa\u73af Key",setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}]}],extraProps:{display:"accordion"}}),!1===a.condition&&!1===a.loop||d.push({name:"key",title:{label:"\u6e32\u67d3\u552f\u4e00\u6807\u8bc6\uff08key\uff09",tip:"\u642d\u914d\u300c\u6761\u4ef6\u6e32\u67d3\u300d\u6216\u300c\u5faa\u73af\u6e32\u67d3\u300d\u65f6\u4f7f\u7528\uff0c\u548c react \u7ec4\u4ef6\u4e2d\u7684 key \u539f\u7406\u76f8\u540c\uff0c\u70b9\u51fb\u67e5\u770b\u5e2e\u52a9",docUrl:"https://lowcode-engine.cn/docV2/qm75w3"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}})),d.length>0&&b.push({name:"#advanced",title:{type:"i18n","zh-CN":"\u9ad8\u7ea7","en-US":"Advanced"},items:d}),_c(_c(_c({},e),f),{},{configure:_c(_c({},r),{},{combined:b})})},Pc=function e(){Object(so.registerMetadataTransducer)(Za,1,"parse-func"),Object(so.registerMetadataTransducer)(dc,5,"parse-props"),Object(so.registerMetadataTransducer)(Ec,10,"combine-props")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return V}));var r=n(0),o=n(1),i=n(4),a=n(3);function c(e){return f(e)||l(e)||s(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function l(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){try{var t={worksWithoutQuotes:!1};return new Function("ctx","ctx.worksWithoutQuotes = {".concat(e,": true}['").concat(e,"']"))(),!t.worksWithoutQuotes}catch(e){return!0}}function v(e,t){var n;return t.doubleQuote?'"'.concat(e.replace(/"/g,'\\"'),'"'):"'".concat(e.replace(/'/g,"\\'"),"'")}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.circularReferenceToken,r=void 0===n?"CIRCULAR_REFERENCE":n,o=t.doubleQuote,i=void 0===o||o,a=t.includeFunctions,u=void 0===a||a,s=t.includeUndefinedProperties,l=void 0!==s&&s,f=t.indentLevel,p=void 0===f?0:f,b=t.indentString,m=void 0===b?"  ":b,g=t.lineEnding,O=void 0===g?"\n":g,j=t.visitedObjects,w=void 0===j?new Set:j;switch(d(e)){case"boolean":return"".concat(m.repeat(p),e?"true":"false");case"function":return u?"".concat(m.repeat(p)).concat(e):null;case"number":return"".concat(m.repeat(p)).concat(e);case"object":if(!e)return"".concat(m.repeat(p),"null");if(w.has(e))return"".concat(m.repeat(p)).concat(r);if(e instanceof Date)return"".concat(m.repeat(p),"new Date(").concat(v(e.toISOString(),{doubleQuote:i}),")");if(e instanceof Map)return e.size?"".concat(m.repeat(p),"new Map(").concat(y(c(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:l,indentLevel:p,indentString:m,lineEnding:O,visitedObjects:new Set([e].concat(c(w)))}).slice(p*m.length),")"):"".concat(m.repeat(p),"new Map()");if(e instanceof RegExp)return"".concat(m.repeat(p),"/").concat(e.source,"/").concat(e.flags);if(e instanceof Set)return e.size?"".concat(m.repeat(p),"new Set(").concat(y(c(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:l,indentLevel:p,indentString:m,lineEnding:O,visitedObjects:new Set([e].concat(c(w)))}).slice(p*m.length),")"):"".concat(m.repeat(p),"new Set()");if(Array.isArray(e)){if(!e.length)return"".concat(m.repeat(p),"[]");var k=e.every((function(t){return"object"===d(t)&&t&&!(t instanceof Date)&&!(t instanceof Map)&&!(t instanceof RegExp)&&!(t instanceof Set)&&(Object.keys(t).length||1===e.length)})),_=null;return e=e.reduce((function(t,n,o){if(null!==_)for(var a=o-_-1;a>0;a-=1)t.push(m.repeat(p+1));return _=o,null===(n=y(n,{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:l,indentLevel:k?p:p+1,indentString:m,lineEnding:O,visitedObjects:new Set([e].concat(c(w)))}))?t.push(m.repeat(p+1)):k?t.push(n.slice(p*m.length)):t.push(n),t}),[]),k?"".concat(m.repeat(p),"[").concat(e.join(", "),"]"):"".concat(m.repeat(p),"[").concat(O).concat(e.join(",".concat(O))).concat(O).concat(m.repeat(p),"]")}return(e=Object.keys(e).reduce((function(t,n){var o=e[n],a=void 0!==o||l?y(e[n],{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:l,indentLevel:p+1,indentString:m,lineEnding:O,visitedObjects:new Set([e].concat(c(w)))}):null;if(a){var s=h(n)?v(n,{doubleQuote:i}):n,f=a.slice((p+1)*m.length);"function"==typeof o&&f.startsWith("".concat(n,"()"))?t.push("".concat(m.repeat(p+1)).concat(s," ").concat(f.slice(n.length))):t.push("".concat(m.repeat(p+1)).concat(s,": ").concat(f))}return t}),[])).length?"".concat(m.repeat(p),"{").concat(O).concat(e.join(",".concat(O))).concat(O).concat(m.repeat(p),"}"):"".concat(m.repeat(p),"{}");case"string":return"".concat(m.repeat(p)).concat(v(e,{doubleQuote:i}));case"symbol":var S=Symbol.keyFor(e);return"string"==typeof S?"".concat(m.repeat(p),"Symbol.for(").concat(v(S,{doubleQuote:i}),")"):(S=e.toString().slice(7,-1))?"".concat(m.repeat(p),"Symbol(").concat(v(S,{doubleQuote:i}),")"):"".concat(m.repeat(p),"Symbol()");case"undefined":return"".concat(m.repeat(p),"undefined")}}function b(e){if(e&&e.__source)return e.__source;var t=y(e);if("undefined"===t&&(t=""),e)try{e.__source=t}catch(e){console.error(e)}return t}var m=n(12),g,O,j,w,k,_,S,E,P;function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var L=o.mobx.set,D=o.mobx.isObservableArray,I=Symbol.for("unset");g=Symbol.iterator;var V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};A(this,e),this.parent=void 0,this.isProp=!0,this.owner=void 0,this.key=void 0,this.spread=void 0,this.props=void 0,this.options=void 0,this.id=Object(a.F)("prop$"),this._type="unset",this._value=I,this._code=null,this._slotNode=void 0,this._items=null,this._maps=null,this._prevMaps=null,this.purged=!1,this.parent=t,Object(o.makeObservable)(this),this.owner=t.owner,this.props=t.props,this.key=r,this.spread=i,this.options=c,n!==I&&this.setValue(n),this.setupItems()}return M(e,[{key:"setupItems",value:function e(){return this.items}},{key:"getPropValue",value:function e(t){return this.get(t).getValue()}},{key:"setPropValue",value:function e(t,n){this.set(t,n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.get(t,!1))||void 0===n||n.unset()}},{key:"type",get:function e(){return this._type}},{key:"value",get:function e(){return this.export(m.a.Serilize)}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.a.Save;t=Object(a.j)(t);var n=this._type;if(t===m.a.Render&&"___condition___"===this.key)return!0!==(null===o.engineConfig||void 0===o.engineConfig?void 0:o.engineConfig.get("enableCondition"))||this._value;if("unset"!==n){if("literal"===n||"expression"===n)return null===this._value&&t===m.a.Save?"":this._value;if("slot"===n){var r,i=(null===(r=this._slotNode)||void 0===r?void 0:r.export(t))||{};return t===m.a.Render?{type:"JSSlot",params:i.params,value:i}:{type:"JSSlot",params:i.params,value:i.children,title:i.title,name:i.name}}var c;if("map"===n)return this._items?(this.items.forEach((function(e,n){if(!e.isUnset()){var r=e.export(t);null!=r&&((c=c||{})[e.key||n]=r)}})),c):this._value;if("list"===n){if(!this._items)return this._value;var u=this.items.map((function(e){return e.export(t)}));if(u.every((function(e){return void 0===e})))return;return u}}}},{key:"code",get:function e(){return Object(i.isJSExpression)(this.value)?this.value.value:"slot"===this.type?JSON.stringify(this._slotNode.export(m.a.Save)):null!=this._code?this._code:JSON.stringify(this.value)},set:function e(t){if(Object(i.isJSExpression)(this._value))return this.setValue(x(x({},this._value),{},{value:t})),void(this._code=t);try{var n=JSON.parse(t);return this.setValue(n),void(this._code=t)}catch(e){}this.setValue({type:"JSExpression",value:t,mock:this._value}),this._code=t}},{key:"getAsString",value:function e(){return"literal"===this.type&&this._value?String(this._value):""}},{key:"setValue",value:function e(t){var n;if(t!==this._value){var r=null===(n=this.owner.document)||void 0===n?void 0:n.designer.editor,o=this._value;this._value=t,this._code=null;var c=C(t);if(null==t||"string"===c||"number"===c||"boolean"===c?this._type="literal":Array.isArray(t)?this._type="list":Object(a.y)(t)?Object(i.isJSSlot)(t)?this.setAsSlot(t):Object(i.isJSExpression)(t)?this._type="expression":this._type="map":(this._type="expression",this._value={type:"JSExpression",value:y(t)}),this.dispose(),o!==this._value){var u,s,l={key:this.key,prop:this,oldValue:o,newValue:this._value};null==r||r.emit(i.GlobalEvent.Node.Prop.InnerChange,x({node:this.owner},l)),null===(u=this.owner)||void 0===u||null===(s=u.emitPropChange)||void 0===s||s.call(u,l)}}}},{key:"getValue",value:function e(){return this.export(m.a.Serilize)}},{key:"dispose",value:function e(){var t=this,n=Object(o.untracked)((function(){return t._items}));n&&n.forEach((function(e){return e.purge()})),this._items=null,this._prevMaps=this._maps,this._maps=null,"slot"!==this._type&&this._slotNode&&(this._slotNode.remove(),this._slotNode=void 0)}},{key:"slotNode",get:function e(){return this._slotNode}},{key:"setAsSlot",value:function e(t){this._type="slot";var n={componentName:"Slot",title:t.title,id:t.id,name:t.name,params:t.params,children:t.value};if(this._slotNode)this._slotNode.import(n);else{var r=this.props.owner;this._slotNode=r.document.createNode(n),r.addSlot(this._slotNode),this._slotNode.internalSetSlotFor(this)}}},{key:"unset",value:function e(){this._type="unset"}},{key:"isUnset",value:function e(){return"unset"===this._type}},{key:"isVirtual",value:function e(){return"string"==typeof this.key&&"!"===this.key.charAt(0)}},{key:"compare",value:function e(t){return!t||t.isUnset()?this.isUnset()?0:2:t.type!==this.type?2:"list"===this.type?this.size===t.size?1:2:"map"===this.type?1:this.code===t.code?0:2}},{key:"path",get:function e(){return(this.parent.path||[]).concat(this.key)}},{key:"items",get:function t(){var n=this;return this._items?this._items:Object(o.runInAction)((function(){var t=null,r;if("list"===n._type)n._value.forEach((function(r,o){(t=t||[]).push(new e(n,r,o))})),n._maps=null;else if("map"===n._type){for(var o=n._value,i=new Map,a,c=0,u=Object.keys(o);c<u.length;c++){var s,l=u[c],f=void 0;null!==(s=n._prevMaps)&&void 0!==s&&s.has(l)?(f=n._prevMaps.get(l)).setValue(o[l]):f=new e(n,o[l],l),(t=t||[]).push(f),i.set(l,f)}n._maps=i}else t=null,n._maps=null;return n._items=t,n._items}))}},{key:"maps",get:function e(){return this.items?this._maps:null}},{key:"get",value:function t(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this._type;if("map"!==o&&"list"!==o&&"unset"!==o&&!r)return null;var i="map"===o?this.maps:null,a="list"===o?this.items:null,c=n,u="",s;if("number"!=typeof n){var l=n.indexOf(".");l>0&&(u=n.slice(l+1))&&(c=n.slice(0,l))}return"list"===o?B(c,this.size)&&(s=a[c]):"map"===o&&(s=null==i?void 0:i.get(c)),s?u?s.get(u,r):s:r?(s=new e(this,I,c),this.set(c,s,!0),u?s.get(u,!0):s):null}},{key:"remove",value:function e(){this.parent.delete(this)}},{key:"delete",value:function e(t){if(this._items){var n=this._items.indexOf(t);n>-1&&(this._items.splice(n,1),t.purge()),this._maps&&t.key&&this._maps.delete(String(t.key))}}},{key:"deleteKey",value:function e(t){if(this.maps){var n=this.maps.get(t);n&&this.delete(n)}}},{key:"size",get:function e(){var t;return(null===(t=this.items)||void 0===t?void 0:t.length)||0}},{key:"add",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this._type;if("list"!==o&&"unset"!==o&&!r)return null;("unset"===o||r&&"list"!==o)&&this.setValue([]);var i=new e(this,n);return this._items=this._items||[],this._items.push(i),i}},{key:"set",value:function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._type;if("map"!==i&&"list"!==i&&"unset"!==i&&!o)return null;("unset"===i||o&&"map"!==i)&&(B(n)?"list"!==i&&this.setValue([]):this.setValue({}));var a=F(r)?r:new e(this,r,n),c=this._items||[];if("list"===this.type){if(!B(n))return null;D(c)?L(c,n,a):c[n]=a,this._items=c}else{if("map"!==this.type)return null;var u=this._maps||new Map,s=null==u?void 0:u.get(n);if(s){var l=c.indexOf(s);l>-1&&c.splice(l,1,a)[0].purge(),null==u||u.set(n,a)}else c.push(a),this._items=c,null==u||u.set(n,a);this._maps=u}return a}},{key:"has",value:function e(t){return"map"===this._type&&(this._maps?this._maps.has(t):Object(a.s)(this._value,t))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this._items&&this._items.forEach((function(e){return e.purge()})),this._items=null,this._maps=null,this._slotNode&&this._slotNode.slotFor===this&&(this._slotNode.remove(),this._slotNode=void 0))}},{key:g,value:function e(){var t=0,n=this.items,r=(null==n?void 0:n.length)||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){var n=this.items;if(n){var r="map"===this._type;n.forEach((function(e,n){return t(e,r?e.key:n)}))}}},{key:"map",value:function e(t){var n=this.items;if(!n)return null;var r="map"===this._type;return n.map((function(e,n){return t(e,r?e.key:n)}))}},{key:"getProps",value:function e(){return this.props}},{key:"getNode",value:function e(){return this.owner}}]),e}();function F(e){return e&&e.isProp}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(n)&&(t<0||n<t)}Object(r.b)([o.obx,Object(r.d)("design:type",Object)],V.prototype,"key",void 0),Object(r.b)([o.obx,Object(r.d)("design:type",Boolean)],V.prototype,"spread",void 0),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],V.prototype,"setupItems",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object]),Object(r.d)("design:returntype",Object)],V.prototype,"getPropValue",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,Object]),Object(r.d)("design:returntype",void 0)],V.prototype,"setPropValue",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object]),Object(r.d)("design:returntype",void 0)],V.prototype,"clearPropValue",null),Object(r.b)([o.obx.ref,Object(r.d)("design:type",String)],V.prototype,"_type",void 0),Object(r.b)([o.obx,Object(r.d)("design:type",Object)],V.prototype,"_value",void 0),Object(r.b)([o.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],V.prototype,"value",null),Object(r.b)([o.computed,Object(r.d)("design:type",String),Object(r.d)("design:paramtypes",[String])],V.prototype,"code",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(w=void 0!==i.CompositeValue&&i.CompositeValue)?w:Object]),Object(r.d)("design:returntype",void 0)],V.prototype,"setValue",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],V.prototype,"dispose",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(k=void 0!==i.JSSlot&&i.JSSlot)?k:Object]),Object(r.d)("design:returntype",void 0)],V.prototype,"setAsSlot",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],V.prototype,"unset",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],V.prototype,"isUnset",null),Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Object)],V.prototype,"_items",void 0),Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Object)],V.prototype,"_maps",void 0),Object(r.b)([o.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],V.prototype,"maps",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,Object]),Object(r.d)("design:returntype",Object)],V.prototype,"get",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],V.prototype,"remove",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[V]),Object(r.d)("design:returntype",void 0)],V.prototype,"delete",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[String]),Object(r.d)("design:returntype",void 0)],V.prototype,"deleteKey",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(E=void 0!==i.CompositeValue&&i.CompositeValue)?E:Object,Object]),Object(r.d)("design:returntype",Object)],V.prototype,"add",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,Object,Object]),Object(r.d)("design:returntype",void 0)],V.prototype,"set",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",void 0)],V.prototype,"purge",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Function]),Object(r.d)("design:returntype",void 0)],V.prototype,"forEach",null),Object(r.b)([o.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Function]),Object(r.d)("design:returntype",Object)],V.prototype,"map",null)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return c}));var a,c=new(o((function e(){i(this,e),this.focusDesigner=void 0})))},function(e,t){e.exports=_},function(e,t,n){"use strict";function r(e){return e.nodeType===Node.ELEMENT_NODE}function o(e,t){var n=e.getBoundingClientRect(),r=t.contentBounds,o=r.width,i=r.height,a=n.left,c=n.right,u=n.top,s=n.bottom,l=n.width,f=n.height;return a>=-l&&u>=-f&&s<=i+f&&c<=o+l}function i(e){return e.map((function(e){return null==e?void 0:e.toUpperCase()}))}function a(e,t){var n,r=window.document,o=(null===(n=e.view)||void 0===n?void 0:n.document)||r,i=new Set;return i.add(r),i.add(o),t.forEach((function(e){var t=e.contentDocument;t&&i.add(t)})),function(e){i.forEach((function(t){return e(t)}))}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return v}));var r=n(9),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f,p=new(function(){function e(){u(this,e),this.tip=null,this.showDelay=null,this.hideDelay=null,this.emitter=new r.EventEmitter}return l(e,[{key:"setTarget",value:function e(t){var n=this,r=d(t);if(r){if(this.tip){if(this.tip.target===r.target)return void(this.tip=r);if(!this.showDelay)return this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.tip=r,void this.emitter.emit("tipchange");clearTimeout(this.showDelay),this.showDelay=null,this.tip=null}this.tip=r,this.hideDelay?(clearTimeout(this.hideDelay),this.hideDelay=null,this.emitter.emit("tipchange")):this.showDelay=setTimeout((function(){n.showDelay=null,n.emitter.emit("tipchange")}),350)}else this.showDelay?(clearTimeout(this.showDelay),this.showDelay=null):this.hideDelay=setTimeout((function(){n.hideDelay=null}),100),this.tip=null,this.emitter.emit("tipchange")}},{key:"hideImmediately",value:function e(){this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.showDelay&&(clearTimeout(this.showDelay),this.showDelay=null),this.tip=null,this.emitter.emit("tipchange")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("tipchange",t),function(){n.emitter.removeListener("tipchange",t)}}}]),e}());function d(e){if(!e)return null;for(var t=10;e&&t-- >0;){if(e.dataset&&e.dataset.tip)return{children:e.dataset.tip,direction:e.dataset.direction||e.dataset.dir,theme:e.dataset.theme,target:e};for(var n=e.lastElementChild;n;){if(n.dataset&&"tip"===n.dataset.role){var r=n.dataset.tipId;if(!r)return null;var o=h.get(r);return o?a(a({},o),{},{target:e}):null}n=n.previousElementSibling}e=e.parentNode}return null}var h=new Map;function v(e,t){t?h.set(e,t):h.delete(e)}},function(e,t){e.exports=window.PropTypes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataField=t.getMetadata=t.MetadataType=t.metaSymbol=void 0,t.metaSymbol=Symbol("power-di-metadata");var r=function(){function e(){this.classInfo={extends:[],implements:[]},this.injects=[],this.postConstruct=[],this.preDestroy=[],this.aspects=[]}return e}();function o(e){var n=Object.getOwnPropertyDescriptor(e,t.metaSymbol);return n&&n.value?n.value:(Object.defineProperty(e,t.metaSymbol,{enumerable:!1,configurable:!1,value:new r}),o(e))}function i(e,t){var n=o(e)[t],r=Object.getPrototypeOf(e);return r&&Array.isArray(n)?n.concat(i(r,t)):n}t.MetadataType=r,t.getMetadata=o,t.getMetadataField=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="100%";function o(e){return e&&e.isSimulator}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return S}));var r=n(0),o=n(9),i=n.n(o),a=n(1),c=n(3),u=n(25),s=n(21),l;function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){return e&&e.type===l.Node}function v(e){return e&&e.type===l.NodeData}function y(e){return e&&e.type!==l.NodeData&&e.type!==l.Node}function b(e){return e&&"LocateEvent"===e.type}!function(e){e.Node="node",e.NodeData="nodedata"}(l||(l={}));var m=4;function g(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function O(e,t){return 0===e.clientX&&0===e.clientY&&t&&(Math.abs(t.clientX-e.clientX)>5||Math.abs(t.clientY-e.clientY)>5)}function j(e,t){return e.clientY===t.clientY&&e.clientX===t.clientX}function w(e){e.shaken=!0}function k(e){var t;return h(e)&&(null===(t=e.nodes[0])||void 0===t?void 0:t.document.simulator)||null}function _(e){var t;return null==e||null===(t=e.type)||void 0===t?void 0:t.startsWith("drag")}var S=function(){function e(t){f(this,e),this.designer=void 0,this.sensors=[],this._activeSensor=void 0,this._dragging=!1,this._canDrop=!1,this.emitter=new o.EventEmitter,this.designer=t,Object(a.makeObservable)(this)}return d(e,[{key:"activeSensor",get:function e(){return this._activeSensor}},{key:"dragging",get:function e(){return this._dragging}},{key:"from",value:function e(t,n){var r=this,o=function e(t){if(3!==t.which&&2!==t.button){var o=n(t);o&&r.boost(o,t)}};return t.addEventListener("mousedown",o),function(){t.removeEventListener("mousedown",o)}}},{key:"boost",value:function e(t,n,r){var o=this,i=this.designer,a=this.getMasterSensors(),c=Object(s.c)(n,a),l=!h(t),f=h(t)&&t.nodes.some((function(e){return"function"==typeof e.isSlot?e.isSlot():e.isSlot})),p=_(n),d;this._dragging=!1;var v=function e(t){var n,r=A(t),o=M(r);if(!o||!o.getNodeInstanceFromElement)return{};var i=o.getNodeInstanceFromElement(t.target);return(null==i||null===(n=i.node)||void 0===n?void 0:n.getRGL())||{}},y=function e(t){27===t.keyCode&&(i.clearLocation(),N())},b=!1,m=function e(t){_(t)&&t.dataTransfer?(l||f)&&(t.dataTransfer.dropEffect="copy"):l||(t.altKey||t.ctrlKey?(b=!0,o.setCopyState(!0),_(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy")):(b=!1,f||(o.setCopyState(!1),_(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="move"))))},S,E=function e(n){if(m(n),!O(n,S))if(S&&j(n,S))S=n;else{S=n;var a=v(n),c=a.isRGL,u=a.rglNode,s=A(n),l=M(s);if(c){var f=t.nodes[0].getDOMNode();if(f&&f.style&&(o.nodeInstPointerEvents=!0,f.style.pointerEvents="none"),o.emitter.emit("rgl.sleeping",!1),r&&r.id===u.id)return i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s);if(o._canDrop=!(null==l||!l.locate(s)),o._canDrop)return o.emitter.emit("rgl.add.placeholder",{rglNode:u,fromRglNode:r,node:s.dragObject.nodes[0],event:n}),i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s)}else o._canDrop=!1,o.emitter.emit("rgl.remove.placeholder"),o.emitter.emit("rgl.sleeping",!0);l?(l.fixEvent(s),l.locate(s)):i.clearLocation(),o.emitter.emit("drag",s)}},P=function e(){o._dragging=!0,w(n);var t=A(n);l||f?o.setCopyState(!0):M(t),o.setDraggingState(!0),p||c((function(e){e.addEventListener("keydown",y,!1)})),o.emitter.emit("dragstart",t)},C=function e(t){p&&t.preventDefault(),o._dragging?E(t):g(n,t)&&(P(),E(t))},T=!0,x=function e(t){t.preventDefault(),t.stopPropagation(),T=!0},N=function e(n){if(o.nodeInstPointerEvents){var r=t.nodes[0].getDOMNode();r&&r.style&&(r.style.pointerEvents=""),o.nodeInstPointerEvents=!1}if(n){var a=v(n),u=a.isRGL,s=a.rglNode;if(u&&o._canDrop){var l=t.nodes[0],f;if(s.id!==l.id)o.emitter.emit("rgl.drop",{rglNode:s,node:l}),i.project.currentDocument.selection.select(l.id)}}var h;if(o.emitter.emit("rgl.remove.placeholder"),n&&_(n)&&n.preventDefault(),d&&d.deactiveSensor(),p?T||i.clearLocation():o.setNativeSelection(!0),o.clearState(),o._dragging){o._dragging=!1;try{o.emitter.emit("dragend",{dragObject:t,copy:b})}catch(e){h=e}}if(i.clearLocation(),c((function(t){p?(t.removeEventListener("dragover",C,!0),t.removeEventListener("dragend",e,!0),t.removeEventListener("drop",x,!0)):(t.removeEventListener("mousemove",C,!0),t.removeEventListener("mouseup",e,!0)),t.removeEventListener("mousedown",e,!0),t.removeEventListener("keydown",y,!1),t.removeEventListener("keydown",m,!1),t.removeEventListener("keyup",m,!1)})),h)throw h},A=function e(n){var r,o={type:"LocateEvent",dragObject:t,target:n.target,originalEvent:n},i=null===(r=n.view)||void 0===r?void 0:r.document;if(i&&i!==document){var c,s=d&&Object(u.b)(d)?d:null;if((s&&s.contentDocument===i||!(c=a.find((function(e){return e.contentDocument===i})))&&s)&&(c=s),c){var l=c.viewport.toGlobalPoint(n);o.globalX=l.clientX,o.globalY=l.clientY,o.canvasX=n.clientX,o.canvasY=n.clientY,o.sensor=c}else o.globalX=n.clientX,o.globalY=n.clientY}else o.globalX=n.clientX,o.globalY=n.clientY;return o},R=k(t),M=function e(t){var n=o.sensors.concat(a),r=t.sensor&&t.sensor.isEnter(t)?t.sensor:n.find((function(e){return e.sensorAvailable&&e.isEnter(t)}));return r||(d?r=d:t.sensor?r=t.sensor:R&&(r=R)),r!==d&&(d&&d.deactiveSensor(),d=r),r&&(t.sensor=r,r.fixEvent(t)),o._activeSensor=r,r};if(_(n)){var L=n.dataTransfer;if(L){L.effectAllowed="all";try{L.setData("application/json","{}")}catch(e){}}P()}else this.setNativeSelection(!1);c((function(e){p?(e.addEventListener("dragover",C,!0),T=!1,e.addEventListener("drop",x,!0),e.addEventListener("dragend",N,!0)):(e.addEventListener("mousemove",C,!0),e.addEventListener("mouseup",N,!0)),e.addEventListener("mousedown",N,!0)})),l||p||c((function(e){e.addEventListener("keydown",m,!1),e.addEventListener("keyup",m,!1)}))}},{key:"getMasterSensors",value:function e(){return Array.from(new Set(this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)))}},{key:"getSimulators",value:function e(){return new Set(this.designer.project.documents.map((function(e){return e.simulator})))}},{key:"setNativeSelection",value:function e(t){Object(c.C)(t),this.getSimulators().forEach((function(e){null==e||e.setNativeSelection(t)}))}},{key:"setDraggingState",value:function e(t){c.n.setDragging(t),this.getSimulators().forEach((function(e){null==e||e.setDraggingState(t)}))}},{key:"setCopyState",value:function e(t){c.n.setCopy(t),this.getSimulators().forEach((function(e){null==e||e.setCopyState(t)}))}},{key:"clearState",value:function e(){c.n.release(),this.getSimulators().forEach((function(e){null==e||e.clearState()}))}},{key:"addSensor",value:function e(t){this.sensors.push(t)}},{key:"removeSensor",value:function e(t){var n=this.sensors.indexOf(t);n>-1&&this.sensors.splice(n,1)}},{key:"onDragstart",value:function e(t){var n=this;return this.emitter.on("dragstart",t),function(){n.emitter.removeListener("dragstart",t)}}},{key:"onDrag",value:function e(t){var n=this;return this.emitter.on("drag",t),function(){n.emitter.removeListener("drag",t)}}},{key:"onDragend",value:function e(t){var n=this;return this.emitter.on("dragend",t),function(){n.emitter.removeListener("dragend",t)}}}]),e}();Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],S.prototype,"_activeSensor",void 0),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],S.prototype,"_dragging",void 0),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],S.prototype,"_canDrop",void 0)},function(e,t,n){"use strict";n.d(t,"c",(function(){return yt})),n.d(t,"d",(function(){return bt})),n.d(t,"a",(function(){return Ot})),n.d(t,"b",(function(){return Ye}));var r=n(0),o=n(2),i,a,c;function u(e){return e.type===a.literal}function s(e){return e.type===a.argument}function l(e){return e.type===a.number}function f(e){return e.type===a.date}function p(e){return e.type===a.time}function d(e){return e.type===a.select}function h(e){return e.type===a.plural}function v(e){return e.type===a.pound}function y(e){return e.type===a.tag}function b(e){return!(!e||"object"!=typeof e||e.type!==c.number)}function m(e){return!(!e||"object"!=typeof e||e.type!==c.dateTime)}function g(e){return{type:a.literal,value:e}}function O(e,t){return{type:a.number,value:e,style:t}}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(i||(i={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(a||(a={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(c||(c={}));var j=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,w=/[\t-\r \x85\u200E\u200F\u2028\u2029]/,k=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function _(e){var t={};return e.replace(k,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var S=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function E(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t,n=[],r=0,o=e.split(S).filter((function(e){return e.length>0}));r<o.length;r++){var i,a=o[r].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var c=a[0],u=a.slice(1),s=0,l=u;s<l.length;s++){var f;if(0===l[s].length)throw new Error("Invalid number skeleton")}n.push({stem:c,options:u})}return n}function P(e){return e.replace(/^(.*?)-/,"")}var C=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,T=/^(@+)?(\+|#+)?[rs]?$/g,x=/(\*)(0+)|(#+)(0+)|(0+)/g,N=/^(0+)$/,A;function R(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(T,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function M(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function L(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!N.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function D(e){var t={},n=M(e);return n||t}function I(e){for(var t={},n=0,o=e;n<o.length;n++){var i=o[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=P(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),D(t))}),{}));continue;case"engineering":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),D(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(x,(function(e,n,r,o,i,a){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(N.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(C.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(C,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var a=i.options[0];"w"===a?t=Object(r.a)(Object(r.a)({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=Object(r.a)(Object(r.a)({},t),R(a)))}else if(T.test(i.stem))t=Object(r.a)(Object(r.a)({},t),R(i.stem));else{var c=M(i.stem);c&&(t=Object(r.a)(Object(r.a)({},t),c));var u=L(i.stem);u&&(t=Object(r.a)(Object(r.a)({},t),u))}}return t}var V=new RegExp("^".concat(j.source,"*")),F=new RegExp("".concat(j.source,"*$"));function B(e,t){return{start:e,end:t}}var U=!!String.prototype.startsWith,G=!!String.fromCodePoint,z=!!Object.fromEntries,J=!!String.prototype.codePointAt,$=!!String.prototype.trimStart,W=!!String.prototype.trimEnd,H,X=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},K=!0;try{var q;K="a"===(null===(A=oe("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===A?void 0:A[0])}catch(e){K=!1}var Y=U?function e(t,n,r){return t.startsWith(n,r)}:function e(t,n,r){return t.slice(r,r+n.length)===n},Q=G?String.fromCodePoint:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=t.length,i=0,a;o>i;){if((a=t[i++])>1114111)throw RangeError(a+" is not a valid code point");r+=a<65536?String.fromCharCode(a):String.fromCharCode(55296+((a-=65536)>>10),a%1024+56320)}return r},Z=z?Object.fromEntries:function e(t){for(var n={},r=0,o=t;r<o.length;r++){var i=o[r],a=i[0],c=i[1];n[a]=c}return n},ee=J?function e(t,n){return t.codePointAt(n)}:function e(t,n){var r=t.length;if(!(n<0||n>=r)){var o=t.charCodeAt(n),i;return o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?o:i-56320+(o-55296<<10)+65536}},te=$?function e(t){return t.trimStart()}:function e(t){return t.replace(V,"")},ne=W?function e(t){return t.trimEnd()}:function e(t){return t.replace(F,"")},re;function oe(e,t){return new RegExp(e,t)}if(K){var ie=oe("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");re=function e(t,n){var r,o;return ie.lastIndex=n,null!==(r=ie.exec(t)[1])&&void 0!==r?r:""}}else re=function e(t,n){for(var r=[];;){var o=ee(t,n);if(void 0===o||le(o)||fe(o))break;r.push(o),n+=o>=65536?2:1}return Q.apply(void 0,r)};var ae=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){var c;if((c=this.parseArgument(e,n)).err)return c;r.push(c.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(i.UNMATCHED_CLOSING_TAG,B(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&ce(this.peek()||0)){var c;if((c=this.parseTag(e,t)).err)return c;r.push(c.val)}else{var c;if((c=this.parseLiteral(e,t)).err)return c;r.push(c.val)}}else{var u=this.clonePosition();this.bump(),r.push({type:a.pound,location:B(u,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:a.literal,value:"<".concat(r,"/>"),location:B(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var c=o.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!ce(this.char()))return this.error(i.INVALID_TAG,B(u,this.clonePosition()));var s=this.clonePosition(),l;return r!==this.parseTagName()?this.error(i.UNMATCHED_CLOSING_TAG,B(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:a.tag,value:r,children:c,location:B(n,this.clonePosition())},err:null}:this.error(i.INVALID_TAG,B(u,this.clonePosition())))}return this.error(i.UNCLOSED_TAG,B(n,this.clonePosition()))}return this.error(i.INVALID_TAG,B(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&se(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var c=this.tryParseLeftAngleBracket();if(!c)break;r+=c}}}var u=B(n,this.clonePosition());return{val:{type:a.literal,value:r,location:u},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&ue(this.peek()||0)?null:(this.bump(),"<")},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Q.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Q(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,B(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.EMPTY_ARGUMENT,B(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(i.MALFORMED_ARGUMENT,B(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,B(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:a.argument,value:r,location:B(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,B(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(i.MALFORMED_ARGUMENT,B(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=re(this.message,t),r=t+n.length,o,i;return this.bumpTo(r),{value:n,location:B(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,o){var u,s=this.clonePosition(),l=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(l){case"":return this.error(i.EXPECT_ARGUMENT_TYPE,B(s,f));case"number":case"date":case"time":this.bumpSpace();var p=null,d;if(this.bumpIf(",")){this.bumpSpace();var h=this.clonePosition(),v,y,b;if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(y=ne(v.val)).length)return this.error(i.EXPECT_ARGUMENT_STYLE,B(this.clonePosition(),this.clonePosition()));p={style:y,styleLocation:B(h,this.clonePosition())}}if((d=this.tryParseArgumentClose(o)).err)return d;var m=B(o,this.clonePosition());if(p&&Y(null==p?void 0:p.style,"::",0)){var g=te(p.style.slice(2)),v;if("number"===l)return(v=this.parseNumberSkeletonFromString(g,p.styleLocation)).err?v:{val:{type:a.number,value:n,location:m,style:v.val},err:null};if(0===g.length)return this.error(i.EXPECT_DATE_TIME_SKELETON,m);var y={type:c.dateTime,pattern:g,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?_(g):{}},O;return{val:{type:"date"===l?a.date:a.time,value:n,location:m,style:y},err:null}}return{val:{type:"number"===l?a.number:"date"===l?a.date:a.time,value:n,location:m,style:null!==(u=null==p?void 0:p.style)&&void 0!==u?u:null},err:null};case"plural":case"selectordinal":case"select":var j=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.EXPECT_SELECT_ARGUMENT_OPTIONS,B(j,Object(r.a)({},j)));this.bumpSpace();var w=this.parseIdentifierIfPossible(),k=0;if("select"!==l&&"offset"===w.value){if(!this.bumpIf(":"))return this.error(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,B(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),w=this.parseIdentifierIfPossible(),k=v.val}var S=this.tryParsePluralOrSelectOptions(e,l,t,w),d;if(S.err)return S;if((d=this.tryParseArgumentClose(o)).err)return d;var E=B(o,this.clonePosition());return"select"===l?{val:{type:a.select,value:n,options:Z(S.val),location:E},err:null}:{val:{type:a.plural,value:n,options:Z(S.val),offset:k,pluralType:"plural"===l?"cardinal":"ordinal",location:E},err:null};default:return this.error(i.INVALID_ARGUMENT_TYPE,B(s,f))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,B(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){var n;switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,B(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=E(e)}catch(e){return this.error(i.INVALID_NUMBER_SKELETON,t)}return{val:{type:c.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?I(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,a=!1,c=[],u=new Set,s=r.value,l=r.location;;){if(0===s.length){var f=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var p=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;l=B(f,this.clonePosition()),s=this.message.slice(f.offset,this.offset())}if(u.has(s))return this.error("select"===t?i.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===s&&(a=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,B(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var v=this.tryParseArgumentClose(d);if(v.err)return v;c.push([s,{value:h.val,location:B(d,this.clonePosition())}]),u.add(s),this.bumpSpace(),s=(o=this.parseIdentifierIfPossible()).value,l=o.location}return 0===c.length?this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR:i.EXPECT_PLURAL_ARGUMENT_SELECTOR,B(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(i.MISSING_OTHER_CLAUSE,B(this.clonePosition(),this.clonePosition())):{val:c,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var c=B(r,this.clonePosition());return o?X(i*=n)?{val:i,err:null}:this.error(t,c):this.error(e,c)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=ee(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Y(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&le(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function ce(e){return e>=97&&e<=122||e>=65&&e<=90}function ue(e){return ce(e)||47===e}function se(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function le(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function fe(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function pe(e){e.forEach((function(e){if(delete e.location,d(e)||h(e))for(var t in e.options)delete e.options[t].location,pe(e.options[t].value);else l(e)&&b(e.style)||(f(e)||p(e))&&m(e.style)?delete e.style.location:y(e)&&pe(e.children)}))}function de(e,t){void 0===t&&(t={}),t=Object(r.a)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new ae(e,t).parse();if(n.err){var o=SyntaxError(i[n.err.kind]);throw o.location=n.err.location,o.originalMessage=n.err.message,o}return(null==t?void 0:t.captureLocation)||pe(n.val),n.val}function he(e,t){var n=t&&t.cache?t.cache:_e,r=t&&t.serializer?t.serializer:we,o;return(t&&t.strategy?t.strategy:ge)(e,{cache:n,serializer:r})}function ve(e){return null==e||"number"==typeof e||"boolean"==typeof e}function ye(e,t,n,r){var o=ve(r)?r:n(r),i=t.get(o);return void 0===i&&(i=e.call(this,r),t.set(o,i)),i}function be(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function me(e,t,n,r,o){return n.bind(t,e,r,o)}function ge(e,t){var n;return me(e,this,1===e.length?ye:be,t.cache.create(),t.serializer)}function Oe(e,t){return me(e,this,be,t.cache.create(),t.serializer)}function je(e,t){return me(e,this,ye,t.cache.create(),t.serializer)}var we=function(){return JSON.stringify(arguments)};function ke(){this.cache=Object.create(null)}ke.prototype.get=function(e){return this.cache[e]},ke.prototype.set=function(e,t){this.cache[e]=t};var _e={create:function e(){return new ke}},Se={variadic:Oe,monadic:je},Ee;!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ee||(Ee={}));var Pe=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Ce=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Ee.INVALID_VALUE,o)||this}return Object(r.c)(t,e),t}(Pe),Te=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Ee.INVALID_VALUE,r)||this}return Object(r.c)(t,e),t}(Pe),xe=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Ee.MISSING_VALUE,n)||this}return Object(r.c)(t,e),t}(Pe),Ne;function Ae(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Ne.literal&&t.type===Ne.literal?n.value+=t.value:e.push(t),e}),[])}function Re(e){return"function"==typeof e}function Me(e,t,n,r,o,i,a){if(1===e.length&&u(e[0]))return[{type:Ne.literal,value:e[0].value}];for(var c=[],g=0,O=e;g<O.length;g++){var j=O[g];if(u(j))c.push({type:Ne.literal,value:j.value});else if(v(j))"number"==typeof i&&c.push({type:Ne.literal,value:n.getNumberFormat(t).format(i)});else{var w=j.value;if(!o||!(w in o))throw new xe(w,a);var k=o[w];if(s(j))k&&"string"!=typeof k&&"number"!=typeof k||(k="string"==typeof k||"number"==typeof k?String(k):""),c.push({type:"string"==typeof k?Ne.literal:Ne.object,value:k});else if(f(j)){var _="string"==typeof j.style?r.date[j.style]:m(j.style)?j.style.parsedOptions:void 0;c.push({type:Ne.literal,value:n.getDateTimeFormat(t,_).format(k)})}else if(p(j)){var _="string"==typeof j.style?r.time[j.style]:m(j.style)?j.style.parsedOptions:void 0;c.push({type:Ne.literal,value:n.getDateTimeFormat(t,_).format(k)})}else if(l(j)){var _;(_="string"==typeof j.style?r.number[j.style]:b(j.style)?j.style.parsedOptions:void 0)&&_.scale&&(k*=_.scale||1),c.push({type:Ne.literal,value:n.getNumberFormat(t,_).format(k)})}else{if(y(j)){var S=j.children,E=j.value,P=o[E];if(!Re(P))throw new Te(E,"function",a);var C,T=P(Me(S,t,n,r,o,i).map((function(e){return e.value})));Array.isArray(T)||(T=[T]),c.push.apply(c,T.map((function(e){return{type:"string"==typeof e?Ne.literal:Ne.object,value:e}})))}if(d(j)){var x;if(!(x=j.options[k]||j.options.other))throw new Ce(j.value,k,Object.keys(j.options),a);c.push.apply(c,Me(x.value,t,n,r,o))}else if(h(j)){var x;if(!(x=j.options["=".concat(k)])){if(!Intl.PluralRules)throw new Pe('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ee.MISSING_INTL_API,a);var N=n.getPluralRules(t,{type:j.pluralType}).select(k-(j.offset||0));x=j.options[N]||j.options.other}if(!x)throw new Ce(j.value,k,Object.keys(j.options),a);c.push.apply(c,Me(x.value,t,n,r,o,k-(j.offset||0)))}else;}}}return Ae(c)}function Le(e,t){return t?Object(r.a)(Object(r.a)(Object(r.a)({},e||{}),t||{}),Object.keys(e).reduce((function(n,o){return n[o]=Object(r.a)(Object(r.a)({},e[o]),t[o]||{}),n}),{})):e}function De(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]=Le(e[r],t[r]),n}),Object(r.a)({},e)):e}function Ie(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Ve(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:he((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Ie(e.number),strategy:Se.variadic}),getDateTimeFormat:he((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Ie(e.dateTime),strategy:Se.variadic}),getPluralRules:he((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Ie(e.pluralRules),strategy:Se.variadic})}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Ne||(Ne={}));var Fe=function(){function e(t,n,r,o){var i=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=i.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Ne.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Me(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(i.locales)[0]}},this.getAst=function(){return i.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=De(e.formats,r),this.locales=n,this.formatters=o&&o.formatters||Ve(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=de,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Be=n(9),Ue=n(44);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t,n){return t&&Je(e.prototype,t),n&&Je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var We={en:"en-US",zh:"zh-CN",zt:"zh-TW",es:"es-ES",pt:"pt-PT",fr:"fr-FR",de:"de-DE",it:"it-IT",ru:"ru-RU",ja:"ja-JP",ko:"ko-KR",ar:"ar-SA",tr:"tr-TR",th:"th-TH",vi:"vi-VN",nl:"nl-NL",he:"iw-IL",id:"in-ID",pl:"pl-PL",hi:"hi-IN",uk:"uk-UA",ms:"ms-MY",tl:"tl-PH"},He="ali-lowcode-config",Xe=function(){function e(){ze(this,e),this.emitter=new Be.EventEmitter,this._locale=void 0,this.emitter.setMaxListeners(0)}return $e(e,[{key:"locale",get:function e(){if(null!=this._locale)return this._locale;var t=Ke("locale");if(t)return We[t]||t.replace("_","-");if(qe(window)){var n,r=window.localStorage,o;try{o=JSON.parse(r.getItem(He)||"")}catch(e){}if(null!==(n=o)&&void 0!==n&&n.locale)return(o.locale||"").replace("_","-")}var i,a=window.navigator;if(a.language){var c=a.language;return We[c]||c.replace("_","-")}if(a.browserLanguage){var u=a.browserLanguage.split("-");t=u[0],u[1]&&(t+="-".concat(u[1].toUpperCase()))}return t||(t="zh-CN"),t}},{key:"setLocale",value:function e(t){if(t!==this.locale){if(this._locale=t,qe(window)){var n=window.localStorage,r;try{r=JSON.parse(n.getItem(He)||"")}catch(e){}r&&"object"===Ge(r)?r.locale=t:r={locale:t},n.setItem(He,JSON.stringify(r))}this.emitter.emit("localechange",t)}}},{key:"getLocale",value:function e(){return this.locale}},{key:"onChangeLocale",value:function e(t){var n=this;return this.emitter.on("localechange",t),function(){n.emitter.removeListener("localechange",t)}}}]),e}();function Ke(e){var t=window;return t[e]||(t.g_config||{})[e]||(t.pageConfig||{})[e]}function qe(e){return e.localStorage}Object(r.b)([Ue.h.ref,Object(r.d)("design:type",String)],Xe.prototype,"_locale",void 0),Object(r.b)([Ue.c,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],Xe.prototype,"locale",null);var Ye=new Xe,Qe=n(4),Ze=n(33);function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}function ot(e,t){return(ot=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function it(e){var t=ut();return function n(){var r=st(e),o;if(t){var i=st(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return at(this,o)}}function at(e,t){if(t&&("object"===lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ct(e)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function pt(e,t){if(e){if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ht(e){var t=[e,e.replace("-","_")];return"zh-TW"===e||"en-US"===e?(t.push("zh-CN"),t.push("zh_CN")):(t.push("en-US"),t.push("en_US"),"zh-CN"!==e&&(t.push("zh-CN"),t.push("zh_CN"))),t}function vt(e,t,n){return e&&t?new Fe(e,n).format(t):e;var r}function yt(e,t){if(!Object(Qe.isI18nData)(e))return e;if(e.intl)return e.intl;var n=Ye.getLocale(),r,o,i=ft(ht(n)),a;try{for(i.s();!(a=i.n()).done;){var c;if(null!=(o=e[a.value]))break}}catch(e){i.e(e)}finally{i.f()}return null==o?"##intl@".concat(n,"##"):vt(o,t,n)}function bt(e){if(!e||"object"!==lt(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=yt(e[n])})),t}function mt(e,t){return Object(Qe.isI18nData)(e)?e.intlNode?e.intlNode:Object(o.createElement)(gt,{data:e,params:t}):e}var gt=function(e){rt(n,e);var t=it(n);function n(){return et(this,n),t.apply(this,arguments)}return nt(n,[{key:"render",value:function e(){var t=this.props,n,r;return yt(t.data,t.params)}}]),n}(o.Component);function Ot(e){var t=function(){var t=Ye.getLocale();if("string"==typeof e){if(window[e])return window[e][t]||{};var n="".concat(e,"_").concat(t.toLocaleLowerCase());return window[n]||{}}return e&&"object"===lt(e)&&e[t]||{}}();function n(e,n){var r=t[e];return null==r?"##intl@".concat(e,"##"):vt(r,n,Ye.getLocale())}var i=function(e){rt(r,e);var t=it(r);function r(){return et(this,r),t.apply(this,arguments)}return nt(r,[{key:"render",value:function e(){var t=this.props,r,o;return n(t.id,t.params)}}]),r}(o.Component);return i=Object(r.b)([Ze.i],i),{intlNode:function e(t,n){return Object(o.createElement)(i,{id:t,params:n})},intl:n,getLocale:function e(){return Ye.getLocale()},setLocale:function e(t){Ye.setLocale(t)}}}gt=Object(r.b)([Ze.i],gt)},function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"d",(function(){return W})),n.d(t,"f",(function(){return K})),n.d(t,"c",(function(){return q})),n.d(t,"g",(function(){return Q})),n.d(t,"b",(function(){return Z})),n.d(t,"e",(function(){return ee}));var r=n(0),o=n(4),i=n(3),a=n(1),c=n(9),u=n.n(c);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=e.devMode;return l(l({},e),{},{devMode:null==t?void 0:t.replace(/(low|pro)code/,"$1Code")})}function d(e){var t=e.configure,n=e.componentName,r=t.component,o=void 0===r?{}:r,i;o.nestingRule||((i=/^(.+)\.Group$/.exec(n))?o.nestingRule={childWhitelist:["".concat(i[1])]}:(i=/^(.+)\.Node$/.exec(n))?o.nestingRule={parentWhitelist:["".concat(i[1]),n]}:(i=/^(.+)\.(Item|Node|Option)$/.exec(n))&&(o.nestingRule={parentWhitelist:["".concat(i[1])]}));return l(l({},e),{},{configure:l(l({},t),{},{component:o})})}var h=n(15),v=n(29);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return React.createElement(i.e,y({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M704 480v-160c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480h-160z m-320-160c0-70.4 57.6-128 128-128s128 57.6 128 128v160h-256v-160z m416 512H224v-288h576v288z",fill:"#ffffff","p-id":"2680"}),React.createElement("path",{d:"M480 768h64v-160h-64z",fill:"#ffffff","p-id":"2681"}))}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return React.createElement(i.e,m({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M183.423543 657.078213l163.499771-98.484012c-4.233418-14.908548-6.646374-30.585599-6.646374-46.852074 0-94.665033 76.739778-171.404812 171.404812-171.404812 45.983287 0 87.641059 18.20871 118.42518 47.679929l129.791042-78.17957c-73.254398-41.73145-157.866471-65.812915-248.216221-65.812915-192.742792 0-360.068705 108.505249-444.453604 267.715321C96.636944 567.228859 136.301316 616.355743 183.423543 657.078213zM841.253886 367.552144l-164.382884 99.015108c3.934612 14.415314 6.215562 29.513174 6.215562 45.174875 0 94.665033-76.739778 171.404812-171.404812 171.404812-45.361117 0-86.484723-17.747199-117.142977-46.515407l-129.419582 77.955466c72.874751 41.149189 156.893306 64.871473 246.563582 64.871473 192.742792 0 360.068705-108.505249 444.453604-267.717368C927.000805 456.773188 887.794875 408.054603 841.253886 367.552144zM420.280042 511.741104c0 0.550539 0.152473 1.060145 0.161682 1.608637l135.080511-81.366146c-13.065574-7.198959-27.854395-11.658528-43.826158-11.658528C461.20922 420.325068 420.280042 461.254246 420.280042 511.741104zM447.739441 576.947198l69.02098-41.574884L948.364369 275.395234c10.812253-6.512321 14.297634-20.558222 7.785314-31.369452-6.512321-10.812253-20.556175-14.296611-31.368428-7.785314L575.654762 446.537056l0 0-151.20577 91.078345 0 0L75.027787 748.090043c-10.812253 6.512321-14.297634 20.556175-7.785314 31.368428 6.512321 10.812253 20.556175 14.297634 31.369452 7.785314L447.739441 576.947198 447.739441 576.947198zM511.696078 603.157139c50.487881 0 91.416036-40.928155 91.416036-91.416036 0-0.549515-0.152473-1.057075-0.161682-1.605567l-135.079488 81.364099C480.935494 598.699618 495.724315 603.157139 511.696078 603.157139z"}))}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){return React.createElement(i.e,O({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){return React.createElement(i.e,w({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e){return React.createElement(i.e,_({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M783.5648 437.4528h-18.0224V336.6912c0-43.8272-35.6352-79.4624-79.4624-79.4624h-110.592V241.664c0-90.9312-73.728-164.6592-164.6592-164.6592-90.9312 0-164.6592 73.728-164.6592 164.6592v15.5648H155.2384c-43.8272 0-79.4624 35.6352-79.4624 79.4624v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h56.1152c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192H106.496c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 43.8272 35.6352 79.4624 79.4624 79.4624h531.2512c43.8272 0 79.4624-35.6352 79.4624-79.4624v-100.7616h18.0224c90.9312 0 164.6592-73.728 164.6592-164.6592-0.4096-90.9312-74.1376-164.6592-165.0688-164.6592z m0 267.8784h-48.7424c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 9.8304-8.192 18.0224-18.0224 18.0224H155.2384c-9.8304 0-18.0224-8.192-18.0224-18.0224v-100.7616h25.3952c90.9312 0 164.6592-73.728 164.6592-164.6592 0-90.9312-73.728-164.6592-164.6592-164.6592h-25.3952V336.6912c0-9.8304 8.192-18.0224 18.0224-18.0224h121.6512c16.7936 0 30.72-13.9264 30.72-30.72V241.664c0-56.9344 46.2848-103.2192 103.2192-103.2192s103.2192 46.2848 103.2192 103.2192v46.2848c0 16.7936 13.9264 30.72 30.72 30.72h141.312c9.8304 0 18.0224 8.192 18.0224 18.0224v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h48.7424c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192z"}))}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e){return React.createElement(i.e,E({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M192 256.16C192 220.736 220.704 192 256.16 192h639.68C931.264 192 960 220.704 960 256.16v639.68A64.16 64.16 0 0 1 895.84 960H256.16A64.16 64.16 0 0 1 192 895.84V256.16z m64 31.584v576.512a32 32 0 0 0 31.744 31.744h576.512a32 32 0 0 0 31.744-31.744V287.744A32 32 0 0 0 864.256 256H287.744A32 32 0 0 0 256 287.744zM288 192v64h64V192H288z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m96 96v64h64V288h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m-96 96v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64H288z m-96-96v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64V288H192z m160 416c0-17.664 14.592-32 32.064-32h319.872a31.968 31.968 0 1 1 0 64h-319.872A31.968 31.968 0 0 1 352 704z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 576z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 448z m512 47.936V192h-64V159.968A31.776 31.776 0 0 0 768.032 128H160A31.776 31.776 0 0 0 128 159.968V768c0 17.92 14.304 31.968 31.968 31.968H192v64h303.936H128.128A63.968 63.968 0 0 1 64 799.872V128.128C64 92.704 92.48 64 128.128 64h671.744C835.296 64 864 92.48 864 128.128v367.808z"}))}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e){return React.createElement(i.e,C({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M381.6 864H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0.1-5.7-5.5-10.3-12.3-10.3zM382 780.6H162c-6.9 0-12.5 4.6-12.5 10.3v19.3c0 5.7 5.6 10.3 12.5 10.3h220c6.9 0 12.5-4.6 12.5-10.3v-19.3c0-5.7-5.6-10.3-12.5-10.3zM162.4 737.2h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0-5.7-5.6-10.3-12.4-10.3H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3z"}),React.createElement("path",{d:"M977.1 0H46.9C21 0 0 21 0 46.9v930.2c0 25.9 21 46.9 46.9 46.9h930.2c25.9 0 46.9-21 46.9-46.9V46.9C1024 21 1003 0 977.1 0z m-18.7 911.6c0 25.9-21 46.9-46.9 46.9H112.4c-25.9 0-46.9-21-46.9-47V112.4c0-25.9 21-46.9 46.9-46.9h799.1c25.9 0 46.9 21 46.9 46.9v799.2z"}),React.createElement("path",{d:"M207.9 342.7h608.2c32 0 57.9-25.9 57.9-57.9v-83c0-32-25.9-57.9-57.9-57.9H207.9c-32 0-57.9 25.9-57.9 57.9v83c0 32 25.9 57.9 57.9 57.9zM200 201.8c0-4.4 3.5-7.9 7.9-7.9h608.2c4.4 0 7.9 3.5 7.9 7.9v83c0 4.4-3.5 7.9-7.9 7.9H207.9c-4.4 0-7.9-3.5-7.9-7.9v-83zM806.4 405.7h-277c-37.3 0-67.6 30.2-67.6 67.6v363.2c0 37.3 30.2 67.6 67.6 67.6h277c37.3 0 67.6-30.2 67.6-67.6V473.3c0-37.4-30.2-67.6-67.6-67.6zM824 836.4c0 9.7-7.9 17.6-17.6 17.6h-277c-9.7 0-17.6-7.9-17.6-17.6V473.3c0-9.7 7.9-17.6 17.6-17.6h277c9.7 0 17.6 7.9 17.6 17.6v363.1zM272 649.7c67.4 0 122-54.6 122-122s-54.6-122-122-122-122 54.6-122 122 54.6 122 122 122z m0-204c45.2 0 82 36.8 82 82s-36.8 82-82 82-82-36.8-82-82 36.8-82 82-82z"}))}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e){return React.createElement(i.e,x({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M800 800h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-256 0h64v64h-64v-64z m0-640h64v64h-64v-64z m128 640h64v64h-64v-64zM160 672h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m640 384h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z"}),React.createElement("path",{d:"M896 64H128c-35.2 0-64 28.8-64 64v768c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V128c0-35.2-28.8-64-64-64z m0 800c0 19.2-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V160c0-19.2 12.8-32 32-32h704c19.2 0 32 12.8 32 32v704z"}))}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e){return React.createElement(i.e,A({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M384 480v-160c0-70.4 57.6-128 128-128s128 57.6 128 128v64h64v-64c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480H384z m416 352H224v-288h576v288z",fill:"#ffffff","p-id":"2813"}),React.createElement("path",{d:"M416 736h192v-64h-192z",fill:"#ffffff","p-id":"2814"}))}b.displayName="IconLock",g.displayName="Hidden",j.displayName="Remove",k.displayName="Setting",S.displayName="Component",P.displayName="Clone",T.displayName="Page",N.displayName="Container",R.displayName="IconUnlock";var M=["componentName","npm"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){if(null==e)return{};var n=F(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function F(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e){if(!e)return null;if(!Array.isArray(e)){if("string"!=typeof e)return null;e=e.split(/ *[ ,|] */).filter(Boolean)}return e.length<1?null:e}function J(e){if(!e)return null;if("function"==typeof e)return e;if(Object(i.A)(e))return function(t){return e.test(t.componentName)};var t=z(e);return t?function(e){return t.includes(e.componentName)}:null}var $=function(){function e(t,n){B(this,e),this.designer=void 0,this.isComponentMeta=!0,this._npm=void 0,this.emitter=new u.a,this._componentName=void 0,this._isContainer=void 0,this._isModal=void 0,this._descriptor=void 0,this._rootSelector=void 0,this._transformedMetadata=void 0,this._liveTextEditing=void 0,this._isTopFixed=void 0,this.parentWhitelist=void 0,this.childWhitelist=void 0,this._title=void 0,this._isMinimalRenderUnit=void 0,this._acceptable=void 0,this.prototype=void 0,this.designer=t,this.parseMetadata(n)}return G(e,[{key:"npm",get:function e(){return this._npm},set:function e(t){this.setNpm(t)}},{key:"componentName",get:function e(){return this._componentName}},{key:"isContainer",get:function e(){return this._isContainer||this.isRootComponent()}},{key:"isMinimalRenderUnit",get:function e(){return this._isMinimalRenderUnit||!1}},{key:"isModal",get:function e(){return this._isModal}},{key:"descriptor",get:function e(){return this._descriptor}},{key:"rootSelector",get:function e(){return this._rootSelector}},{key:"configure",get:function e(){var t,n=null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure;return(null==n?void 0:n.combined)||(null==n?void 0:n.props)||[]}},{key:"liveTextEditing",get:function e(){return this._liveTextEditing}},{key:"isTopFixed",get:function e(){return this._isTopFixed}},{key:"title",get:function e(){return Object(o.isTitleConfig)(this._title)?this._title.label||this.componentName:this._title||this.componentName}},{key:"icon",get:function e(){var t;return(null===(t=this._transformedMetadata)||void 0===t?void 0:t.icon)||("Page"===this.componentName?T:this.isContainer?N:S)}},{key:"acceptable",get:function e(){return this._acceptable}},{key:"setNpm",value:function e(t){this._npm||(this._npm=t)}},{key:"parseMetadata",value:function e(t){var n,r,o=t.componentName,i=t.npm,a=V(t,M),c=t;i||Object.keys(a).length||(c={componentName:o,configure:{component:{disableBehaviors:["copy","move","lock","unlock"]},advanced:{callbacks:{onMoveHook:function e(){return!1}}}}}),this._npm=i||this._npm,this._componentName=o,this._transformedMetadata=this.transformMetadata(c);var u=this._transformedMetadata.title;u&&(this._title="string"==typeof u?{type:"i18n","en-US":this.componentName,"zh-CN":u}:u);var s=(null===(n=this._transformedMetadata.configure.advanced)||void 0===n?void 0:n.liveTextEditing)||[];function l(e){e.forEach((function(e){if(null!=e&&e.items)l(e.items);else{var t,n=e.liveTextEditing||(null===(t=e.extraProps)||void 0===t?void 0:t.liveTextEditing);n&&s.push(D({propTarget:String(e.name)},n))}}))}l(this.configure),this._liveTextEditing=s.length>0?s:void 0;var f=null===(r=this._transformedMetadata.configure.advanced)||void 0===r?void 0:r.isTopFixed;f&&(this._isTopFixed=f);var p=this._transformedMetadata.configure,d=void 0===p?{}:p;this._acceptable=!1;var h=d.component;if(h){if(this._isContainer=!!h.isContainer,this._isModal=!!h.isModal,this._descriptor=h.descriptor,this._rootSelector=h.rootSelector,this._isMinimalRenderUnit=h.isMinimalRenderUnit,h.nestingRule){var v=h.nestingRule,y=v.parentWhitelist,b=v.childWhitelist;this.parentWhitelist=J(y),this.childWhitelist=J(b)}}else this._isContainer=!1,this._isModal=!1;this.emitter.emit("metadata_change")}},{key:"refreshMetadata",value:function e(){this.parseMetadata(this.getMetadata())}},{key:"transformMetadata",value:function e(t){var n=q().reduce((function(e,t){return t(e)}),H(t));return n.configure||(n.configure={}),n.experimental&&!n.configure.advanced&&(Object(i.o)(n.experimental,".experimental",".configure.advanced"),n.configure.advanced=n.experimental),n}},{key:"isRootComponent",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"Page"===this.componentName||"Component"===this.componentName||t&&"Block"===this.componentName}},{key:"availableActions",get:function e(){var t,n=(null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure.component)||{},r=n.disableBehaviors,o=n.actions,i=z(r)||(this.isRootComponent(!1)?["copy","remove","lock","unlock"]:null);return o=Y.concat(this.designer.getGlobalComponentActions()||[],o||[]),i?i.includes("*")?o.filter((function(e){return"always"===e.condition})):o.filter((function(e){return i.indexOf(e.name)<0})):o}},{key:"setMetadata",value:function e(t){this.parseMetadata(t)}},{key:"getMetadata",value:function e(){return this._transformedMetadata}},{key:"checkNestingUp",value:function e(t,n){return!this.parentWhitelist||this.parentWhitelist(n.internalToShellNode(),Object(h.j)(t)?t.internalToShellNode():t)}},{key:"checkNestingDown",value:function e(t,n){var r=this,o;return!this.childWhitelist||(Array.isArray(n)?n:[n]).every((function(e){var n=Object(h.j)(e)?e:new h.b(t.document,e);return r.childWhitelist&&r.childWhitelist(n.internalToShellNode(),t.internalToShellNode())}))}},{key:"onMetadataChange",value:function e(t){var n=this;return this.emitter.on("metadata_change",t),function(){n.emitter.removeListener("metadata_change",t)}}}]),e}();function W(e){return e&&e.isComponentMeta}function H(e){return e.configure?Array.isArray(e.configure)?D(D({},e),{},{configure:{props:e.configure}}):e:D(D({},e),{},{configure:{}})}Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],$.prototype,"icon",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],$.prototype,"availableActions",null);var X=[];function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2?arguments[2]:void 0;e.level=t,e.id=n;var r=X.findIndex((function(e){return null!=e.level&&e.level>t}));r<0?X.push(e):X.splice(r,0,e)}function q(){return X}var Y=[{name:"remove",content:{icon:j,title:Object(v.b)("remove"),action:function e(t){t.remove()}},important:!0},{name:"hide",content:{icon:g,title:Object(v.b)("hide"),action:function e(t){t.setVisible(!1)}},condition:function e(t){return t.componentMeta.isModal},important:!0},{name:"copy",content:{icon:P,title:Object(v.b)("copy"),action:function e(t){var n=t.document,r=t.parent,o=t.index;if(r){var i=n.insertNode(r,t,o+1,!0);i.select();var a=t.getRGL(),c=a.isRGL,u=a.rglNode;if(c){var s=u.getPropValue("layout")||[],l=s.filter((function(e){return e.i===t.getPropValue("fieldId")}));l&&l[0]&&(s.push(D(D({},l[0]),{},{i:i.getPropValue("fieldId")})),u.setPropValue("layout",s),setTimeout((function(){var e;return null===(e=i.document.simulator)||void 0===e?void 0:e.scrollToNode(i)}),10))}}}},important:!0},{name:"lock",content:{icon:b,title:Object(v.b)("lock"),action:function e(t){t.lock()}},condition:function e(t){return a.engineConfig.get("enableCanvasLock",!1)&&t.isContainer()&&!t.isLocked},important:!0},{name:"unlock",content:{icon:R,title:Object(v.b)("unlock"),action:function e(t){t.lock(!1)}},condition:function e(t){return a.engineConfig.get("enableCanvasLock",!1)&&t.isContainer()&&t.isLocked},important:!0}];function Q(e){var t=Y.findIndex((function(t){return t.name===e}));t>-1&&Y.splice(t,1)}function Z(e){Y.push(e)}function ee(e,t){var n=Y.find((function(t){return t.name===e}));n&&t(n)}K(p,2,"legacy-issues"),K(d,100,"component-defaults")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(1),o=n(125),i=n.t(125,1),a=n(126),c=n.t(126,1),u=Object(r.createIntl)({"en-US":o,"zh-CN":a}),s=u.intl,l=u.intlNode,f=u.getLocale,p=u.setLocale},function(e,t){var n=function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},r="undefined"!=typeof requestIdleCallback;e.exports=r?requestIdleCallback:n,e.exports.cancelIdleCallback=r?cancelIdleCallback:clearTimeout},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";function r(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.length-1;o>=0;o--)t.call(r,n(e,o))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return a.h})),n.d(t,"h",(function(){return a.f})),n.d(t,"b",(function(){return a.b})),n.d(t,"f",(function(){return a.d})),n.d(t,"k",(function(){return a.i})),n.d(t,"c",(function(){return a.c})),n.d(t,"a",(function(){return a.a})),n.d(t,"l",(function(){return a.j})),n.d(t,"n",(function(){return a.k})),n.d(t,"g",(function(){return a.e})),n.d(t,"i",(function(){return a.g})),n.d(t,"d",(function(){return x})),n.d(t,"m",(function(){return D})),n.d(t,"o",(function(){return I}));var o=null===(r=document.currentScript)||void 0===r?void 0:r.src.replace(/^(.*\/)[^/]+$/,"$1");function i(){return o||""}var a=n(44),c=n(122),u;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return m(e)||b(e,t)||v(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[],o=!0,i=!1,a,c;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){i=!0,c=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw c}}return r}}function m(e){if(Array.isArray(e))return e}var g=n.n(c)()("request");function O(e){if(!e)return"";var t=[];return Object.entries(e||{}).forEach((function(e){var n=d(e,2),r=n[0],o=n[1];null!=o&&""!==o&&("object"===p(o)?t.push("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(o)))):t.push("".concat(r,"=").concat(encodeURIComponent(o))))})),t.join("&")}function j(e,t){var n=O(t);return n?e.indexOf("?")>0?"".concat(e,"&").concat(n):"".concat(e,"?").concat(n):e}function w(e,t,n,r){var o=l({Accept:"application/json"},n);return _(j(e,t),"GET",void 0,o,r)}function k(e,t,n,r){var o=l({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},n);return _(e,"POST",o["Content-Type"].indexOf("application/json")>-1||Array.isArray(t)?JSON.stringify(t):O(t),o,r)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,a){o&&o.timeout&&setTimeout((function(){a(new Error("timeout"))}),o.timeout),fetch(e,l({method:t,credentials:"include",headers:r,body:n},o)).then((function(e){switch(e.status){case 200:case 201:case 202:return e.json();case 204:return"DELETE"===t?{success:!0}:{__success:!1,code:e.status};case 400:case 401:case 403:case 404:case 406:case 410:case 422:case 500:return e.json().then((function(t){return{__success:!1,code:e.status,data:t}})).catch((function(){return{__success:!1,code:e.status}}));default:return null}})).then((function(e){e&&!1!==e.__success?i(e):(delete e.__success,a(e))})).catch((function(e){g(e),a(e)}))}))}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var C=function(){function e(){S(this,e),this.actives=[],this.modals=[]}return P(e,[{key:"mount",value:function e(t){var n=this,r=function e(t){if(!n.checkModalDown(t)){var r=n.first;r&&!r.internalCheckInRange(t)&&(n.internalSuspenseItem(r),r.internalTriggerBlur())}};return t.document.addEventListener("click",r,!0),function(){t.document.removeEventListener("click",r,!0)}}},{key:"first",get:function e(){return this.actives[0]}},{key:"addModal",value:function e(t,n){this.modals.push({checkDown:t,checkOpen:n})}},{key:"checkModalOpen",value:function e(){return this.modals.some((function(e){return e.checkOpen()}))}},{key:"checkModalDown",value:function e(t){return this.modals.some((function(e){return e.checkDown(t)}))}},{key:"execSave",value:function e(){this.checkModalOpen()||this.first&&this.first.internalTriggerSave()}},{key:"execEsc",value:function e(){var t=this.first;t&&(this.internalSuspenseItem(t),t.internalTriggerEsc())}},{key:"create",value:function e(t){return new T(this,t)}},{key:"internalActiveItem",value:function e(t){var n=this.actives[0];if(n!==t){var r=this.actives.indexOf(t);r>-1&&this.actives.splice(r,1),this.actives.unshift(t),!t.isModal&&n&&n.internalTriggerBlur(),t.internalTriggerActive()}}},{key:"internalSuspenseItem",value:function e(t){var n=this.actives.indexOf(t),r;n>-1&&(this.actives.splice(n,1),null===(r=this.first)||void 0===r||r.internalTriggerActive())}}]),e}(),T=function(){function e(t,n){S(this,e),this.tracker=void 0,this.config=void 0,this.isModal=void 0,this.tracker=t,this.config=n,this.isModal=null!=n.modal&&n.modal}return P(e,[{key:"active",value:function e(){this.tracker.internalActiveItem(this)}},{key:"suspense",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"purge",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"internalCheckInRange",value:function e(t){var n=this.config.range;return!!n&&("function"==typeof n?n(t):n.contains(t.target))}},{key:"internalTriggerBlur",value:function e(){this.config.onBlur&&this.config.onBlur()}},{key:"internalTriggerSave",value:function e(){return!!this.config.onSave&&(this.config.onSave(),!0)}},{key:"internalTriggerEsc",value:function e(){this.config.onEsc&&this.config.onEsc()}},{key:"internalTriggerActive",value:function e(){this.config.onActive&&this.config.onActive()}}]),e}(),x=new C;x.mount(window);var N=!0;function A(e){N=e}function R(){A(!0)}function M(){A(!1)}function L(){return N}function D(e){M(),e(),R()}function I(e){return function(){L()&&e.apply(void 0,arguments)}}var V=n(52)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=e.clipboardData;if(!t)return null;try{var n=JSON.parse(t.getData("text/plain"));if(!n)return{};if(n.componentsTree)return n;if(n.componentName)return{componentsTree:[n]}}catch(e){return{}}}var c=function(){function e(){r(this,e),this.copyPasters=[],this.waitFn=void 0}return i(e,[{key:"isCopyPasteEvent",value:function e(t){this.isCopyPaster(t.target)}},{key:"isCopyPaster",value:function e(t){return this.copyPasters.includes(t)}},{key:"initCopyPaster",value:function e(t){var n=this;this.copyPasters.push(t);var r=function e(r){n.waitFn&&(n.waitFn(a(r),r),n.waitFn=void 0),t.blur()};return t.addEventListener("paste",r,!1),function(){t.removeEventListener("paste",r,!1);var e=n.copyPasters.indexOf(t);e>-1&&n.copyPasters.splice(e,1)}}},{key:"injectCopyPaster",value:function e(t){if(!this.copyPasters.find((function(e){return e.ownerDocument===t}))){var n=t.createElement("textarea");n.style.cssText="position: absolute;left: -9999px;top:-100px",t.body.appendChild(n);var r=this.initCopyPaster(n);return function(){r(),t.removeChild(n)}}}},{key:"setData",value:function e(t){var n=this.copyPasters.find((function(e){return e.ownerDocument}));n&&(n.value="string"==typeof t?t:JSON.stringify(t),n.select(),n.ownerDocument.execCommand("copy"),n.blur())}},{key:"waitPasteData",value:function e(t,n){var r=t.view;if(r){var o=this.copyPasters.find((function(e){return e.ownerDocument===r.document}));o&&(o.select(),this.waitFn=n)}}}]),e}();t.a=new c},function(e,t,n){"use strict";function r(e,t,n){if(!e)throw new Error("[designer] Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}n.d(t,"a",(function(){return r}));var o=n(42),i=n(32)},function(e,t,n){(function(t){var n=a(),r=c(),o=u(),i="undefined"!=typeof window?window:t;function a(){return Object.assign?Object.assign:function e(t,n,r,o){for(var i=1;i<arguments.length;i++)f(Object(arguments[i]),(function(e,n){t[n]=e}));return t}}function c(){if(Object.create)return function e(t,r,o,i){var a=l(arguments,1);return n.apply(this,[Object.create(t)].concat(a))};{function e(){}return function t(r,o,i,a){var c=l(arguments,1);return e.prototype=r,n.apply(this,[new e].concat(c))}}}function u(){return String.prototype.trim?function e(t){return String.prototype.trim.call(t)}:function e(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function s(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function l(e,t){return Array.prototype.slice.call(e,t||0)}function f(e,t){d(e,(function(e,n){return t(e,n),!1}))}function p(e,t){var n=h(e)?[]:{};return d(e,(function(e,r){return n[r]=t(e,r),!1})),n}function d(e,t){if(h(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function h(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e){return e&&"[object Object]"==={}.toString.call(e)}e.exports={assign:n,create:r,trim:o,bind:s,slice:l,each:f,map:p,pluck:d,isList:h,isFunction:v,isObject:y,Global:i}}).call(this,n(69))},function(e,t,n){const r=n(73),o=(e,t,n)=>new r(e,n).compare(new r(t,n));e.exports=o},function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o={debug:-1,log:0,info:0,warn:1,error:2},i=function(e,t,n,r){return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];if(t&&o[t]<=o[e]&&console[e].apply&&("*"===r||n.startsWith(r)))return console[e].apply(console,a(i,n))}};function a(e,t){return"*"!==t&&("string"==typeof e[0]?e[0]="["+t+"] "+e[0]:e=["["+t+"]"].concat(e)),e}function c(e,t){if(!e)return{targetLevel:t.level,targetBizName:t.bizName};if(~e.indexOf(":")){var n=e.split(":");return{targetLevel:n[0],targetBizName:n[1]}}return{targetLevel:e,targetBizName:"*"}}var u={level:"warn",bizName:"*"},s=function(){function e(e){e=r(r({},u),e);var t=location||{},n,a=c((/__(?:logConf|logLevel)__=([^#/&]*)/.exec(t.href)||[])[1],e),s=a.targetLevel,l=a.targetBizName;for(var f in o)this[f]=i(f,s,e.bizName,l)}return e}();t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return R}));var r=n(0),o=n(9),i=n(1),a=n(15),c=n(4),u,s,l;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=function(){function e(t,n){h(this,e),this.designer=void 0,this.emitter=new o.EventEmitter,this.documents=[],this.data={version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},this._simulator=void 0,this._config={},this._i18n={},this.documentsMap=new Map,this.designer=t,Object(i.makeObservable)(this),this.load(n)}return y(e,[{key:"simulator",get:function e(){return this._simulator||null}},{key:"currentDocument",get:function e(){return this.documents.find((function(e){return e.active}))}},{key:"config",get:function e(){return this._config},set:function e(t){this._config=t}},{key:"i18n",get:function e(){return this._i18n},set:function e(t){this._i18n=t||{}}},{key:"getComponentsMap",value:function e(){return this.documents.reduce((function(e,t){var n=t.getComponentsMap();return Array.isArray(n)&&n.forEach((function(t){var n;e.find((function(e){return!(!Object(c.isProCodeComponentType)(e)||!Object(c.isProCodeComponentType)(t)||e.package!==t.package||e.componentName!==t.componentName)||!(!Object(c.isLowCodeComponentType)(e)||e.componentName!==t.componentName)}))||e.push(t)})),e}),[])}},{key:"getSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.TransformStage.Save;return p(p({},this.data),{},{componentsMap:this.getComponentsMap(),componentsTree:this.documents.filter((function(e){return!e.isBlank()})).map((function(e){return e.export(t)})),i18n:this.i18n})}},{key:"setSchema",value:function e(t){var n,r=this.documents.find((function(e){return e.active}));r&&r.import(null==t?void 0:t.componentsTree[0]),null===(n=this.simulator)||void 0===n||n.rerender()}},{key:"load",value:function e(t,n){var r=this;if(this.unload(),this.data=p({version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},t),this.config=(null==t?void 0:t.config)||this.config,this.i18n=(null==t?void 0:t.i18n)||this.i18n,n)if(!0===n){var o,i,a,c,u,s=this.data.componentsTree.map((function(e){return r.createDocument(e)})),l;if((null===(o=this.config)||void 0===o||null===(i=o.layout)||void 0===i||null===(a=i.props)||void 0===a||null===(c=a.tabBar)||void 0===c||null===(u=c.items)||void 0===u?void 0:u.length)>0)null===(l=s.find((function(e){var t;return e.fileName===(null===(t=r.config.layout.props.tabBar.items[0].path)||void 0===t?void 0:t.slice(1))})))||void 0===l||l.open();else s[0].open()}else this.open(n)}},{key:"unload",value:function e(){if(!(this.documents.length<1))for(var t=this.documents.length-1;t>=0;t--)this.documents[t].remove()}},{key:"removeDocument",value:function e(t){var n=this.documents.indexOf(t);n<0||(this.documents.splice(n,1),this.documentsMap.delete(t.id))}},{key:"set",value:function e(t,n){"config"===t&&(this.config=n),"i18n"===t&&(this.i18n=n),Object.assign(this.data,d({},t,n))}},{key:"get",value:function e(t){return"config"===t?this.config:"i18n"===t?this.i18n:Reflect.get(this.data,t)}},{key:"getDocument",value:function e(t){return this.documents.find((function(e){return e.id===t}))||null}},{key:"getDocumentByFileName",value:function e(t){return this.documents.find((function(e){return e.fileName===t}))||null}},{key:"createDocument",value:function e(t){var n,r,o=new a.a(this,t||(null==this||null===(n=this.data)||void 0===n||null===(r=n.componentsTree)||void 0===r?void 0:r[0]));return this.documents.push(o),this.documentsMap.set(o.id,o),o}},{key:"open",value:function e(t){if(!t){var n=this.documents.find((function(e){return e.isBlank()}));return n?n.open():(t=this.createDocument()).open()}if("string"==typeof t){var r=this.documents.find((function(e){return e.fileName===t||e.id===t}));if(r)return r.open();var o=this.data.componentsTree.find((function(e){return e.fileName===t}));return o?(t=this.createDocument(o)).open():null}return Object(a.h)(t)?t.open():(t=this.createDocument(t)).open()}},{key:"checkExclusive",value:function e(t){this.documents.forEach((function(e){e!==t&&e.suspense()})),this.emitter.emit("current-document.change",t)}},{key:"closeOthers",value:function e(t){this.documents.forEach((function(e){e!==t&&e.close()}))}},{key:"simulatorProps",get:function e(){var t=this.designer.simulatorProps;return"function"==typeof t&&(t=t(this)),p(p({},t),{},{project:this,onMount:this.mountSimulator.bind(this)})}},{key:"mountSimulator",value:function e(t){this._simulator=t,this.designer.editor.set("simulator",t),this.emitter.emit("lowcode_engine_simulator_ready",t)}},{key:"setRendererReady",value:function e(t){this.emitter.emit("lowcode_engine_renderer_ready",t)}},{key:"onSimulatorReady",value:function e(t){var n=this;return this.emitter.on("lowcode_engine_simulator_ready",t),function(){n.emitter.removeListener("lowcode_engine_simulator_ready",t)}}},{key:"onRendererReady",value:function e(t){var n=this;return this.emitter.on("lowcode_engine_renderer_ready",t),function(){n.emitter.removeListener("lowcode_engine_renderer_ready",t)}}},{key:"onCurrentDocumentChange",value:function e(t){var n=this;return this.emitter.on("current-document.change",t),function(){n.emitter.removeListener("current-document.change",t)}}}]),e}();Object(r.b)([i.obx.shallow,Object(r.d)("design:type",Array)],b.prototype,"documents",void 0),Object(r.b)([i.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],b.prototype,"currentDocument",null),Object(r.b)([i.obx,Object(r.d)("design:type",Object)],b.prototype,"_config",void 0),Object(r.b)([i.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[Object])],b.prototype,"config",null),Object(r.b)([i.obx.ref,Object(r.d)("design:type",Object)],b.prototype,"_i18n",void 0),Object(r.b)([i.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(u=void 0!==c.ProjectSchema&&c.ProjectSchema)?u:Object,Object]),Object(r.d)("design:returntype",void 0)],b.prototype,"load",null),Object(r.b)([i.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(s=void 0!==c.RootSchema&&c.RootSchema)?s:Object]),Object(r.d)("design:returntype","function"==typeof(l=void 0!==a.a&&a.a)?l:Object)],b.prototype,"createDocument",null),Object(r.b)([i.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],b.prototype,"simulatorProps",null);var m=n(2),g=n(63),O=n(175);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function P(e){var t=x();return function n(){var r=N(e),o;if(t){var i=N(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return C(this,o)}}function C(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var A=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return _(n,[{key:"render",value:function e(){return React.createElement("div",{id:"engine-loading-wrapper"},React.createElement("img",{width:"154",height:"100",src:"https://img.alicdn.com/tfs/TB1CmVgayERMeJjy0FcXXc7opXa-308-200.gif"}))}}]),n}(m.Component),R=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return _(n,[{key:"componentDidMount",value:function e(){var t=this,n,r;this.props.designer.project.onRendererReady((function(){t.forceUpdate()}))}},{key:"render",value:function e(){var t,n=this.props.designer,r=n.project,o=r.simulatorProps,a=n.simulatorComponent||g.a,c=i.engineConfig.get("loadingComponent",A);return React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},!(null!=r&&null!==(t=r.simulator)&&void 0!==t&&t.renderer)&&React.createElement(c,null),React.createElement(a,o)))}}]),n}(m.Component);R=Object(r.b)([i.observer],R)},function(e,t,n){"use strict";n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return H}));var r=n(0),o=n(4),i=n(2),a=n(1);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){return y(e)||v(e,t)||d(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[],o=!0,i=!1,a,c;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){i=!0,c=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw c}}return r}}function y(e){if(Array.isArray(e))return e}function b(e){return e&&(e.Hotter||e.type&&e.type.Hotter)||[]}function m(e){return e&&(e.transducer||e.Transducer||e.type&&(e.type.transducer||e.type.Transducer))||null}function g(e,t,n){if(!e&&Array.isArray(t)){var r=f(t,2),o,i;e={toHot:r[0],toNative:r[1]}}return{toHot:(e&&e.toHot||function(e){return e}).bind(n),toNative:(e&&e.toNative||function(e){return e}).bind(n)}}var O=function(){function e(t,n){u(this,e),this.setterTransducer=void 0,this.context=void 0;var r=n.setter;if(Array.isArray(r))r=r[0];else if(Object(i.isValidElement)(r)&&"MixedSetter"===r.type.displayName){var s,l;r=null===(s=r.props)||void 0===s||null===(l=s.setters)||void 0===l?void 0:l[0]}else if("object"===c(r)&&"MixedSetter"===r.componentName){var f,p;r=Array.isArray(null===(f=r)||void 0===f||null===(p=f.props)||void 0===p?void 0:p.setters)&&r.props.setters[0]}var d=!0;if(Object(o.isSetterConfig)(r)){var h=r,v,y;r=h.componentName,d=!1!==h.isDynamic}if("string"==typeof r){var O=Object(a.getSetter)(r)||{},j=O.component,w=O.isDynamic;r=j,d=void 0===w?d:!1!==w}if(Object(o.isDynamicSetter)(r)&&d)try{r=r.call(t,t)}catch(e){console.error(e)}this.setterTransducer=g(m(r),b(r),t),this.context=t}return l(e,[{key:"toHot",value:function e(t){return this.setterTransducer.toHot(t)}},{key:"toNative",value:function e(t){return this.setterTransducer.toNative(t)}}]),e}(),j=n(66),w=n(3);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["title","items","setter","extraProps"],S,E,P;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(null==e)return{};var n=A(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function e(t,n,r){var o=I(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}function F(e,t){return(F=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function B(e){var t=z();return function n(){var r=J(e),o;if(t){var i=J(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return U(this,o)}}function U(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $(e,t){for(var n=e,r=[t.name];n!==e.top;)n instanceof W&&"group"!==n.type&&r.unshift(n.name),n=n.parent;return r.join(".")}var W=function(e){V(n,e);var t=B(n);function n(e,r,o){var i;R(this,n),(i=t.call(this,e,r.name,r.type)).isSettingField=!0,i.isRequired=void 0,i.transducer=void 0,i._config=void 0,i.extraProps=void 0,i._title=void 0,i._setter=void 0,i._expanded=!0,i.parent=void 0,i._items=[],i.hotValue=void 0,Object(a.makeObservable)(G(i));var c=r.title,u=r.items,s=r.setter,l=r.extraProps,f=N(r,_);return i.parent=e,i._config=r,i._title=c,i._setter=s,i.extraProps=T(T({},f),l),i.isRequired=r.isRequired||(null==s?void 0:s.isRequired),i._expanded=!(null!=l&&l.defaultCollapsed),u&&u.length>0&&i.initItems(u,o),"group"!==i.type&&o&&r.name&&o($(e,r),G(i)),i.transducer=new O(G(i),{setter:s}),i}return L(n,[{key:"title",get:function e(){return this._title||("number"==typeof this.name?"\u9879\u76ee ".concat(this.name):this.name)}},{key:"setter",get:function e(){if(!this._setter)return null;if(Object(o.isDynamicSetter)(this._setter)){var t=this.internalToShellPropEntry();return this._setter.call(t,t)}return this._setter}},{key:"expanded",get:function e(){return this._expanded}},{key:"setExpanded",value:function e(t){this._expanded=t}},{key:"items",get:function e(){return this._items}},{key:"config",get:function e(){return this._config}},{key:"initItems",value:function e(t,r){var i=this;this._items=t.map((function(e){return Object(o.isCustomView)(e)?e:new n(i,e,r)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return H(e)&&e.purge()})),this._items=[]}},{key:"createField",value:function e(t){return new n(this,t)}},{key:"purge",value:function e(){this.disposeItems()}},{key:"getConfig",value:function e(t){return t?this.config[t]:this._config}},{key:"getItems",value:function e(t){return this._items.filter((function(e){return!t||t(e)}))}},{key:"setValue",value:function e(t,r,o,i){r?this.setHotValue(t,i):D(J(n.prototype),"setValue",this).call(this,t,!1,!1,i)}},{key:"getHotValue",value:function e(){if(this.hotValue)return this.hotValue;var t=Object(w.i)(this.getMockOrValue());return null==t&&(t=this.extraProps.defaultValue),this.transducer.toHot(t)}},{key:"setMiniAppDataSourceValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);this.setValue(r,!1,!1,n),Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange()}},{key:"setHotValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);if(n?n.fromSetHotValue=!0:n={fromSetHotValue:!0},this.isUseVariable()){var o=this.getValue();this.setValue({type:"JSExpression",value:o.value,mock:r},!1,!1,n)}else this.setValue(r,!1,!1,n);Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange(n)}},{key:"onEffect",value:function e(t){return this.designer.autorun(t,!0)}}]),n}(j.a);function H(e){return e&&e.isSettingField}Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],W.prototype,"setter",null),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],W.prototype,"_expanded",void 0),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,Boolean,Boolean,"function"==typeof(E="undefined"!=typeof ISetValueOptions&&ISetValueOptions)?E:Object]),Object(r.d)("design:returntype",void 0)],W.prototype,"setValue",null),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,Object]),Object(r.d)("design:returntype",void 0)],W.prototype,"setMiniAppDataSourceValue",null),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object,"function"==typeof(P="undefined"!=typeof ISetValueOptions&&ISetValueOptions)?P:Object]),Object(r.d)("design:returntype",void 0)],W.prototype,"setHotValue",null)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(0),o=n(1),i=n(3),a=n(14),c=n(29),u,s;function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var d=function(){function e(t,n){l(this,e),this.name=void 0,this.isExclusiveGroup=!0,this.id=Object(i.F)("exclusive"),this.children=[],this.visibleIndex=0,this.title=void 0,this.name=t,Object(o.makeObservable)(this),this.title=n||{type:"i18n",intl:Object(c.a)("Condition Group")}}return p(e,[{key:"document",get:function e(){return this.visibleNode.document}},{key:"zLevel",get:function e(){return this.visibleNode.zLevel}},{key:"length",get:function e(){return this.children.length}},{key:"visibleNode",get:function e(){return this.children[this.visibleIndex]}},{key:"firstNode",get:function e(){return this.children[0]}},{key:"index",get:function e(){return this.firstNode.index}},{key:"add",value:function e(t){if(t.nextSibling&&t.nextSibling.conditionGroup===this){var n=this.children.indexOf(t.nextSibling);this.children.splice(n,0,t)}else this.children.push(t)}},{key:"remove",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.children.splice(n,1),this.visibleIndex>n?this.visibleIndex-=1:this.visibleIndex>=this.children.length&&(this.visibleIndex=this.children.length-1))}},{key:"setVisible",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.visibleIndex=n)}},{key:"isVisible",value:function e(t){var n;return this.children.indexOf(t)===this.visibleIndex}}]),e}();function h(e){return e&&e.isExclusiveGroup}Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Array)],d.prototype,"children",void 0),Object(r.b)([o.obx,Object(r.d)("design:type",Object)],d.prototype,"visibleIndex",void 0),Object(r.b)([o.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],d.prototype,"document",null),Object(r.b)([o.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],d.prototype,"zLevel",null),Object(r.b)([o.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],d.prototype,"length",null),Object(r.b)([o.computed,Object(r.d)("design:type","function"==typeof(u=void 0!==a.a&&a.a)?u:Object),Object(r.d)("design:paramtypes",[])],d.prototype,"visibleNode",null),Object(r.b)([o.computed,Object(r.d)("design:type","function"==typeof(s=void 0!==a.a&&a.a)?s:Object),Object(r.d)("design:paramtypes",[])],d.prototype,"firstNode",null)},function(e,t,n){"use strict";function r(e,t){var n=e.slots,r;return(void 0===n?[]:n).some((function(e){var n;return t&&t===(null==e||null===(n=e.getExtraProp("name"))||void 0===n?void 0:n.getAsString())}))}function o(e,t){var n=e.slots,r=void 0===n?[]:n;return r.some((function(e,n){var o;return!(!t||t!==(null==e||null===(o=e.getExtraProp("name"))||void 0===o?void 0:o.getAsString()))&&(e.remove(),r.splice(n,1),!0)}))}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var a;function c(e){return e&&e.target&&e.detail}function u(e){return e&&e.type===a.Children}function s(e,t){if(h(e))return!0;var n=(t||y(e)).getComputedStyle(e),r=n.getPropertyValue("display");if(/flex$/.test(r)){var o=n.getPropertyValue("flex-direction")||"row";if("row"===o||"row-reverse"===o)return!0}return!!/grid$/.test(r)}function l(e,t){if(h(e))return!0;var n=(t||y(e)).getComputedStyle(e);return/^inline/.test(n.getPropertyValue("display"))||/^(left|right)$/.test(n.getPropertyValue("float"))}function f(e){if(!e||e.computed)return null;var t=e.elements;return t&&t.length>0?t[0]:null}function p(e){var t=f(e);return!!t&&s(t)}function d(e){var t=f(e);return!!t&&(l(t)||!!t.parentElement&&s(t.parentElement))}function h(e){return e.nodeType===Node.TEXT_NODE}function v(e){return e.nodeType===Node.DOCUMENT_NODE}function y(e){return(v(e)?e:e.ownerDocument).defaultView}n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return b})),function(e){e.Children="Children",e.Prop="Prop"}(a||(a={}));var b=function(){function e(t){var n=t.target,o=t.detail,i=t.source,a=t.event;r(this,e),this.target=void 0,this.detail=void 0,this.event=void 0,this.source=void 0,this.target=n,this.detail=o,this.source=i,this.event=a}return i(e,[{key:"document",get:function e(){return this.target.document}},{key:"clone",value:function t(n){return new e({target:this.target,detail:this.detail,source:this.source,event:n})}},{key:"getContainer",value:function e(){return this.target}},{key:"getInsertion",value:function e(){var t,n;return this.detail?"Children"===this.detail.type?this.detail.index<=0?null:this.target.children.get(this.detail.index-1):null===(t=this.detail)||void 0===t||null===(n=t.near)||void 0===n?void 0:n.node:null}}]),e}()},function(e,t,n){"use strict";n.d(t,"h",(function(){return r.observable})),n.d(t,"f",(function(){return r.observable})),n.d(t,"b",(function(){return r.autorun})),n.d(t,"d",(function(){return r.makeObservable})),n.d(t,"i",(function(){return r.reaction})),n.d(t,"c",(function(){return r.computed})),n.d(t,"a",(function(){return r.action})),n.d(t,"j",(function(){return r.runInAction})),n.d(t,"k",(function(){return r.untracked})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return Oe}));var r=n(10),o=n(2),i=n.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=n(31);function c(e){e()}function u(e){e||(e=c),Object(r.configure)({reactionScheduler:e})}var s=function(){return!0},l=[];function f(e){l.includes(e)||(l.push(e),console.warn(e))}function p(e){return Object(r.getDependencyTree)(e)}var d="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function h(e){var t;return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+v}}var v=1e4,y=1e4;function b(e){var t=new Map,n=1,r=new e((function e(n){var r=t.get(n);r&&(r.reaction.dispose(),t.delete(n))}));return{addReactionToTrack:function(e,o,i){var a=n++;return r.register(i,a,e),e.current=h(o),e.current.finalizationRegistryCleanupToken=a,t.set(a,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}var m=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function g(){var e=new Set,t;function n(){t&&(clearTimeout(t),c())}function r(){var n,r;if(e.size>0){try{for(var o=m(e),i=o.next();!i.done;i=o.next()){var a=i.value,c=a.current;c&&(c.reaction.dispose(),a.current=null)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.clear()}t&&(clearTimeout(t),t=void 0)}function o(){void 0===t&&(t=setTimeout(c,1e4))}function i(t){e.add(t),o()}function a(t){e.delete(t)}function c(){t=void 0;var n=Date.now();e.forEach((function(t){var r=t.current;r&&n>=r.cleanAt&&(r.reaction.dispose(),t.current=null,e.delete(t))})),e.size>0&&o()}return{addReactionToTrack:function(e,t,n){return e.current=h(t),i(e),e.current},recordReactionAsCommitted:a,forceCleanupTimerToRunNowForTests:n,resetCleanupScheduleForTests:r}}var O=d?b(d):g(),j=O.addReactionToTrack,w=O.recordReactionAsCommitted,k=O.resetCleanupScheduleForTests,_=O.forceCleanupTimerToRunNowForTests,S=!1;function E(e){S=e}function P(){return S}var C=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function T(e){return"observer".concat(e)}var x=function(){function e(){}return e}();function N(){return new x}function A(e,t){if(void 0===t&&(t="observed"),P())return e();var n,o=C(i.a.useState(N),1)[0],a,c=C(i.a.useState(),2)[1],u=function(){return c([])},s=i.a.useRef(null);if(!s.current)var l=new r.Reaction(T(t),(function(){f.mounted?u():f.changedBeforeMount=!0})),f=j(s,l,o);var d=s.current.reaction,h,v;if(i.a.useDebugValue(d,p),i.a.useEffect((function(){return w(s),s.current?(s.current.mounted=!0,s.current.changedBeforeMount&&(s.current.changedBeforeMount=!1,u())):(s.current={reaction:new r.Reaction(T(t),(function(){u()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},u()),function(){s.current.reaction.dispose(),s.current=null}}),[]),d.track((function(){try{h=e()}catch(e){v=e}})),v)throw v;return h}var R=!0,M="function"==typeof Symbol&&Symbol.for,L=M?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&Object(o.forwardRef)((function(e){return null})).$$typeof,D=M?Symbol.for("react.memo"):"function"==typeof o.memo&&Object(o.memo)((function(e){return null})).$$typeof;function I(e,t){var n;if(D&&e.$$typeof===D)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(P())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,a=e.displayName||e.name;if(L&&e.$$typeof===L&&(r=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var c=function(e,t){return A((function(){return i(e,t)}),a)};return""!==a&&(c.displayName=a),e.contextTypes&&(c.contextTypes=e.contextTypes),r&&(c=Object(o.forwardRef)(c)),F(e,c=Object(o.memo)(c)),c}var V={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function F(e,t){Object.keys(e).forEach((function(n){V[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}function B(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:A(r)}function U(e,t,n,r,o){var i="children"===t?"render":"children",a="function"==typeof e[t],c="function"==typeof e[i];return a&&c?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||c?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}function G(e,t){return Object(o.useState)((function(){return Object(r.observable)(e(),t,{autoBind:!0})}))[0]}B.displayName="Observer";var z=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function J(e){var t,n=z(Object(o.useState)((function(){return Object(r.observable)(e,{},{deep:!1})})),1)[0];return Object(r.runInAction)((function(){Object.assign(n,e)})),n}function $(e,t){var n=t&&J(t);return Object(o.useState)((function(){return Object(r.observable)(e(n),void 0,{autoBind:!0})}))[0]}function W(e,t){return void 0===t&&(t="observed"),A(e,t)}function H(e){E(e)}u(a.unstable_batchedUpdates);var X=0;function K(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+X+")";return X++,t}var q={};function Y(e){return q[e]||(q[e]=K(e)),q[e]}function Q(e,t){if(Z(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!Z(e[n[o]],t[n[o]]))return!1;return!0}function Z(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ee={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,displayName:1,propTypes:1};function te(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(r){ee[r]||-1!==n.indexOf(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}function ne(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var re=Y("patchMixins"),oe=Y("patchedDefinition");function ie(e,t){var n=e[re]=e[re]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function ae(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function ce(e,t){var n;return function n(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];ae.call.apply(ae,[this,e,t].concat(o))}}function ue(e,t,n){var r=ie(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[oe]){var i=e[t],a=se(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function se(e,t,n,r,o){var i,a=ce(o,r);return(i={})[oe]=!0,i.get=function e(){return a},i.set=function o(i){if(this===e)a=ce(i,r);else{var c=se(this,t,n,r,i);Object.defineProperty(this,t,c)}},i.configurable=!0,i.enumerable=n,i}var le=r.$mobx||"$mobx",fe=Y("isMobXReactObserver"),pe=Y("isUnmounted"),de=Y("skipRender"),he=Y("isForcingUpdate");function ve(e){var t=e.prototype;if(e[fe]){var n=ye(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[fe]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==me)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=me;ge(t,"props"),ge(t,"state");var r=t.render;if("function"!=typeof r){var i=ye(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return t.render=function(){return be.call(this,r)},ue(t,"componentWillUnmount",(function(){var e;if(!0!==P()&&(null==(e=this.render[le])||e.dispose(),this[pe]=!0,!this.render[le])){var t=ye(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function ye(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function be(e){var t=this;if(!0===P())return e.call(this);ne(this,de,!1),ne(this,he,!1);var n=ye(this),i=e.bind(this),a=!1,c=new r.Reaction(n+".render()",(function(){if(!a&&(a=!0,!0!==t[pe])){var e=!0;try{ne(t,he,!0),t[de]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{ne(t,he,!1),e&&c.dispose()}}}));function u(){a=!1;var e=void 0,t=void 0;if(c.track((function(){try{t=Object(r._allowStateChanges)(!1,i)}catch(t){e=t}})),e)throw e;return t}return c.reactComponent=this,u[le]=c,this.render=u,u.call(this)}function me(e,t){return P()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Q(this.props,e)}function ge(e,t){var n=Y("reactProp_"+t+"_valueHolder"),o=Y("reactProp_"+t+"_atomHolder");function i(){return this[o]||ne(this,o,Object(r.createAtom)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function e(){var t=!1;return r._allowStateReadsStart&&r._allowStateReadsEnd&&(t=Object(r._allowStateReadsStart)(!0)),i.call(this).reportObserved(),r._allowStateReadsStart&&r._allowStateReadsEnd&&Object(r._allowStateReadsEnd)(t),this[n]},set:function e(t){this[he]||Q(this[n],t)?ne(this,n,t):(ne(this,n,t),ne(this,de,!0),i.call(this).reportChanged(),ne(this,de,!1))}})}function Oe(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(o.Component,e)||Object.prototype.isPrototypeOf.call(o.PureComponent,e)?ve(e):I(e)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var ke=["children"],_e=i.a.createContext({});function Se(e){var t=e.children,n=we(e,ke),r=i.a.useContext(_e),o,a=i.a.useRef(je({},r,n)).current,c;return i.a.createElement(_e.Provider,{value:a},t)}function Ee(e,t,n,r){var o=i.a.forwardRef((function(n,r){var o=je({},n),a=i.a.useContext(_e);return Object.assign(o,e(a||{},o)||{}),r&&(o.ref=r),i.a.createElement(t,o)}));return r&&(o=Oe(o)),o.isMobxInjector=!0,te(t,o),o.wrappedComponent=t,o.displayName=Pe(t,n),o}function Pe(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return n=t?"inject-with-"+t+"("+r+")":"inject("+r+")"}function Ce(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var r=arguments[0];return function(e){return Ee(r,e,r.name,!0)}}return function(e){return Ee(Ce(t),e,t.join("-"),!1)}}Se.displayName="MobXProvider";var xe=Y("disposeOnUnmountProto"),Ne=Y("disposeOnUnmountInst");function Ae(){var e=this;[].concat(this[xe]||[],this[Ne]||[]).forEach((function(t){var n="string"==typeof t?e[t]:t;null!=n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function Re(e,t){if(Array.isArray(t))return t.map((function(t){return Re(e,t)}));var n=Object.getPrototypeOf(e).constructor,r=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(n!==i.a.Component&&n!==i.a.PureComponent&&r!==i.a.Component&&r!==i.a.PureComponent&&o!==i.a.Component&&o!==i.a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof t&&"function"!=typeof t&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var a="string"==typeof t,c=!!e[xe]||!!e[Ne],u;return(a?e[xe]||(e[xe]=[]):e[Ne]||(e[Ne]=[])).push(t),c||ue(e,"componentWillUnmount",Ae),"string"!=typeof t?t:void 0}function Me(e){function t(t,n,o,i,a,c){for(var u=arguments.length,s=new Array(u>6?u-6:0),l=6;l<u;l++)s[l-6]=arguments[l];return Object(r.untracked)((function(){if(i=i||"<<anonymous>>",c=c||o,null==n[o]){if(t){var r=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+c+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,o,i,a,c].concat(s))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function Le(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function De(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":Le(t,e)?"symbol":t}function Ie(e){var t=De(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function Ve(e,t){return Me((function(n,o,i,a,c){return Object(r.untracked)((function(){if(e&&De(n[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=r.isObservableArray;break;case"Object":a=r.isObservableObject;break;case"Map":a=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var u=n[o];if(!a(u)){var s=Ie(u),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+c+"` of type `"+s+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function Fe(e,t){return Me((function(n,o,i,a,c){for(var u=arguments.length,s=new Array(u>5?u-5:0),l=5;l<u;l++)s[l-5]=arguments[l];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+c+"` of component `"+i+"` has invalid PropType notation.");var r=Ve(e,"Array")(n,o,i,a,c);if(r instanceof Error)return r;for(var u=n[o],l=0;l<u.length;l++)if((r=t.apply(void 0,[u,l,i,a,c+"["+l+"]"].concat(s)))instanceof Error)return r;return null}))}))}var Be,Ue,Ge,ze,Je,$e,We,He=Ve(!1,"Array"),Xe=Fe.bind(null,!1),Ke=Ve(!1,"Map"),qe=Ve(!1,"Object"),Ye=Ve(!0,"Array"),Qe=Fe.bind(null,!0),Ze=Ve(!0,"Object");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!r.observable)throw new Error("mobx-react requires mobx to be available");Object(r.configure)({enforceActions:"never"})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,o(n(154),t),o(n(46),t),o(n(156),t),o(n(102),t),o(n(103),t),o(n(104),t),o(n(157),t);var i=n(104);t.logger=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.symbolString=t.isExtendOf=t.getGlobalType=t.isClass=void 0;var r=n(102),o=0,i={};function a(e){return(null==e?void 0:e.prototype)&&e.prototype.constructor===e}function c(e,t){if(void 0===t&&(t=""),!e)throw new Error("no key.");if(["string","symbol","object"].includes(typeof e))return e;if(e.hasOwnProperty("__type"))return e.__type;var n;if("function"!=typeof e||!e.name)throw new Error("data MUST be a class or string.");return n=t+e.name,i[n]&&(n=n+"_"+o++),i[n]=!0,Object.defineProperty(e,"__type",{configurable:!1,enumerable:!1,writable:!1,value:n}),n}function u(e,t){if(!a(e)||!a(t))throw new Error("classType and superClassType MUST be a class.");var n=c(t);return!!r.getSuperClassInfo(e).find((function(e){return e.type===n}))}function s(e){return"symbol"==typeof e?e.toString():e}t.isClass=a,t.getGlobalType=c,t.isExtendOf=u,t.symbolString=s},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.classLoader=t.ClassLoader=t.DuplicateRegistrationError=void 0;var a=n(24),c=n(45),u=function(e){function t(t){return e.call(this,"Type "+t.name+" is already registration.")||this}return r(t,e),t}(Error);t.DuplicateRegistrationError=u;var s=function(){function e(e,t){void 0===e&&(e=new Map),void 0===t&&(t=new Map),this.classInfoMap=e,this.implementCacheMap=t}return e.prototype.hasClass=function(e){return this.classInfoMap.has(e)},e.prototype.registerClass=function(e,t){var n=this,r;if(this.classInfoMap.has(e))throw new u(e);var o=a.getMetadata(e);if(o.injectable=!0,(t=t||o.classInfo).name||(t.name=e.name),!(null===(r=t.extends)||void 0===r?void 0:r.length)){var s=c.getSuperClassInfo(e);t.extends=s.map((function(e){return e.class}))}return this.classInfoMap.set(e,t),t.implements||(t.implements=[]),i(t.extends,t.implements).forEach((function(r){var o=n.getImplCacheByType(r);o.every((function(t){return t.type!==e}))&&o.push({type:e,info:t})})),this},e.prototype.unregisterClass=function(e){var t=this,n=this.classInfoMap.get(e);n&&(i(n.extends,n.implements).forEach((function(n){var r=t.getImplCacheByType(n),o=r.findIndex((function(t){return t.type===e}));o>=0&&r.splice(o,1)})),this.classInfoMap.delete(e))},e.prototype.getClassInfo=function(e){return this.classInfoMap.get(e)},e.prototype.filterClasses=function(e){var t=[];return this.classInfoMap.forEach((function(n,r){var o={type:r,info:n};e(o)&&t.push(o)})),t},e.prototype.getImplementClasses=function(e){return this.getImplCacheByType(e)},e.prototype.clearAll=function(){return this.classInfoMap.clear(),this.implementCacheMap.clear(),this},e.prototype.clone=function(){return new e(new Map(this.classInfoMap),this.cloneImplCacheMap(this.implementCacheMap))},e.prototype.initWith=function(e){this.classInfoMap=new Map(e.classInfoMap),this.implementCacheMap=this.cloneImplCacheMap(e.implementCacheMap)},e.prototype.cloneImplCacheMap=function(e){return new Map(Array.from(e.entries()).map((function(e){var t=e[0],n=e[1];return[t,i(n)]})))},e.prototype.getImplCacheByType=function(e){var t=c.getGlobalType(e);return this.implementCacheMap.has(t)?this.implementCacheMap.get(t):(this.implementCacheMap.set(t,[]),this.getImplCacheByType(e))},e}();t.ClassLoader=s,t.classLoader=new s},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(2),o=n.n(r),i=n(3),a=n(22);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function d(e){var t=y();return function n(){var r=b(e),o;if(t){var i=b(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return h(this,o)}}function h(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var m=function(e){f(n,e);var t=d(n);function n(){var e;u(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).id=Object(i.F)("tips$"),e}return l(n,[{key:"componentWillUnmount",value:function e(){Object(a.a)(this.id,null)}},{key:"render",value:function e(){return Object(a.a)(this.id,this.props),React.createElement("meta",{"data-role":"tip","data-tip-id":this.id})}}]),n}(r.Component)},function(e,t,n){(function(t){const n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(70))},function(e,t,n){"use strict";n.r(t),n.d(t,"skeleton",(function(){return W})),n.d(t,"plugins",(function(){return B})),n.d(t,"project",(function(){return $})),n.d(t,"setters",(function(){return H})),n.d(t,"material",(function(){return X})),n.d(t,"config",(function(){return K})),n.d(t,"event",(function(){return q})),n.d(t,"logger",(function(){return Y})),n.d(t,"hotkey",(function(){return J})),n.d(t,"common",(function(){return ee})),n.d(t,"editor",(function(){return q})),n.d(t,"isOpenSource",(function(){return te})),n.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return ne})),n.d(t,"version",(function(){return oe})),n.d(t,"init",(function(){return ie})),n.d(t,"destroy",(function(){return ce}));var r=n(7),o=n.n(r),i=n(2),a=n.n(i),c=n(31),u=n.n(c),s=n(1),l=n(5),f=n(17),p=n(68),d=n(130),h=n(8),v=n(3),y=n(197),b=n(131),m=n(132),g=n(133),O=n(134),j=n(135),w=n(136),k=n(114),_=n.n(k);for(var S in k)["default","skeleton","plugins","project","setters","material","config","event","logger","hotkey","common","editor","isOpenSource","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","version","init","destroy"].indexOf(S)<0&&function(e){n.d(t,e,(function(){return k[e]}))}(S);var E=n(115),P=n.n(E);for(var S in E)["default","skeleton","plugins","project","setters","material","config","event","logger","hotkey","common","editor","isOpenSource","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","version","init","destroy"].indexOf(S)<0&&function(e){n.d(t,e,(function(){return E[e]}))}(S);var C=n(116),T=n.n(C);for(var S in C)["default","skeleton","plugins","project","setters","material","config","event","logger","hotkey","common","editor","isOpenSource","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","version","init","destroy"].indexOf(S)<0&&function(e){n.d(t,e,(function(){return C[e]}))}(S);var x=n(117),N=n.n(x);for(var S in x)["default","skeleton","plugins","project","setters","material","config","event","logger","hotkey","common","editor","isOpenSource","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","version","init","destroy"].indexOf(S)<0&&function(e){n.d(t,e,(function(){return x[e]}))}(S);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,c,"next",e)}function c(e){L(i,r,o,a,c,"throw",e)}a(void 0)}))}}Object(f.h)();var I=new s.Editor;s.globalContext.register(I,s.Editor),s.globalContext.register(I,"editor");var V=new f.d(I);I.set("skeleton",V);var F=new l.Designer({editor:I});I.set("designer",F);var B=new l.LowCodePluginManager(I).toProxy();I.set("plugins",B);var U=F.project,G=Object(g.a)(V),z=G.Workbench,J=new h.e,$=new h.i(U),W=new h.n(V),H=new h.k,X=new h.f(I),K=s.engineConfig,q=new h.c(I,{prefix:"common"}),Y=Object(v.q)({level:"warn",bizName:"common"}),Q=Object(O.a)(I),Z={TransformStage:l.TransformStage},ee={utils:b.a,objects:Z,editorCabin:m,designerCabin:Q,skeletonCabin:G},te=!0,ne={symbols:w.a,classes:j.a},re;s.engineConfig.set("isOpenSource",te),function(){var e=D(o.a.mark((function e(){var t,r,i;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return(t=function e(t){return{init:function e(){I.onGot("assets",(function(e){var t=e.components,n=void 0===t?[]:t;F.buildComponentMetasMap(n)}))}}}).pluginName="___component_meta_parser___",o.next=4,B.register(t);case 4:return(r=function e(t){return{init:function e(){var r;if(!s.engineConfig.get("disableDefaultSetters")){var o=null===(r=n(198))||void 0===r?void 0:r.setters;o&&t.setters.registerSetter(o)}}}}).pluginName="___setter_registry___",o.next=8,B.register(r);case 8:return(i=function e(t){return{init:function e(){var t;W.add({area:"mainArea",name:"designer",type:"Widget",content:d.a}),s.engineConfig.get("disableDefaultSettingPanel")||W.add({area:"rightArea",name:"settingsPane",type:"Panel",content:f.c,props:{ignoreRoot:!0}});var n=!0,r,o;(null==I||null===(t=I.getPreference())||void 0===t?void 0:t.contains("outline-pane-pinned-status-isFloat","skeleton"))&&(n=null==I||null===(o=I.getPreference())||void 0===o?void 0:o.get("outline-pane-pinned-status-isFloat","skeleton"));W.add({area:"leftArea",name:"outlinePane",type:"PanelDock",content:p.b,panelProps:R({area:n?"leftFloatArea":"leftFixedArea",keepVisibleWhileDragging:!0},s.engineConfig.get("defaultOutlinePaneProps"))}),W.add({area:"rightArea",name:"backupOutline",type:"Panel",props:{condition:function e(){return F.dragon.dragging&&!Object(p.c)(F).hasVisibleTreeBoard()}},content:p.a})}}}).pluginName="___default_panel___",o.next=12,B.register(i);case 12:case"end":return o.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()();var oe="1.0.16";function ie(e,t,n){return ae.apply(this,arguments)}function ae(){return(ae=D(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ce();case 2:return a=null,Object(v.y)(t)?(a=t,(re=document.createElement("div")).id="engine",document.body.appendChild(re)):(a=n,re=t,t||((re=document.createElement("div")).id="engine",document.body.appendChild(re))),s.engineConfig.setEngineOptions(a),o.next=7,B.init(r);case 7:Object(c.render)(Object(i.createElement)(z,{skeleton:V,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),re);case 8:case"end":return o.stop()}}),e)})))).apply(this,arguments)}function ce(){return ue.apply(this,arguments)}function ue(){return(ue=D(o.a.mark((function e(){var t;return o.a.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:t=$.documents,Array.isArray(t)&&t.length>0&&t.forEach((function(e){return $.removeDocument(e)})),re&&Object(c.unmountComponentAtNode)(re);case 3:case"end":return n.stop()}}),e)})))).apply(this,arguments)}s.engineConfig.set("ENGINE_VERSION",oe)},function(e,t,n){"use strict";function r(e){return e&&"i18n"===e.type}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(67),o=n.n(r),i=n(65);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=Object(i.a)({level:"log",bizName:"Preference"}),l="ale",f=function(){function e(){a(this,e)}return u(e,[{key:"getStorageKey",value:function e(t,n){var r=n||"__inner__";return"".concat("ale","_").concat(r,".").concat(t)}},{key:"set",value:function e(t,n,r){if(t&&"string"==typeof t&&0!==t.length){var i=this.getStorageKey(t,r);s.log("storageKey:",i,"set with value:",n),o.a.set(i,n)}else s.error("Invalid key when setting preference",t)}},{key:"get",value:function e(t,n){if(t&&"string"==typeof t&&0!==t.length){var r=this.getStorageKey(t,n),i=o.a.get(r);return s.log("storageKey:",r,"get with result:",i),i}s.error("Invalid key when getting from preference",t)}},{key:"contains",value:function e(t,n){if(!t||"string"!=typeof t||0===t.length)return s.error("Invalid key when getting from preference",t),!1;var r=this.getStorageKey(t,n),i=o.a.get(r);return!(null==i)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(7),o=n.n(r),i=n(0),a=n(9),c=n.n(a),u=n(54),s=n(27),l=n(52),f=n(33),p=n(3);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,c,"next",e)}function c(e){h(i,r,o,a,c,"throw",e)}a(void 0)}))}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function _(e){var t=P();return function n(){var r=C(e),o;if(t){var i=C(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return S(this,o)}}function S(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}a.EventEmitter.defaultMaxListeners=100;var T=["designer","skeleton","currentDocument","simulator","plugins"],x=function(e){w(n,e);var t=_(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).context=new Map,e.preference=new l.a,e.hooks=[],e.config=void 0,e.components=void 0,e.initHooks=function(t){return e.hooks=t.map((function(t){return b(b({},t),{},{handler:t.handler.bind(E(e),E(e))})})),e.hooks},e.registerHooks=function(t){e.initHooks(t).forEach((function(t){var n=t.message,r=t.type,o=t.handler;-1!==["on","once"].indexOf(r)&&e[r](n,o)}))},e.unregisterHooks=function(){e.hooks.forEach((function(t){var n=t.message,r=t.handler;e.removeListener(n,r)}))},e.waits=new Map,e}return j(n,[{key:"locale",get:function e(){return s.b.getLocale()}},{key:"get",value:function e(t){return this.context.get(t)}},{key:"has",value:function e(t){return this.context.has(t)}},{key:"set",value:function e(t,n){if("assets"===t)return this.setAssets(n);T.includes(t)||u.a.set(t,n),this.context.set(t,n),this.notifyGot(t)}},{key:"setAssets",value:function(){var e=v(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(n=t.components)||!n.length){a.next=10;break}if(r=[],i=[],n.forEach((function(e){e&&(e.exportName&&e.url?i.push(e):r.push(e))})),t.components=r,t.componentList=t.componentList||[],!i||!i.length){a.next=10;break}return a.next=10,Promise.all(i.map(function(){var e=v(o.a.mark((function e(n){var r,i;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return r=n.exportName,i=n.url,o.next=3,(new p.c).load(i);case 3:return window[r]&&(t.components=t.components.concat(window[r].components||[]),t.componentList=t.componentList.concat(window[r].componentList||[])),o.abrupt("return",window[r]);case 5:case"end":return o.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:this.context.set("assets",t),this.notifyGot("assets");case 12:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onceGot",value:function e(t){var n=this,r=this.context.get(t);return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r=this,o=this.context.get(t);return void 0!==o?(n(o),function(){}):(this.setWait(t,n),function(){r.delWait(t,n)})}},{key:"register",value:function e(t,n){this.context.set(n||t,t),this.notifyGot(n||t)}},{key:"init",value:function(){var e=v(o.a.mark((function e(t,n){var r,i,a,c,u;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return this.config=t||{},this.components=n||{},r=this.config,i=r.hooks,a=void 0===i?[]:i,c=r.lifeCycles,this.emit("editor.beforeInit"),u=c&&c.init||function(){},o.prev=5,o.next=8,u(this);case 8:return this.registerHooks(a),this.emit("editor.afterInit"),o.abrupt("return",!0);case 13:o.prev=13,o.t0=o.catch(5),console.error(o.t0);case 16:case"end":return o.stop()}}),e,this,[[5,13]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function e(){if(this.config)try{var t=this.config.lifeCycles,n=void 0===t?{}:t;this.unregisterHooks(),n.destroy&&n.destroy(this)}catch(e){console.warn(e)}}},{key:"getPreference",value:function e(){return this.preference}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}}]),n}(a.EventEmitter);Object(i.b)([f.j.shallow,Object(i.d)("design:type",Object)],x.prototype,"context",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(20),o=n.n(r),i=n(3),a=n(65);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var l=Object(a.a)({level:"log",bizName:"config"}),f=!0,p={enableCondition:{type:"boolean",description:"\u662f\u5426\u5f00\u542f condition \u7684\u80fd\u529b\uff0c\u9ed8\u8ba4\u5728\u8bbe\u8ba1\u5668\u4e2d\u4e0d\u7ba1 condition \u662f\u5565\u90fd\u6b63\u5e38\u5c55\u793a"},designMode:{type:"string",enum:["design","live"],default:"design",description:"\u8bbe\u8ba1\u6a21\u5f0f\uff0clive \u6a21\u5f0f\u5c06\u4f1a\u5b9e\u65f6\u5c55\u793a\u53d8\u91cf\u503c"},device:{type:"string",enum:["default","mobile","any string value"],default:"default",description:"\u8bbe\u5907\u7c7b\u578b"},deviceClassName:{type:"string",default:void 0,description:"\u6307\u5b9a\u521d\u59cb\u5316\u7684 deviceClassName\uff0c\u6302\u8f7d\u5230\u753b\u5e03\u7684\u9876\u5c42\u8282\u70b9\u4e0a"},locale:{type:"string",default:"zh_CN",description:"\u8bed\u8a00"},renderEnv:{type:"string",enum:["react","rax","any string value"],default:"react",description:"\u6e32\u67d3\u5668\u7c7b\u578b"},deviceMapper:{type:"object",description:"\u8bbe\u5907\u7c7b\u578b\u6620\u5c04\u5668\uff0c\u5904\u7406\u8bbe\u8ba1\u5668\u4e0e\u6e32\u67d3\u5668\u4e2d device \u7684\u6620\u5c04"},enableStrictPluginMode:{type:"boolean",default:!0,description:"\u5f00\u542f\u4e25\u683c\u63d2\u4ef6\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u503c: STRICT_PLUGIN_MODE_DEFAULT , \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u63d2\u4ef6\u5c06\u65e0\u6cd5\u901a\u8fc7engineOptions\u4f20\u9012\u81ea\u5b9a\u4e49\u914d\u7f6e\u9879"},enableReactiveContainer:{type:"boolean",default:!1,description:"\u5f00\u542f\u62d6\u62fd\u7ec4\u4ef6\u65f6\uff0c\u5373\u5c06\u88ab\u653e\u5165\u7684\u5bb9\u5668\u662f\u5426\u6709\u89c6\u89c9\u53cd\u9988"},disableAutoRender:{type:"boolean",default:!1,description:"\u5173\u95ed\u753b\u5e03\u81ea\u52a8\u6e32\u67d3\uff0c\u5728\u8d44\u4ea7\u5305\u591a\u91cd\u5f02\u6b65\u52a0\u8f7d\u7684\u573a\u666f\u6709\u6548"},disableDetecting:{type:"boolean",default:!1,description:"\u5173\u95ed\u62d6\u62fd\u7ec4\u4ef6\u65f6\u7684\u865a\u7ebf\u54cd\u5e94\uff0c\u6027\u80fd\u8003\u8651"},customizeIgnoreSelectors:{type:"function",default:void 0,description:"\u5b9a\u5236\u753b\u5e03\u4e2d\u70b9\u51fb\u88ab\u5ffd\u7565\u7684 selectors, eg. (defaultIgnoreSelectors: string[], e: MouseEvent) => string[]"},disableDefaultSettingPanel:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u9762\u677f"},disableDefaultSetters:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u5668"},enableCanvasLock:{type:"boolean",default:!1,description:"\u6253\u5f00\u753b\u5e03\u7684\u9501\u5b9a\u64cd\u4f5c"},enableLockedNodeSetting:{type:"boolean",default:!1,description:"\u5bb9\u5668\u9501\u5b9a\u540e\uff0c\u5bb9\u5668\u672c\u8eab\u662f\u5426\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\uff0c\u4ec5\u5f53\u753b\u5e03\u9501\u5b9a\u7279\u6027\u5f00\u542f\u65f6\u751f\u6548"},stayOnTheSameSettingTab:{type:"boolean",default:!1,description:"\u5f53\u9009\u4e2d\u8282\u70b9\u5207\u6362\u65f6\uff0c\u662f\u5426\u505c\u7559\u5728\u76f8\u540c\u7684\u8bbe\u7f6e tab \u4e0a"},hideSettingsTabsWhenOnlyOneItem:{type:"boolean",description:"\u662f\u5426\u5728\u53ea\u6709\u4e00\u4e2a item \u7684\u65f6\u5019\u9690\u85cf\u8bbe\u7f6e tabs"},loadingComponent:{type:"ComponentType",default:void 0,description:"\u81ea\u5b9a\u4e49 loading \u7ec4\u4ef6"},supportVariableGlobally:{type:"boolean",default:!1,description:"\u8bbe\u7f6e\u6240\u6709\u5c5e\u6027\u652f\u6301\u53d8\u91cf\u914d\u7f6e"},visionSettings:{type:"object",description:"Vision-polyfill settings"},simulatorUrl:{type:"array",description:"\u81ea\u5b9a\u4e49 simulatorUrl \u7684\u5730\u5740"},appHelper:{type:"object",description:"\u5b9a\u4e49 utils \u548c constants \u7b49\u5bf9\u8c61"},requestHandlersMap:{type:"object",description:"\u6570\u636e\u6e90\u5f15\u64ce\u7684\u8bf7\u6c42\u5904\u7406\u5668\u6620\u5c04"},thisRequiredInJSE:{type:"boolean",description:"JSExpression \u662f\u5426\u53ea\u652f\u6301\u4f7f\u7528 this \u6765\u8bbf\u95ee\u4e0a\u4e0b\u6587\u53d8\u91cf"},enableStrictNotFoundMode:{type:"boolean",description:"\u5f53\u5f00\u542f\u7ec4\u4ef6\u672a\u627e\u5230\u4e25\u683c\u6a21\u5f0f\u65f6\uff0c\u6e32\u67d3\u6a21\u5757\u4e0d\u4f1a\u9ed8\u8ba4\u7ed9\u4e00\u4e2a\u5bb9\u5668\u7ec4\u4ef6"},focusNodeSelector:{type:"function",description:"\u914d\u7f6e\u6307\u5b9a\u8282\u70b9\u4e3a\u6839\u7ec4\u4ef6"}},d=function e(t,n){return t&&Object(i.y)(t)?void 0===t.enableStrictPluginMode||null===t.enableStrictPluginMode?n:t.enableStrictPluginMode:n},h,v=new(function(){function e(t){c(this,e),this.config={},this.waits=new Map,this.config=t||{}}return s(e,[{key:"has",value:function e(t){return void 0!==this.config[t]}},{key:"get",value:function e(t,n){return Object(r.get)(this.config,t,n)}},{key:"set",value:function e(t,n){this.config[t]=n,this.notifyGot(t)}},{key:"setConfig",value:function e(t){var n=this;t&&Object.keys(t).forEach((function(e){n.set(e,t[e])}))}},{key:"setEngineOptions",value:function e(t){var n=this,r;if(t&&Object(i.y)(t))if(!0===d(t,!0)){var o=function e(t){var n=p[t];return!(null==n)};Object.keys(t).forEach((function(e){o(e)?n.set(e,t[e]):l.warn("failed to config ".concat(e," to engineConfig, only predefined options can be set under strict mode, predefined options: "),p)}))}else this.setConfig(t)}},{key:"onceGot",value:function e(t){var n=this,r=this.config[t];return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r,o=this,i=null===(r=this.config)||void 0===r?void 0:r[t];return void 0!==i?(n(i),function(){}):(this.setWait(t,n),function(){o.delWait(t,n)})}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}}]),e}())},function(e,t,n){"use strict";var r=n(100);n.d(t,"createSetterContent",(function(){return r.a})),n.d(t,"getSetter",(function(){return r.b})),n.d(t,"getSettersMap",(function(){return r.c})),n.d(t,"registerSetter",(function(){return r.d}));var o=n(101);n.o(o,"Tip")&&n.d(t,"Tip",(function(){return o.Tip})),n.o(o,"TipContainer")&&n.d(t,"TipContainer",(function(){return o.TipContainer})),n.o(o,"Title")&&n.d(t,"Title",(function(){return o.Title})),n.o(o,"engineConfig")&&n.d(t,"engineConfig",(function(){return o.engineConfig})),n.o(o,"globalContext")&&n.d(t,"globalContext",(function(){return o.globalContext})),n.o(o,"hotkey")&&n.d(t,"hotkey",(function(){return o.hotkey}));var i=n(48);n.d(t,"Tip",(function(){return i.a}))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(153),t),o(n(158),t),o(n(160),t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f}));var r=n(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=function(){function e(t){o(this,e),this.target=void 0,this.doc=void 0,this.target=t,u(t)&&(this.doc=t.document.documentElement)}return a(e,[{key:"left",get:function e(){return"scrollX"in this.target?this.target.scrollX:this.target.scrollLeft}},{key:"top",get:function e(){return"scrollY"in this.target?this.target.scrollY:this.target.scrollTop}},{key:"scrollTo",value:function e(t){this.target.scrollTo(t)}},{key:"scrollToXY",value:function e(t,n){this.target.scrollTo(t,n)}},{key:"scrollHeight",get:function e(){return(this.doc||this.target).scrollHeight}},{key:"scrollWidth",get:function e(){return(this.doc||this.target).scrollWidth}}]),e}();function u(e){return e&&e.document}function s(e){return Math.sin(e*Math.PI/2)}var l=30,f=function(){function e(t){o(this,e),this.scrollable=void 0,this.pid=void 0,this.scrollable=t}return a(e,[{key:"scrollTarget",get:function e(){var t=this.scrollable.scrollTarget;return t?(Object(r.w)(t)&&(t=new c(t),this.scrollable.scrollTarget=t),t):null}},{key:"scrollTo",value:function e(t){var n=this;this.cancel();var r=this.scrollTarget;if(r){var o,i=r.left,a=r.top,c=function e(){n.cancel()};if(i!==t.left&&null!=t.left||a!==t.top){var u=200,l=+new Date,f=function e(){if(o===n.pid){var u=+new Date,f=Math.min(1,(u-l)/200),p=s(f),d={};null!=t.left&&(d.left=p*(t.left-i)+i),null!=t.top&&(d.top=p*(t.top-a)+a),r.scrollTo(d),f<1?(n.pid=requestAnimationFrame(e),o=n.pid):c()}};this.pid=requestAnimationFrame(f),o=this.pid}else c()}}},{key:"scrolling",value:function e(t){var n=this;this.cancel();var r=this.scrollable,o=r.bounds,i=r.scale,a=void 0===i?1:i,c=this.scrollTarget;if(c&&o){var u=t.globalX,s=t.globalY,l=c.scrollHeight-o.height/a,f=c.scrollWidth-o.width/a,p=c.left,d=c.top,h=0,v=0,y;if(s<o.top+30?v=-Math.min(Math.max(o.top+30-s,10),50)/a:s>o.bottom-30&&(v=Math.min(Math.max(s+30-o.bottom,10),50)/a),u<o.left+30?h=-Math.min(Math.max(o.top+30-s,10),50)/a:u>o.right-30&&(h=Math.min(Math.max(u+30-o.right,10),50)/a),h||v)(function e(){var t=!1;(v>0&&d<l||v<0&&d>0)&&(d+=v,d=Math.min(Math.max(d,0),l),t=!0),(h>0&&p<f||h<0&&p>0)&&(p+=h,p=Math.min(Math.max(p,0),f),t=!0),t&&(c.scrollTo({left:p,top:d}),n.pid=requestAnimationFrame(e))})()}}},{key:"cancel",value:function e(){this.pid&&cancelAnimationFrame(this.pid),this.pid=void 0}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n(9),i=n.n(o),a=n(14),c=n(1);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=function(){function e(){u(this,e),this.emitter=new o.EventEmitter,this._target=void 0}return l(e,[{key:"track",value:function e(t){Object(a.h)(t)&&(t={node:t}),this._target=t,this.emitter.emit("change",t)}},{key:"currentNode",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.node}},{key:"detail",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.detail}},{key:"intance",get:function e(){return this.instance}},{key:"instance",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.instance}},{key:"onChange",value:function e(t){var n=this;return this.emitter.addListener("change",t),function(){n.emitter.removeListener("change",t)}}}]),e}();Object(r.b)([c.obx.ref,Object(r.d)("design:type",Object)],f.prototype,"_target",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),o=n(1),i=n(12),a=n(4),c=n(3),u=n(9),s=n.n(u),l=n(32),f,p;function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}f=Symbol.iterator,p=Symbol.toStringTag;var g=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.owner=void 0,this.children=void 0,this.emitter=new u.EventEmitter,this.purged=!1,this.owner=t,Object(o.makeObservable)(this),this.children=(Array.isArray(n)?n:[n]).map((function(e){return r.owner.document.createNode(e,i.checkId)}))}return m(e,[{key:"internalInitParent",value:function e(){var t=this;this.children.forEach((function(e){return e.internalSetParent(t.owner)}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.Save;return t=Object(c.j)(t),this.children.map((function(e){var n=e.export(t);return e.isLeaf()&&i.a.Save===t?n.children:n}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t?Array.isArray(t)?t:[t]:[];var r=this.children.slice();this.children.forEach((function(e){return e.internalSetParent(null)}));for(var o=new Array(t.length),i=0,u=t.length;i<u;i++){var s=r[i],l=t[i],f=void 0;Object(a.isNodeSchema)(l)&&!n&&s&&s.componentName===l.componentName?(f=s).import(l):f=this.owner.document.createNode(l,n),o[i]=f}this.children=o,this.internalInitParent(),Object(c.D)(o,r)||this.emitter.emit("change")}},{key:"concat",value:function e(t){return this.children.concat(t)}},{key:"size",get:function e(){return this.children.length}},{key:"isEmpty",value:function e(){return this.size<1}},{key:"notEmpty",value:function e(){return this.size>0}},{key:"length",get:function e(){return this.children.length}},{key:"purge",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.purged||(this.purged=!0,this.children.forEach((function(e){e.purge(t)})))}},{key:"unlinkChild",value:function e(t){var n=this.children.indexOf(t);if(n<0)return!1;this.children.splice(n,1),this.emitter.emit("change",{type:"unlink",node:t})}},{key:"delete",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.internalPurgeStart(),t.isParental()&&(Object(l.a)(t.children,(function(e){e.remove(r,n,i)}),(function(e,t){return e.get(t)})),Object(l.a)(t.slots,(function(e){e.remove(r,n)}),(function(e,t){return e[t]})));var a=this.children.indexOf(t);if(n){t.internalSetParent(null,r);try{t.purge()}catch(e){console.error(e)}}var c=t.document;return o.globalContext.has("editor")&&o.globalContext.get("editor").emit("node.remove",{node:t,index:a}),c.unlinkNode(t),c.selection.remove(t.id),c.destroyNode(t),this.emitter.emit("change",{type:"delete",node:t}),r&&this.reportModified(t,this.owner,{type:"remove",propagated:!1,isSubDeleting:this.owner.isPurging,removeIndex:a,removeNode:t}),a>-1&&!n&&this.children.splice(a,1),!1}},{key:"insert",value:function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.children,a=null==n||-1===n?i.length:n,c=i.indexOf(t);if(t.parent&&o.globalContext.has("editor")&&o.globalContext.get("editor").emit("node.remove.topLevel",{node:t,index:t.index}),c<0)a<i.length?i.splice(a,0,t):i.push(t),t.internalSetParent(this.owner,r);else{if(a>c&&(a-=1),a===c)return;i.splice(c,1),i.splice(a,0,t)}if(this.emitter.emit("change",{type:"insert",node:t}),this.emitter.emit("insert",t),o.globalContext.has("editor")&&o.globalContext.get("editor").emit("node.add",{node:t}),r&&this.reportModified(t,this.owner,{type:"insert"}),t.conditionGroup&&(t.prevSibling&&t.prevSibling.conditionGroup===t.conditionGroup||t.nextSibling&&t.nextSibling.conditionGroup===t.conditionGroup||t.setConditionGroup(null)),t.prevSibling&&t.nextSibling){var u=t.prevSibling.conditionGroup;u&&u===t.nextSibling.conditionGroup&&t.setConditionGroup(u)}}},{key:"indexOf",value:function e(t){return this.children.indexOf(t)}},{key:"splice",value:function e(t,n,r){return r?this.children.splice(t,n,r):this.children.splice(t,n)}},{key:"get",value:function e(t){return this.children.length>t?this.children[t]:null}},{key:"has",value:function e(t){return this.indexOf(t)>-1}},{key:f,value:function e(){var t=0,n=this.children,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.children.forEach((function(e,n){return t(e,n)}))}},{key:"map",value:function e(t){return this.children.map((function(e,n){return t(e,n)}))}},{key:"every",value:function e(t){return this.children.every((function(e,n){return t(e,n)}))}},{key:"some",value:function e(t){return this.children.some((function(e,n){return t(e,n)}))}},{key:"filter",value:function e(t){return this.children.filter(t)}},{key:"find",value:function e(t){return this.children.find(t)}},{key:"reduce",value:function e(t,n){return this.children.reduce(t,n)}},{key:"mergeChildren",value:function e(t,n,r){var o=this,i=!1;if(t){var a=this.children.filter(t);a.length>0&&(a.forEach((function(e){var t=o.children.indexOf(e);t>-1&&(o.children.splice(t,1),e.remove(!1))})),i=!0)}if(n){var c=n(this.children);c&&c.length>0&&(c.forEach((function(e){var t=o.owner.document.createNode(e);o.children.push(t),t.internalSetParent(o.owner)})),i=!0)}r&&(this.children=this.children.sort(r),i=!0),i&&this.emitter.emit("change")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("change",t),function(){n.emitter.removeListener("change",t)}}},{key:"onInsert",value:function e(t){var n=this;return this.emitter.on("insert",t),function(){n.emitter.removeListener("insert",t)}}},{key:p,get:function e(){return"Array"}},{key:"reportModified",value:function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&!t.isRoot()){var i=null===(r=n.componentMeta.getMetadata().configure.advanced)||void 0===r?void 0:r.callbacks;if(null!=i&&i.onSubtreeModified)try{null==i||i.onSubtreeModified.call(t.internalToShellNode(),n.internalToShellNode(),o)}catch(e){console.error("error when execute advanced.callbacks.onSubtreeModified",e)}n.parent&&!n.parent.isRoot()&&this.reportModified(t,n.parent,h(h({},o),{},{propagated:!0}))}}}]),e}();Object(r.b)([o.obx.shallow,Object(r.d)("design:type",Array)],g.prototype,"children",void 0),Object(r.b)([o.computed,Object(r.d)("design:type",Number),Object(r.d)("design:paramtypes",[])],g.prototype,"size",null),Object(r.b)([o.computed,Object(r.d)("design:type",Number),Object(r.d)("design:paramtypes",[])],g.prototype,"length",null)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),o=n(1),i=n(9),a=n.n(i),c;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f="detectingChange",p=function(){function e(){u(this,e),this._enable=!0,this.xRayMode=!1,this._current=null,this.emitter=new i.EventEmitter,Object(o.makeObservable)(this)}return l(e,[{key:"enable",get:function e(){return this._enable},set:function e(t){this._enable=t,t||(this._current=null)}},{key:"current",get:function e(){return this._current}},{key:"capture",value:function e(t){this._current!==t&&(this._current=t,this.emitter.emit("detectingChange",this.current))}},{key:"release",value:function e(t){this._current===t&&(this._current=null,this.emitter.emit("detectingChange",this.current))}},{key:"leave",value:function e(t){this.current&&this.current.document===t&&(this._current=null)}},{key:"onDetectingChange",value:function e(t){var n=this;return this.emitter.on("detectingChange",t),function(){n.emitter.off("detectingChange",t)}}}]),e}();Object(r.b)([o.obx.ref,Object(r.d)("design:type",Object)],p.prototype,"_enable",void 0),Object(r.b)([o.obx.ref,Object(r.d)("design:type",Object)],p.prototype,"xRayMode",void 0),Object(r.b)([o.obx.ref,Object(r.d)("design:type",Object)],p.prototype,"_current",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),o=n(30),i=n.n(o),a=n(1),c=n(3);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=function(){function e(t){var n=this;u(this,e),this.nodeInstance=void 0,this.id=Object(c.F)("oobx"),this.lastOffsetLeft=void 0,this.lastOffsetTop=void 0,this.lastOffsetHeight=void 0,this.lastOffsetWidth=void 0,this._height=0,this._width=0,this._left=0,this._top=0,this._right=0,this._bottom=0,this.hasOffset=!1,this.pid=void 0,this.viewport=void 0,this.isRoot=void 0,this.node=void 0,this.compute=void 0,this.nodeInstance=t;var r=t.node,o=t.instance;this.node=r;var s=r.document,l=s.simulator,f=s.focusNode;if(this.isRoot=r.contains(f),this.viewport=l.viewport,Object(a.makeObservable)(this),this.isRoot)this.hasOffset=!0;else if(o){var p,d=function e(){if(p===n.pid){var t=l.computeComponentInstanceRect(o,r.componentMeta.rootSelector);t?n.viewport.scrolling&&n.hasOffset||(n._height=t.height,n._width=t.width,n._left=t.left,n._top=t.top,n._right=t.right,n._bottom=t.bottom,n.hasOffset=!0):n.hasOffset=!1,n.pid=i()(e),p=n.pid}};this.compute=d,d(),this.pid=i()(d),p=this.pid}}return l(e,[{key:"height",get:function e(){return this.isRoot?this.viewport.height:this._height*this.scale}},{key:"width",get:function e(){return this.isRoot?this.viewport.width:this._width*this.scale}},{key:"top",get:function e(){return this.isRoot?0:this._top*this.scale}},{key:"left",get:function e(){return this.isRoot?0:this._left*this.scale}},{key:"bottom",get:function e(){return this.isRoot?this.viewport.height:this._bottom*this.scale}},{key:"right",get:function e(){return this.isRoot?this.viewport.width:this._right*this.scale}},{key:"offsetLeft",get:function e(){return this.isRoot?this.viewport.scrollX*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetLeft||(this.lastOffsetLeft=this.left+this.viewport.scrollX*this.scale),this.lastOffsetLeft)}},{key:"offsetTop",get:function e(){return this.isRoot?this.viewport.scrollY*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetTop||(this.lastOffsetTop=this.top+this.viewport.scrollY*this.scale),this.lastOffsetTop)}},{key:"offsetHeight",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetHeight||(this.lastOffsetHeight=this.isRoot?this.viewport.height:this.height),this.lastOffsetHeight}},{key:"offsetWidth",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetWidth||(this.lastOffsetWidth=this.isRoot?this.viewport.width:this.width),this.lastOffsetWidth}},{key:"scale",get:function e(){return this.viewport.scale}},{key:"purge",value:function e(){this.pid&&Object(o.cancelIdleCallback)(this.pid),this.pid=void 0}},{key:"isPurged",value:function e(){return null==this.pid}}]),e}();function p(e){return e.instance?new f(e):null}Object(r.b)([a.obx,Object(r.d)("design:type",Object)],f.prototype,"_height",void 0),Object(r.b)([a.obx,Object(r.d)("design:type",Object)],f.prototype,"_width",void 0),Object(r.b)([a.obx,Object(r.d)("design:type",Object)],f.prototype,"_left",void 0),Object(r.b)([a.obx,Object(r.d)("design:type",Object)],f.prototype,"_top",void 0),Object(r.b)([a.obx,Object(r.d)("design:type",Object)],f.prototype,"_right",void 0),Object(r.b)([a.obx,Object(r.d)("design:type",Object)],f.prototype,"_bottom",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"height",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"width",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"top",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"left",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"bottom",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"right",null),Object(r.b)([a.obx,Object(r.d)("design:type",Object)],f.prototype,"hasOffset",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"offsetLeft",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"offsetTop",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"offsetHeight",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"offsetWidth",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],f.prototype,"scale",null)},function(e,t,n){"use strict";var r=n(40);n.d(t,"SettingField",(function(){return r.a})),n.d(t,"isSettingField",(function(){return r.b}));var o=n(108);n.d(t,"SettingTopEntry",(function(){return o.a}));var i=n(109),a=n.n(i);n.o(i,"LiveEditing")&&n.d(t,"LiveEditing",(function(){return i.LiveEditing})),n.o(i,"LowCodePluginManager")&&n.d(t,"LowCodePluginManager",(function(){return i.LowCodePluginManager})),n.o(i,"Node")&&n.d(t,"Node",(function(){return i.Node})),n.o(i,"TransformStage")&&n.d(t,"TransformStage",(function(){return i.TransformStage})),n.o(i,"contains")&&n.d(t,"contains",(function(){return i.contains})),n.o(i,"getConvertedExtraKey")&&n.d(t,"getConvertedExtraKey",(function(){return i.getConvertedExtraKey})),n.o(i,"getOriginalExtraKey")&&n.d(t,"getOriginalExtraKey",(function(){return i.getOriginalExtraKey})),n.o(i,"isNode")&&n.d(t,"isNode",(function(){return i.isNode}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return sr})),n.d(t,"b",(function(){return pe}));var r=n(7),o=n.n(r),i=n(0),a=n(1),c=n(9),u=n(13),s=n(25),l,f,p,d,h,v,y;function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var O=function(){function e(){b(this,e),this.rect=void 0,this._bounds=void 0,this.viewportElement=void 0,this._scale=1,this._contentWidth=s.a,this._contentHeight=s.a,this._scrollX=0,this._scrollY=0,this._scrollTarget=void 0,this._scrolling=!1,Object(a.makeObservable)(this)}return g(e,[{key:"bounds",get:function e(){var t=this;return this._bounds||(this._bounds=this.viewportElement.getBoundingClientRect(),requestAnimationFrame((function(){t._bounds=void 0}))),this._bounds}},{key:"contentBounds",get:function e(){var t=this.bounds,n=this.scale;return new DOMRect(0,0,t.width/n,t.height/n)}},{key:"mount",value:function e(t){t&&this.viewportElement!==t&&(this.viewportElement=t,this.touch())}},{key:"touch",value:function e(){this.viewportElement&&(this.rect=this.bounds)}},{key:"height",get:function e(){return this.rect?this.rect.height:600},set:function e(t){this._contentHeight=t/this.scale,this.viewportElement&&(this.viewportElement.style.height="".concat(t,"px"),this.touch())}},{key:"width",get:function e(){return this.rect?this.rect.width:1e3},set:function e(t){this._contentWidth=t/this.scale,this.viewportElement&&(this.viewportElement.style.width="".concat(t,"px"),this.touch())}},{key:"scale",get:function e(){return this._scale},set:function e(t){if(isNaN(t)||t<=0)throw new Error('invalid new scale "'.concat(t,'"'));this._scale=t,this._contentWidth=this.width/this.scale,this._contentHeight=this.height/this.scale}},{key:"contentHeight",get:function e(){return this._contentHeight},set:function e(t){this._contentHeight=t}},{key:"contentWidth",get:function e(){return this._contentWidth},set:function e(t){this._contentWidth=t}},{key:"scrollX",get:function e(){return this._scrollX}},{key:"scrollY",get:function e(){return this._scrollY}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"scrolling",get:function e(){return this._scrolling}},{key:"setScrollTarget",value:function e(t){var n=this,r=new u.ScrollTarget(t),o;this._scrollX=r.left,this._scrollY=r.top,t.addEventListener("scroll",(function(){n._scrollX=r.left,n._scrollY=r.top,n._scrolling=!0,o&&clearTimeout(o),o=setTimeout((function(){n._scrolling=!1}),80)})),t.addEventListener("resize",(function(){return n.touch()})),this._scrollTarget=r}},{key:"toGlobalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:t.clientX*this.scale+n.left,clientY:t.clientY*this.scale+n.top}}},{key:"toLocalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:(t.clientX-n.left)/this.scale,clientY:(t.clientY-n.top)/this.scale}}}]),e}();Object(i.b)([a.obx.ref,Object(i.d)("design:type","function"==typeof(l="undefined"!=typeof DOMRect&&DOMRect)?l:Object)],O.prototype,"rect",void 0),Object(i.b)([a.computed,Object(i.d)("design:type",Number),Object(i.d)("design:paramtypes",[Number])],O.prototype,"height",null),Object(i.b)([a.computed,Object(i.d)("design:type",Number),Object(i.d)("design:paramtypes",[Number])],O.prototype,"width",null),Object(i.b)([a.obx.ref,Object(i.d)("design:type",Object)],O.prototype,"_scale",void 0),Object(i.b)([a.computed,Object(i.d)("design:type",Number),Object(i.d)("design:paramtypes",[Number])],O.prototype,"scale",null),Object(i.b)([a.obx.ref,Object(i.d)("design:type",Object)],O.prototype,"_contentWidth",void 0),Object(i.b)([a.obx.ref,Object(i.d)("design:type",Object)],O.prototype,"_contentHeight",void 0),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[Object])],O.prototype,"contentHeight",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[Object])],O.prototype,"contentWidth",null),Object(i.b)([a.obx.ref,Object(i.d)("design:type",Object)],O.prototype,"_scrollX",void 0),Object(i.b)([a.obx.ref,Object(i.d)("design:type",Object)],O.prototype,"_scrollY",void 0),Object(i.b)([a.obx,Object(i.d)("design:type",Object)],O.prototype,"_scrolling",void 0);var j=n(3);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function k(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.contentWindow,o=t.contentDocument;r.LCSimulatorHost=e;var i={},a={};function c(e,t){var n=w(e),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o)if(Object(j.t)(o))o.assets&&c(Array.isArray(o.assets)?o.assets:[o.assets],o.level||t);else if(Array.isArray(o))c(o,t);else{Object(j.u)(o)||(o=Object(j.g)(Object(j.v)(o)?j.d.CSSUrl:j.d.JSUrl,o,t));var u=o.id?' data-id="'.concat(o.id,'"'):"",s=o.level||t||j.a.Environment;o.type===j.d.JSUrl?a[s].push('<script src="'.concat(o.content,'"').concat(u,"><\/script>")):o.type===j.d.JSText?a[s].push("<script".concat(u,">").concat(o.content,"<\/script>")):o.type===j.d.CSSUrl?i[s].push('<link rel="stylesheet" href="'.concat(o.content,'"').concat(u," />")):o.type===j.d.CSSText&&i[s].push('<style type="text/css"'.concat(u,">").concat(o.content,"</style>"))}}}catch(e){n.e(e)}finally{n.f()}}j.b.forEach((function(e){i[e]=[],a[e]=[]})),c(n);var u=Object.keys(i).map((function(e){return"".concat(i[e].join("\n"),'<meta level="').concat(e,'" />')})).join(""),s=Object.keys(a).map((function(e){return a[e].join("\n")})).join("");return o.open(),o.write('\n<!doctype html>\n<html class="engine-design-mode">\n  <head><meta charset="utf-8"/>\n    '.concat(u,"\n  </head>\n  <body>\n    ").concat(s,"\n  </body>\n</html>")),o.close(),new Promise((function(t){var n=r.SimulatorRenderer;if(n)return t(n);var o=function n(){t(r.SimulatorRenderer||e.renderer),r.removeEventListener("load",n)};r.addEventListener("load",o)}))}var E=n(15);function P(e){return e&&e.isSimulatorRenderer}function C(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,c,"next",e)}function c(e){C(i,r,o,a,c,"throw",e)}a(void 0)}))}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var R=Symbol("unset"),M=function(){function e(t,n){var r=this;x(this,e),this.consumer=void 0,this.emitter=new c.EventEmitter,this._data=R,this._providing=void 0,this._consuming=void 0,this._firstConsumed=!1,this.resovleFirst=void 0,this.consumer=n,this._providing=Object(a.autorun)((function(){r._data=t()}))}return A(e,[{key:"consume",value:function e(t){var n=this;if(!this._consuming){var r;if(P(t)){if(!this.consumer)return;var i=this.consumer;r=function e(n){return i(t,n)}}else r=t;this._consuming=Object(a.autorun)(T(o.a.mark((function e(){return o.a.wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:if(n._data!==R){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r(n._data);case 4:n.resovleFirst?n.resovleFirst():n._firstConsumed=!0;case 5:case"end":return t.stop()}}),e)}))))}}},{key:"dispose",value:function e(){this._providing&&this._providing(),this._consuming&&this._consuming(),this.emitter.removeAllListeners()}},{key:"waitFirstConsume",value:function e(){var t=this;return this._firstConsumed?Promise.resolve():new Promise((function(e){t.resovleFirst=e}))}}]),e}();Object(i.b)([a.obx.ref,Object(i.d)("design:type",Object)],M.prototype,"_data",void 0);var L=n(23),D=n.n(L),I=n(2),V=n.n(I);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=["string","number","array","bool","func","object","node","element","symbol","any"];function J(e,t){function n(){return e.isRequired.apply(e,arguments)}return"string"==typeof t&&(t={type:t}),n.lowcodeType=U(U({},t),{},{isRequired:!0}),n}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.a.any,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(){return e.apply(void 0,arguments)}return e._inner||"lowcodeCheckType"===e.name||(e.lowcodeType=t),n.lowcodeType=t,n.isRequired=J(e,t),n}var W=U(U({},D.a),{},{define:$});window.PropTypes=W,window.React.PropTypes=W,z.forEach((function(e){var t=D.a[e];t&&(t._inner=!0,W[e]=$(t,e))})),W.oneOf=function(e){return $(D.a.oneOf(e),{type:"oneOf",value:e})},W.arrayOf=function(e){return $(D.a.arrayOf(e),{type:"arrayOf",value:e.lowcodeType||"any"})},W.objectOf=function(e){return $(D.a.objectOf(e),{type:"objectOf",value:e.lowcodeType||"any"})},W.oneOfType=function(e){var t=e.map((function(e){return e.lowcodeType||"any"}));return $(D.a.oneOfType(e),{type:"oneOfType",value:t})},W.exact=function(e){var t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return $(D.a.exact(e),{type:"exact",value:t})},W.shape=function(e){var t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return $(D.a.shape(e),{type:"shape",value:t})};var H=["string","number","object"];function X(e){if(!e)return[];var t=e.propTypes||{},n=e.defaultProps||{},r={};return t?(Object.keys(t).forEach((function(e){var o=t[e],i=n[e],a=o.lowcodeType;if(a)return r[e]={name:e,propType:a},void(null!=i&&(r[e].defaultValue=i));for(var c=z.length;c-- >0;){var u=z[c];if(W[u]===o)return r[e]={name:e,propType:u},void(null!=i&&(r[e].defaultValue=i))}r[e]={name:e,propType:"any"},null!=i&&(r[e].defaultValue=i)})),Object.keys(n).forEach((function(e){if(!r[e]){var t=n[e],o=F(t);"boolean"===o?o="bool":"function"===o?o="func":"object"===o&&Array.isArray(t)?o="array":t&&Object(I.isValidElement)(t)?o="node":t&&Object(j.w)(t)?o="element":H.includes(o)||(o="any"),r[e]={name:e,propType:o||"any",defaultValue:t}}})),Object.keys(r).map((function(e){return r[e]}))):[]}function K(e){return U({props:X(e)},e.componentMetadata)}var q=function e(t,n){for(var r=t;r;){var o=Object(j.h)(r,n),i=Object(j.p)(r,(function(e){var t,n;return!!(null!==(t=r)&&void 0!==t&&t.isLocked?null===(n=e.parent)||void 0===n?void 0:n.isLocked:e.isLocked)}));if(i&&i.getId()!==r.getId()&&(o=!1),o)break;r=r.parent}return r},Y=n(4),Q=n(34),Z;function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var re="data-setter-prop";function oe(e,t){var n=e.closest("[".concat(re,"]"));return n&&t.contains(n)?n:null}function ie(e,t){t.setValue(e)}var ae=[];function ce(e){ae.push(e)}function ue(){ae=[]}var se=[];function le(e){se.push(e)}function fe(){se=[]}var pe=function(){function e(){ee(this,e),this._editing=null,this._dispose=void 0,this._save=void 0}return ne(e,[{key:"apply",value:function e(t){var n,r,o,i=this,c=t.node,u=t.event,s=t.rootElement,l=u.target,f=c.componentMeta.liveTextEditing,p=a.globalContext.get(a.Editor),d=null==c||null===(n=c.componentMeta)||void 0===n?void 0:n.npm,h=[null==d?void 0:d.package,null==d?void 0:d.componentName].filter((function(e){return!!e})).join("-")||(null==c||null===(r=c.componentMeta)||void 0===r?void 0:r.componentName)||"";null==p||p.emit("designer.builtinSimulator.liveEditing",{selected:h});var v=oe(l,s),y=null===(o=v)||void 0===o?void 0:o.dataset.setterProp,b,m;f?y?b=f.find((function(e){return e.propTarget==y})):(b=f.find((function(e){return!!e.selector&&!!(v=ve(s,l,e.selector))})),y=null===(m=b)||void 0===m?void 0:m.propTarget):(se.some((function(e){return!!(b=e(t))})),b&&(y=b.propTarget,v=b.propElement||ve(s,l,b.selector)));if(y&&v){var g,O,j,w=c.getProp(y,!0);if(this._editing===w)return;var k=(null===(g=b)||void 0===g?void 0:g.onSaveContent)||(null===(O=ae.find((function(e){return e.condition(w)})))||void 0===O?void 0:O.onSaveContent)||ie;v.setAttribute("contenteditable",null!==(j=b)&&void 0!==j&&j.mode&&"plaintext"!==b.mode?"true":"plaintext-only"),v.classList.add("engine-live-editing"),v.focus(),de(u),this._save=function(){k(v.innerText,w)};var _=function e(t){var n;switch(console.info(t.code),t.code){case"Enter":case"Escape":break;case"Tab":null===(n=v)||void 0===n||n.blur()}},S=function e(){i.saveAndDispose()};v.addEventListener("focusout",S),v.addEventListener("keydown",_,!0),this._dispose=function(){v.classList.remove("engine-live-editing"),v.removeAttribute("contenteditable"),v.removeEventListener("focusout",S),v.removeEventListener("keydown",_,!0)},this._editing=w}}},{key:"editing",get:function e(){return this._editing}},{key:"saveAndDispose",value:function e(){this._save&&(this._save(),this._save=void 0),this.dispose()}},{key:"dispose",value:function e(){this._dispose&&(this._dispose(),this._dispose=void 0),this._editing=null}}]),e}();function de(e){var t,n=null===(t=e.view)||void 0===t?void 0:t.document;if(n){var r=n.caretRangeFromPoint(e.clientX,e.clientY);r&&(he(n,r),setTimeout((function(){return he(n,r)}),1))}}function he(e,t){var n=e.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}function ve(e,t,n){if(!n)return null;var r=":root"===n?e:e.querySelector(n);return r&&(r.contains(t)||(r=Array.from(e.querySelectorAll(n)).find((function(e){return e.contains(t)}))))?r:null}pe.addLiveEditingSpecificRule=le,pe.clearLiveEditingSpecificRule=fe,pe.addLiveEditingSaveHandler=ce,pe.clearLiveEditingSaveHandler=ue,Object(i.b)([a.obx.ref,Object(i.d)("design:type",Object)],pe.prototype,"_editing",void 0);var ye=n(21),be,me,ge,Oe;function je(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ae(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function we(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){we(i,r,o,a,c,"next",e)}function c(e){we(i,r,o,a,c,"throw",e)}a(void 0)}))}}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xe(e,t){return Le(e)||Me(e,t)||Ae(e,t)||Ne()}function Ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ae(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[],o=!0,i=!1,a,c;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){i=!0,c=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw c}}return r}}function Le(e){if(Array.isArray(e))return e}var De=function(){var e=Object(a.getPublicPath)(),t,n,r=xe(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],c=void 0===i?"":i,u;return t=r[2]?["".concat(c,"/css/react-simulator-renderer.css"),"".concat(c,"/js/react-simulator-renderer.js")]:["".concat(c,"/react-simulator-renderer.css"),"".concat(c,"/react-simulator-renderer.js")]}(),Ie=function(){var e=Object(a.getPublicPath)(),t,n,r=xe(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],c=void 0===i?"":i,u;return t=r[2]?["".concat(c,"/css/rax-simulator-renderer.css"),"".concat(c,"/js/rax-simulator-renderer.js")]:["".concat(c,"/rax-simulator-renderer.css"),"".concat(c,"/rax-simulator-renderer.js")]}(),Ve=[Object(j.g)(j.d.JSText,"window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.__is_simulator_env__=true;",void 0,"react"),Object(j.g)(j.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],Fe=[Object(j.g)(j.d.JSText,"window.Rax=parent.Rax;window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.VisualEngineUtils=parent.VisualEngineUtils;window.VisualEngine=parent.VisualEngine"),Object(j.g)(j.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],Be=function(){function e(t){var n=this;Pe(this,e),this.isSimulator=!0,this.project=void 0,this.designer=void 0,this.viewport=new O,this.scroller=void 0,this.emitter=new c.EventEmitter,this.componentsConsumer=void 0,this.injectionConsumer=void 0,this.autoRender=!0,this._props={},this._contentWindow=void 0,this._contentDocument=void 0,this._renderer=void 0,this.asyncLibraryMap={},this.libraryMap={},this._iframe=void 0,this.disableHovering=void 0,this.disableDetecting=void 0,this.liveEditing=new pe,this.instancesMap={},this.tryScrollAgain=null,this._sensorAvailable=!0,this.sensing=!1,Object(a.makeObservable)(this),this.project=t,this.designer=null==t?void 0:t.designer,this.scroller=this.designer.createScroller(this.viewport),this.autoRender=!a.engineConfig.get("disableAutoRender",!1),this.componentsConsumer=new M((function(){return n.componentsAsset})),this.injectionConsumer=new M((function(){return{appHelper:a.engineConfig.get("appHelper"),i18n:n.project.i18n}})),j.E.onStartTransaction((function(){n.stopAutoRepaintNode()}),Y.TransitionType.REPAINT),j.E.onEndTransaction((function(){n.rerender(),n.enableAutoRepaintNode()}),Y.TransitionType.REPAINT)}return Te(e,[{key:"stopAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.stopAutoRepaintNode()}},{key:"enableAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.enableAutoRepaintNode()}},{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"renderEnv",get:function e(){return this.get("renderEnv")||"default"}},{key:"device",get:function e(){return this.get("device")||"default"}},{key:"locale",get:function e(){return this.get("locale")}},{key:"deviceClassName",get:function e(){return this.get("deviceClassName")}},{key:"designMode",get:function e(){return this.get("designMode")||"design"}},{key:"requestHandlersMap",get:function e(){return this.get("requestHandlersMap")||null}},{key:"thisRequiredInJSE",get:function e(){var t;return null===(t=a.engineConfig.get("thisRequiredInJSE"))||void 0===t||t}},{key:"enableStrictNotFoundMode",get:function e(){var t;return null!==(t=a.engineConfig.get("enableStrictNotFoundMode"))&&void 0!==t&&t}},{key:"componentsAsset",get:function e(){return this.get("componentsAsset")}},{key:"theme",get:function e(){return this.get("theme")}},{key:"componentsMap",get:function e(){return this.designer.componentsMap}},{key:"deviceStyle",get:function e(){return this.get("deviceStyle")}},{key:"setProps",value:function e(t){this._props=t}},{key:"set",value:function e(t,n){this._props=Se(Se({},this._props),{},Ee({},t,n))}},{key:"get",value:function e(t){var n,r,o,i;return"device"===t?(null===(n=this.designer)||void 0===n||null===(r=n.editor)||void 0===r||null===(o=r.get("deviceMapper"))||void 0===o||null===(i=o.transform)||void 0===i?void 0:i.call(o,this._props.device))||this._props.device:this._props[t]}},{key:"connect",value:function e(t,n,r){return this._renderer=t,Object(a.autorun)(n,r)}},{key:"reaction",value:function e(t,n,r){return Object(a.reaction)(t,n,r)}},{key:"autorun",value:function e(t,n){return Object(a.autorun)(t,n)}},{key:"purge",value:function e(){}},{key:"mountViewport",value:function e(t){this.viewport.mount(t)}},{key:"contentWindow",get:function e(){return this._contentWindow}},{key:"contentDocument",get:function e(){return this._contentDocument}},{key:"renderer",get:function e(){return this._renderer}},{key:"buildLibrary",value:function e(t){var n=this,r=t||this.get("library"),o=[],i=[],a=[];return r&&r.length&&r.forEach((function(e){var t=e.exportMode,r=e.exportSourceLibrary;n.libraryMap[e.package]=e.library,e.async&&(n.asyncLibraryMap[e.package]=e),e.exportName&&e.library&&i.push("Object.defineProperty(window,'".concat(e.exportName,"',{get:()=>window.").concat(e.library,"});")),"functionCall"===t&&r&&a.push('window["'.concat(e.library,'"] = window["').concat(r,'"]("').concat(e.library,'", "').concat(e.package,'");')),e.editUrls?o.push(e.editUrls):e.urls&&o.push(e.urls)})),o.unshift(Object(j.g)(j.d.JSText,i.join(""))),o.push(Object(j.g)(j.d.JSText,a.join(""))),o}},{key:"rerender",value:function e(){var t,n;this.designer.refreshComponentMetasMap(),null===(t=this.renderer)||void 0===t||null===(n=t.rerender)||void 0===n||n.call(t)}},{key:"mountContentFrame",value:function(){var e=ke(o.a.mark((function e(t){var n=this,r,i,c;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:if(t&&this._iframe!==t){o.next=2;break}return o.abrupt("return");case 2:return this._iframe=t,this._contentWindow=t.contentWindow,this._contentDocument=this._contentWindow.document,r=this.buildLibrary(),i=[Object(j.f)(this.get("environment")||("rax"===this.renderEnv?Fe:Ve),j.a.Environment),Object(j.f)(this.get("extraEnvironment"),j.a.Environment),Object(j.f)(r,j.a.Library),Object(j.f)(this.theme,j.a.Theme),Object(j.f)(this.get("simulatorUrl")||("rax"===this.renderEnv?Ie:De),j.a.Runtime)],o.next=9,S(this,t,i);case 9:return c=o.sent,o.next=12,this.componentsConsumer.waitFirstConsume();case 12:return o.next=14,this.injectionConsumer.waitFirstConsume();case 14:if(!(Object.keys(this.asyncLibraryMap).length>0)){o.next=18;break}return o.next=17,c.loadAsyncLibrary(this.asyncLibraryMap);case 17:Object.keys(this.asyncLibraryMap).forEach((function(e){delete n.asyncLibraryMap[e]}));case 18:c.run(),this.viewport.setScrollTarget(this._contentWindow),this.setupEvents(),a.hotkey.mount(this._contentWindow),a.focusTracker.mount(this._contentWindow),Q.a.injectCopyPaster(this._contentDocument);case 24:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupComponents",value:function(){var e=ke(o.a.mark((function e(t){var n,r=this,i,a;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return i=this.buildLibrary(t),o.next=3,null===(n=this.renderer)||void 0===n?void 0:n.load(i);case 3:if(!(Object.keys(this.asyncLibraryMap).length>0)){o.next=7;break}return o.next=6,null===(a=this.renderer)||void 0===a?void 0:a.loadAsyncLibrary(this.asyncLibraryMap);case 6:Object.keys(this.asyncLibraryMap).forEach((function(e){delete r.asyncLibraryMap[e]}));case 7:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupEvents",value:function e(){this.setupDragAndClick(),this.setupDetecting(),this.setupLiveEditing(),this.setupContextMenu()}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.emitter).emit.apply(n,[t].concat(o))}},{key:"setupDragAndClick",value:function e(){var t=this,n=this.designer,r=this.contentDocument;r.addEventListener("mousedown",(function(e){document.dispatchEvent(new Event("mousedown"));var o=t.project.currentDocument;if(!t.liveEditing.editing&&o){var i=o.selection,a=!1;if("design"===t.designMode)a=e.metaKey||e.ctrlKey;else if(!e.metaKey)return;e.target.removeAttribute("for");var c=t.getNodeInstanceFromElement(e.target),s=o.focusNode,l=q((null==c?void 0:c.node)||s,e);if(l){var f=null==l?void 0:l.getParent(),p=null==f?void 0:f.isRGLContainer;if(p){if(e.target.classList.contains("react-resizable-handle"))return;a=!1,n.dragon.emitter.emit("rgl.switch",{action:"start",rglNode:f})}else e.stopPropagation(),e.preventDefault();var d,h=function o(d){if(r.removeEventListener("mouseup",o,!0),n.dragon.emitter.emit("rgl.switch",{action:"end",rglNode:f}),!Object(u.isShaken)(e,d)||p){var h=l.id;if(n.activeTracker.track({node:l,instance:null==c?void 0:c.instance}),a&&!l.contains(s)&&i.has(h))i.remove(h);else{var v,y,b,m;if(l.isPage()&&null!==(v=l.getChildren())&&void 0!==v&&v.notEmpty()&&"live"===t.designMode){var g,O,j=null===(g=l.getChildren())||void 0===g||null===(O=g.get(0))||void 0===O?void 0:O.getId();j&&(h=j)}i.select(l.contains(s)?s.id:h);var w=null===(y=t.designer)||void 0===y?void 0:y.editor,k=null==l||null===(b=l.componentMeta)||void 0===b?void 0:b.npm,_=[null==k?void 0:k.package,null==k?void 0:k.componentName].filter((function(e){return!!e})).join("-")||(null==l||null===(m=l.componentMeta)||void 0===m?void 0:m.componentName)||"";null==w||w.emit("designer.builtinSimulator.select",{selected:_})}}};if((1===e.which||0===e.button)&&!l.contains(s)){var v=[l],y=!1;if(a?(i.has(l.id)||(n.activeTracker.track({node:l,instance:null==c?void 0:c.instance}),i.add(l.id),y=!0),i.remove(s.id),v=i.getTopNodes()):i.containsNode(l,!0)&&(v=i.getTopNodes()),n.dragon.boost({type:u.DragObjectType.Node,nodes:v},e,p?f:void 0),y)return}r.addEventListener("mouseup",h,!0)}}}),!0),r.addEventListener("click",(function(e){var n,r=new Event("click");r.initEvent("click",!0),null===(n=t._iframe)||void 0===n||n.dispatchEvent(r);var o=e.target,i=a.engineConfig.get("customizeIgnoreSelectors"),c=[".next-input-group",".next-checkbox-group",".next-checkbox-wrapper",".next-date-picker",".next-input",".next-month-picker",".next-number-picker",".next-radio-group",".next-range",".next-range-picker",".next-rating",".next-select",".next-switch",".next-time-picker",".next-upload",".next-year-picker",".next-breadcrumb-item",".next-calendar-header",".next-calendar-table",".editor-container"],u,s=((null==i?void 0:i(c,e))||c).join(",");(!i&&Object(j.x)(e)||null!=o&&o.closest(s))&&(e.preventDefault(),e.stopPropagation())}),!0)}},{key:"setupDetecting",value:function e(){var t=this,n=this.contentDocument,r=this.designer,o=r.detecting,i=r.dragon,c=function e(n){if(o.enable&&"design"===t.designMode){var r=t.getNodeInstanceFromElement(n.target);if(null!=r&&r.node){var c,u=r.node,s=null===(c=u.document)||void 0===c?void 0:c.focusNode;u.contains(s)&&(u=s),o.capture(u)}else o.capture(null);a.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||n.stopPropagation()}},u=function e(){return o.leave(t.project.currentDocument)};n.addEventListener("mouseover",c,!0),n.addEventListener("mouseleave",u,!1),n.addEventListener("mousemove",(function(e){a.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||e.stopPropagation()}),!0)}},{key:"setupLiveEditing",value:function e(){var t=this,n;this.contentDocument.addEventListener("dblclick",(function(e){var n,r;e.stopPropagation(),e.preventDefault();var o=e.target,i=t.getNodeInstanceFromElement(o);if(i){var a=null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode,c=i.node||a;if(c&&!Object(E.i)(c)){var u=null===(r=t.findDOMNodes(i.instance,c.componentMeta.rootSelector))||void 0===r?void 0:r.find((function(e){return e&&e.contains(o)}));u&&t.liveEditing.apply({node:c,rootElement:u,event:e})}}}),!0)}},{key:"setSuspense",value:function e(t){return!1}},{key:"setupContextMenu",value:function e(){var t=this,n;this.contentDocument.addEventListener("contextmenu",(function(e){var n,r,o,i,a=e.target,c=t.getNodeInstanceFromElement(a);if(c){var u=c.node||(null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode);if(u){var s=null===(r=t.designer)||void 0===r?void 0:r.editor,l=null==u||null===(o=u.componentMeta)||void 0===o?void 0:o.npm,f=[null==l?void 0:l.package,null==l?void 0:l.componentName].filter((function(e){return!!e})).join("-")||(null==u||null===(i=u.componentMeta)||void 0===i?void 0:i.componentName)||"";null==s||s.emit("designer.builtinSimulator.contextmenu",Se(Se({selected:f},c),{},{instanceRect:t.computeComponentInstanceRect(c.instance),originalEvent:e}))}}}))}},{key:"generateComponentMetadata",value:function e(t){if(Ue(t))return{componentName:t};var n=this.getComponent(t);return n?Se({componentName:t},K(n)):{componentName:t}}},{key:"getComponent",value:function e(t){var n;return(null===(n=this.renderer)||void 0===n?void 0:n.getComponent(t))||null}},{key:"createComponent",value:function e(t){return null}},{key:"setInstance",value:function e(t,n,r){Object(j.s)(this.instancesMap,t)||(this.instancesMap[t]=new Map),null==r?this.instancesMap[t].delete(n):this.instancesMap[t].set(n,r.slice())}},{key:"getComponentInstances",value:function e(t,n){var r,o=this,i=t.document.id,a=(null===(r=this.instancesMap[i])||void 0===r?void 0:r.get(t.id))||null;return a&&n?a.filter((function(e){var t;return(null===(t=o.getClosestNodeInstance(e,null==n?void 0:n.nodeId))||void 0===t?void 0:t.instance)===n.instance})):a}},{key:"getComponentContext",value:function e(){throw new Error("Method not implemented.")}},{key:"getClosestNodeInstance",value:function e(t,n){var r;return(null===(r=this.renderer)||void 0===r?void 0:r.getClosestNodeInstance(t,n))||null}},{key:"computeRect",value:function e(t){var n=this.getComponentInstances(t);return n?this.computeComponentInstanceRect(n[0],t.componentMeta.rootSelector):null}},{key:"computeComponentInstanceRect",value:function e(t,n){var r=this.renderer,o=this.findDOMNodes(t,n);if(!o)return null;for(var i=o.slice(),a,c,u=!1;;){if(!a||a.length<1){var s=i.pop();if(!s)break;a=r.getClientRects(s)}var l=a.pop();if(!l)break;0===l.width&&0===l.height||(c?(l.left<c.x&&(c.x=l.left,u=!0),l.top<c.y&&(c.y=l.top,u=!0),l.right>c.r&&(c.r=l.right,u=!0),l.bottom>c.b&&(c.b=l.bottom,u=!0)):c={x:l.left,y:l.top,r:l.right,b:l.bottom})}if(c){var f=new DOMRect(c.x,c.y,c.r-c.x,c.b-c.y);return f.elements=o,f.computed=u,f}return null}},{key:"findDOMNodes",value:function e(t,n){var r,o=null===(r=this._renderer)||void 0===r?void 0:r.findDOMNodes(t);if(!o)return null;if(n){var i=We(o,n);return i?[i]:null}return o}},{key:"getNodeInstanceFromElement",value:function e(t){if(!t)return null;var n=this.getClosestNodeInstance(t);if(!n)return null;var r=n.docId,o,i=this.project.getDocument(r).getNode(n.nodeId);return Se(Se({},n),{},{node:i})}},{key:"scrollToNode",value:function e(t,n){var r,o,i;if(this.tryScrollAgain=null,!this.sensing){var a={},c=!1,u=null===(r=this.getComponentInstances((null==n||null===(o=n.near)||void 0===o?void 0:o.node)||t))||void 0===r?void 0:r[0];if(u){var s=null===(i=this.findDOMNodes(u))||void 0===i?void 0:i[0];if(s){if(Object(ye.b)(s)&&!Object(ye.a)(s,this.viewport)){var l,f=s.getBoundingClientRect(),p=f.left,d=f.top,h=(null===(l=this.contentDocument)||void 0===l?void 0:l.documentElement)||{},v=h.scrollTop,y=void 0===v?0:v,b=h.scrollLeft,m=void 0===b?0:b;a.left=p+m,a.top=d+y,c=!0}c&&this.scroller&&this.scroller.scrollTo(a)}}}}},{key:"setNativeSelection",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setNativeSelection(t)}},{key:"setDraggingState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setDraggingState(t)}},{key:"setCopyState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setCopyState(t)}},{key:"clearState",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.clearState()}},{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==this.contentDocument,o;if(r||!("canvasX"in t)||!("canvasY"in t)){var i=this.viewport.toLocalPoint({clientX:t.globalX,clientY:t.globalY});t.canvasX=i.clientX,t.canvasY=i.clientY}t.target&&!r||(isNaN(t.canvasX)||isNaN(t.canvasY)||(t.target=null===(o=this.contentDocument)||void 0===o?void 0:o.elementFromPoint(t.canvasX,t.canvasY)));return t.fixed=!0,t}},{key:"isEnter",value:function e(t){var n=this.viewport.bounds;return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){this.sensing=!1,this.scroller.cancel()}},{key:"locate",value:function e(t){var n=this,r,o=t.dragObject.nodes,i=null==o?void 0:o.filter((function(e){var t,n,r,o,i=null===(t=e.componentMeta)||void 0===t||null===(n=t.getMetadata())||void 0===n||null===(r=n.configure.advanced)||void 0===r||null===(o=r.callbacks)||void 0===o?void 0:o.onMoveHook,a;return!i||"function"!=typeof i||i(e.internalToShellNode())}));if(!o||i&&0!==i.length){this.sensing=!0,this.scroller.scrolling(t);var a=this.project.currentDocument;if(!a)return null;var c=this.getDropContainer(t),s;if(Object(j.p)(null==c?void 0:c.container,(function(e){return e.isLocked})))return null;if(!c)return null;if(Object(u.isLocationData)(c))return this.designer.createLocation(c);var l=c.container,f=c.instance,p=this.computeComponentInstanceRect(f,l.componentMeta.rootSelector);if(!p)return null;var d=l.children,h={type:u.LocationDetailType.Children,index:0,edge:p},v={target:l,detail:h,source:"simulator".concat(a.id),event:t};if(t.dragObject&&t.dragObject.nodes&&t.dragObject.nodes.length&&t.dragObject.nodes[0].componentMeta.isModal)return this.designer.createLocation({target:a.focusNode,detail:h,source:"simulator".concat(a.id),event:t});if(!d||d.size<1||!p)return this.designer.createLocation(v);for(var y=null,b=0,m=null,g=null,O=null,w=null,k=0,_=d.size;k<_;k++){var S=d.get(k),E=k,P=this.getComponentInstances(S),C=P?P.length>1?P.find((function(e){var t;return(null===(t=n.getClosestNodeInstance(e,l.id))||void 0===t?void 0:t.instance)===f})):P[0]:null,T=C?this.computeComponentInstanceRect(C,S.componentMeta.rootSelector):null;if(T){var x=Ge(t,T)?0:ze(t,T);if(0===x){g=x,m=S,b=E,y=T;break}(null===O||T.top<O)&&(O=T.top),(null===w||T.bottom>w)&&(w=T.bottom),(null===g||x<g)&&(g=x,m=S,b=E,y=T)}}if(h.index=b,m&&y){var N=Object(u.getRectTarget)(y),A=!!N&&Object(u.isChildInline)(N),R=!!N&&Object(u.isRowContainer)(N.parentElement),M=A||R,L={node:m,pos:"before",align:M?"V":"H"};if(h.near=L,$e(t,y,M)&&(L.pos="after",h.index=b+1),!R&&0!==g){var D=Je(t,p);if(D.distance<g){var I=D.nearAfter;null==O&&(O=p.top),null==w&&(w=p.bottom),L.rect=new DOMRect(p.left,O,p.width,w-O),L.align="H",L.pos=I?"after":"before",h.index=I?d.size:0}}}return this.designer.createLocation(v)}}},{key:"getDropContainer",value:function e(t){var n=t.target,r=t.dragObject,o=Object(u.isDragAnyObject)(r),i=this.project.currentDocument,a=i.currentRoot,c,s;if(n){var l=this.getNodeInstanceFromElement(n);if(null!=l&&l.node)s=l,c=l.node;else{if(o)return null;c=a}}else{if(o)return null;c=a}if(c.isParental()||(c=c.parent||a),o)return null;var f=new Set,p,d,h;if(Object(u.isDragNodeObject)(r)){for(var v=r.nodes,y=v.length,b=c;y-- >0;)Object(E.d)(v[y],b)&&(b=v[y].parent);b!==c&&(c=b||i.focusNode,f.add(c))}s?p=s.node===c?s.instance:null===(d=this.getClosestNodeInstance(s.instance,c.id))||void 0===d?void 0:d.instance:p=null===(h=this.getComponentInstances(c))||void 0===h?void 0:h[0];for(var m={container:c,instance:p},g,O=null;c;){if(!0===(g=this.handleAccept(m,t)))return m;if(!g)if(f.add(c),O)c=(m=O).container,O=null;else{if(!c.parent)return null;var j;m={container:c=c.parent,instance:p=null===(j=this.getClosestNodeInstance(m.instance,c.id))||void 0===j?void 0:j.instance}}}return null}},{key:"isAcceptable",value:function e(){return!1}},{key:"handleAccept",value:function e(t,n){var r=t.container,o=t.instance,i=n.dragObject,a=this.currentDocument,c=a.focusNode;if(Object(E.k)(r)||r.contains(c))return a.checkNesting(c,i);var u=r.componentMeta,s=this.isAcceptable(r);return!(!u.isContainer&&!s)&&a.checkNesting(r,i)}},{key:"getNearByContainer",value:function e(t,n,r){var o=t.container,i=t.instance,a=o.children,c=this.project.currentDocument;if(!a||a.isEmpty())return null;for(var u=null,s=null,l=0,f=a.size;l<f;l++){var p=a.get(l);if(p){if(p.conditionGroup){var d=p.conditionGroup;l=d.index+d.length-1,p=d.visibleNode}if(p.isParental()&&!n.has(p)){this.findDOMNodes(i),this.getComponentInstances(p);var h=this.computeRect(p)}}}return null}}]),e}();function Ue(e){return/^[a-z]\w*$/.test(e)}function Ge(e,t){return e.canvasY>=t.top&&e.canvasY<=t.bottom&&e.canvasX>=t.left&&e.canvasX<=t.right}function ze(e,t){var n=Math.min(Math.abs(e.canvasX-t.left),Math.abs(e.canvasX-t.right)),r=Math.min(Math.abs(e.canvasY-t.top),Math.abs(e.canvasY-t.bottom));return e.canvasX>=t.left&&e.canvasX<=t.right&&(n=0),e.canvasY>=t.top&&e.canvasY<=t.bottom&&(r=0),Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function Je(e,t){var n=Math.abs(e.canvasY-t.top),r=Math.abs(e.canvasY-t.bottom);return{distance:Math.min(n,r),nearAfter:r<n}}function $e(e,t,n){return n?Math.abs(e.canvasX-t.left)+Math.abs(e.canvasY-t.top)>Math.abs(e.canvasX-t.right)+Math.abs(e.canvasY-t.bottom):Math.abs(e.canvasY-t.top)>Math.abs(e.canvasY-t.bottom)}function We(e,t){var n=null,r=je(e),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;if(Object(j.w)(i)){if(i.matches(t))return i;n||(n=i.querySelector(t))}}}catch(e){r.e(e)}finally{r.f()}return n}Object(i.b)([a.computed,Object(i.d)("design:type",String),Object(i.d)("design:paramtypes",[])],Be.prototype,"renderEnv",null),Object(i.b)([a.computed,Object(i.d)("design:type",String),Object(i.d)("design:paramtypes",[])],Be.prototype,"device",null),Object(i.b)([a.computed,Object(i.d)("design:type",String),Object(i.d)("design:paramtypes",[])],Be.prototype,"locale",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],Be.prototype,"deviceClassName",null),Object(i.b)([a.computed,Object(i.d)("design:type",String),Object(i.d)("design:paramtypes",[])],Be.prototype,"designMode",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],Be.prototype,"requestHandlersMap",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],Be.prototype,"componentsAsset",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],Be.prototype,"theme",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],Be.prototype,"componentsMap",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],Be.prototype,"deviceStyle",null),Object(i.b)([a.obx.ref,Object(i.d)("design:type",Object)],Be.prototype,"_props",void 0),Object(i.b)([a.obx.ref,Object(i.d)("design:type","function"==typeof(ge="undefined"!=typeof Window&&Window)?ge:Object)],Be.prototype,"_contentWindow",void 0),Object(i.b)([a.obx.ref,Object(i.d)("design:type","function"==typeof(Oe="undefined"!=typeof Document&&Document)?Oe:Object)],Be.prototype,"_contentDocument",void 0),Object(i.b)([a.obx,Object(i.d)("design:type",Object)],Be.prototype,"instancesMap",void 0);var He=n(6),Xe=n.n(He);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}function et(e,t){return(et=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function tt(e){var t=ot();return function n(){var r=it(e),o;if(t){var i=it(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return nt(this,o)}}function nt(e,t){if(t&&("object"===Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var at=function(e){Ze(n,e);var t=tt(n);function n(){return qe(this,n),t.apply(this,arguments)}return Qe(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,o=t.scale,i=t.scrollX,c=t.scrollY,u=t.isLocked;if(!r)return null;var s={width:r.width*o,height:r.height*o,transform:"translate(".concat((i+r.left)*o,"px, ").concat((c+r.top)*o,"px)")},l=Xe()("lc-borders lc-borders-detecting");return React.createElement("div",{className:l,style:s},React.createElement(a.Title,{title:n,className:"lc-borders-title"}),u?React.createElement(a.Title,{title:"\u5df2\u9501\u5b9a",className:"lc-borders-status"}):null)}}]),n}(I.PureComponent),ct=function(e){Ze(n,e);var t=tt(n);function n(){return qe(this,n),t.apply(this,arguments)}return Qe(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"current",get:function e(){var t=this.props.host,n=t.currentDocument;if(!n)return null;var r=n.selection,o=t.designer.detecting.current;return!o||o.document!==n||r.has(o.id)?null:o}},{key:"render",value:function e(){var t,n,r,o=this,i=this.props.host,a=this.current,c=null==a||null===(t=a.componentMeta.getMetadata())||void 0===t||null===(n=t.configure.advanced)||void 0===n||null===(r=n.callbacks)||void 0===r?void 0:r.onHoverHook,u;if(!(!c||"function"!=typeof c||c(a.internalToShellNode()))||!a||i.viewport.scrolling||i.liveEditing.editing)return null;var s=a.document.focusNode;if(!s.contains(a))return null;if(a.contains(s)){var l=i.viewport.bounds;return React.createElement(at,{key:"line-root",title:a.title,scale:this.scale,scrollX:i.viewport.scrollX,scrollY:i.viewport.scrollY,rect:new DOMRect(0,0,l.width,l.height)})}var f=Object(j.p)(a,(function(e){var t;return!!(null!=a&&a.isLocked?null===(t=e.parent)||void 0===t?void 0:t.isLocked:e.isLocked)}));if(f&&f.getId()!==a.getId())return React.createElement(at,{key:"line-h",title:a.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:i.computeComponentInstanceRect(i.getComponentInstances(f)[0],f.componentMeta.rootSelector),isLocked:(null==f?void 0:f.getId())!==a.getId()});var p=i.getComponentInstances(a);return!p||p.length<1?null:1===p.length?React.createElement(at,{key:"line-h",title:a.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:i.computeComponentInstanceRect(p[0],a.componentMeta.rootSelector)}):React.createElement(I.Fragment,null,p.map((function(e,t){return React.createElement(at,{key:"line-h-".concat(t),title:a.title,scale:o.scale,scrollX:o.scrollX,scrollY:o.scrollY,rect:i.computeComponentInstanceRect(e,a.componentMeta.rootSelector)})})))}}]),n}(I.Component);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dt(e,t)}function dt(e,t){return(dt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ht(e){var t=bt();return function n(){var r=mt(e),o;if(t){var i=mt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return vt(this,o)}}function vt(e,t){if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yt(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],ct.prototype,"scale",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],ct.prototype,"scrollX",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],ct.prototype,"scrollY",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],ct.prototype,"current",null),ct=Object(i.b)([a.observer],ct);var gt=function(e){pt(n,e);var t=ht(n);function n(){return st(this,n),t.apply(this,arguments)}return ft(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,o=t.scale,i=t.scrollX,c=t.scrollY;if(!r)return null;var u={width:r.width*o,height:r.height*o,transform:"translate(".concat((i+r.left)*o,"px, ").concat((c+r.top)*o,"px)")},s=Xe()("lc-borders lc-borders-detecting");return I.createElement("div",{className:s,style:u},I.createElement(a.Title,{title:n,className:"lc-borders-title"}))}}]),n}(I.PureComponent);function Ot(e){if("string"==typeof e)return e;if(Object(Y.isI18nData)(e)){var t=a.globalLocale.getLocale()||"zh-CN";return"\u5c06\u653e\u5165\u5230\u6b64".concat(e[t])}return""}var jt=function(e){pt(n,e);var t=ht(n);function n(){var e;st(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e}return ft(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"componentDidMount",value:function e(){var t=this,n;this.props.host.designer.editor.on("designer.dropLocation.change",(function(e){var n;t.state.target!==(null==e?void 0:e.target)&&t.setState({target:null==e?void 0:e.target})}))}},{key:"render",value:function e(){var t=this,n=this.props.host,r=this.state.target;if(null==r)return null;var o=n.getComponentInstances(r);return!o||o.length<1?null:1===o.length?I.createElement(gt,{key:"line-h",title:Ot(r.componentMeta.title),scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:n.computeComponentInstanceRect(o[0],r.componentMeta.rootSelector)}):I.createElement(I.Fragment,null,o.map((function(e,o){return I.createElement(gt,{key:"line-h-".concat(o),title:Ot(r.componentMeta.title),scale:t.scale,scrollX:t.scrollX,scrollY:t.scrollY,rect:n.computeComponentInstanceRect(e,r.componentMeta.rootSelector)})})))}}]),n}(I.Component);Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],jt.prototype,"scale",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],jt.prototype,"scrollX",null),Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],jt.prototype,"scrollY",null),jt=Object(i.b)([a.observer],jt);var wt=n(11),kt=n(170);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ct(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function xt(e){var t=Rt();return function n(){var r=Mt(e),o;if(t){var i=Mt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Nt(this,o)}}function Nt(e,t){if(t&&("object"===_t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return At(e)}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Lt=wt.Overlay.Popup,Dt=function(e){Ct(n,e);var t=xt(n);function n(){var e;St(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={parentNodes:[]},e.getParentNodes=function(e){var t=[],n=e.document.focusNode;if(e.contains(n)||!n.contains(e))return t;for(var r=e;r&&t.length<5&&((r=r.getParent())&&t.push(r),r!==n););return t},e.onSelect=function(e){return function(t){var n;if(e&&(Object(j.h)(e,t)&&"function"==typeof e.select)){var r,o;e.select();var i=a.globalContext.get(a.Editor),c=null==e||null===(r=e.componentMeta)||void 0===r?void 0:r.npm,u=[null==c?void 0:c.package,null==c?void 0:c.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(o=e.componentMeta)||void 0===o?void 0:o.componentName)||"";null==i||i.emit("designer.border.action",{name:"select",selected:u})}}},e.onMouseOver=function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.onMouseOut=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.renderNodes=function(){var t=e.state.parentNodes,n;return!t||t.length<1?null:t.map((function(t,n){return V.a.createElement("div",{key:n,onClick:e.onSelect(t),onMouseEnter:e.onMouseOver(t),onMouseLeave:e.onMouseOut(t),className:"instance-node-selector-node"},V.a.createElement("div",{className:"instance-node-selector-node-content"},V.a.createElement(a.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})))}))},e}return Pt(n,[{key:"componentDidMount",value:function e(){var t=this.getParentNodes(this.props.node);this.setState({parentNodes:t})}},{key:"render",value:function e(){var t=this.props.node;return V.a.createElement("div",{className:"instance-node-selector"},V.a.createElement(Lt,{trigger:V.a.createElement("div",{className:"instance-node-selector-current"},V.a.createElement(a.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})),triggerType:"hover",offset:[0,0]},V.a.createElement("div",{className:"instance-node-selector"},this.renderNodes(t))))}}]),n}(V.a.Component);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ut(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gt(e,t)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function zt(e){var t=Wt();return function n(){var r=Ht(e),o;if(t){var i=Ht(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Jt(this,o)}}function Jt(e,t){if(t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Xt=function(e){Ut(n,e);var t=zt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return Bt(n,[{key:"componentWillUnmount",value:function e(){this.props.observed.purge()}},{key:"render",value:function e(){var t,n=this.props,r=n.observed,o=n.highlight,i=n.dragging;if(!r.hasOffset)return null;var a=r.offsetWidth,c=r.offsetHeight,u=r.offsetTop,s=r.offsetLeft,l={width:a,height:c,transform:"translate3d(".concat(s,"px, ").concat(u,"px, 0)")},f=Xe()("lc-borders lc-borders-selecting",{highlight:o,dragging:i}),p;return(null===(t=r.node.componentMeta.getMetadata().configure.advanced)||void 0===t?void 0:t.hideSelectTools)?null:React.createElement("div",{className:f,style:l},!i&&React.createElement(Kt,{observed:r}))}}]),n}(I.Component);Xt=Object(i.b)([a.observer],Xt);var Kt=function(e){Ut(n,e);var t=zt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return Bt(n,[{key:"render",value:function e(){var t=this.props.observed,n=t.viewport,r=n.height,o=n.width,i=20,a=1,c=2,u=23,s=160,l;l=t.top>23?{top:-23,height:20}:t.bottom+23<r?{bottom:-23,height:20}:{height:20,top:Math.max(1,1-t.top)},160>t.left+t.width?l.left=Math.max(-2,t.left-o-2):(l.right=Math.max(-2,t.right-o-2),l.justifyContent="flex-start");var f=t.node,p=[];return f.componentMeta.availableActions.forEach((function(e){var t=e.important,n=void 0===t||t,r=e.condition,o=e.content,i=e.name;(!f.isSlot()||"copy"!==i&&"remove"!==i)&&n&&("function"==typeof r?!1!==r(f):!1!==r)&&p.push(qt(o,i,f))})),React.createElement("div",{className:"lc-borders-actions",style:l},p,React.createElement(Dt,{node:f}))}}]),n}(I.Component);function qt(e,t,n){if(Object(I.isValidElement)(e))return Object(I.cloneElement)(e,{key:t,node:n});if(Object(j.z)(e))return Object(I.createElement)(e,{key:t,node:n});if(Object(Y.isActionContentObject)(e)){var r=e.action,o=e.title,i=e.icon;return React.createElement("div",{key:t,className:"lc-borders-action",onClick:function e(){var o,i;r&&r(n);var c=a.globalContext.get("editor"),u=null==n||null===(o=n.componentMeta)||void 0===o?void 0:o.npm,s=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==n||null===(i=n.componentMeta)||void 0===i?void 0:i.componentName)||"";null==c||c.emit("designer.border.action",{name:t,selected:s})}},i&&Object(j.m)(i),React.createElement(a.Tip,null,o))}return null}Kt=Object(i.b)([a.observer],Kt);var Yt=function(e){Ut(n,e);var t=zt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return Bt(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,r=this.props.node,o=this.host.designer;return!n||n.length<1?null:React.createElement(I.Fragment,{key:r.id},n.map((function(e){var n=o.createOffsetObserver({node:r,instance:e});return n?React.createElement(Xt,{key:n.id,dragging:t.dragging,observed:n}):null})))}}]),n}(I.Component);Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],Yt.prototype,"instances",null),Yt=Object(i.b)([a.observer],Yt);var Qt=function(e){Ut(n,e);var t=zt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return Bt(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed||this.host.liveEditing.editing)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?null:React.createElement(I.Fragment,null,n.map((function(e){return React.createElement(Yt,{key:e.id,host:t.props.host,node:e})})))}}]),n}(I.Component);function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t,n){return t&&en(e.prototype,t),n&&en(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],Qt.prototype,"selecting",null),Qt=Object(i.b)([a.observer],Qt);var nn=function(){function e(t){Zt(this,e),this.emitter=void 0,this.dragResizing=!1,this.designer=void 0,this.designer=t,this.emitter=new c.EventEmitter}return tn(e,[{key:"isDragResizing",value:function e(){return this.dragResizing}},{key:"from",value:function e(t,n,r){var o=this,i,a;if(!t)return function(){};var c=function e(t){var r=s(t),c=r.clientX-a.clientX,u=r.clientY-a.clientY;o.emitter.emit("resize",t,n,i,c,u)},u=this.getMasterSensors(),s=function e(t){var n,r=null===(n=t.view)||void 0===n?void 0:n.document;if(!r||r===document)return t;var o=u.find((function(e){return e.contentDocument===r}));return o?o.viewport.toGlobalPoint(t):t},l=function e(t){var r;Object(ye.c)(t,u)((function(t){t.removeEventListener("mousemove",c,!0),t.removeEventListener("mouseup",e,!0)})),o.dragResizing=!1,o.designer.detecting.enable=!0,j.n.release(),o.emitter.emit("resizeEnd",t,n,i)},f=function e(t){var f;i=r(t),a=s(t),Object(ye.c)(t,u)((function(e){e.addEventListener("mousemove",c,!0),e.addEventListener("mouseup",l,!0)})),o.emitter.emit("resizeStart",t,n,i),o.dragResizing=!0,o.designer.detecting.enable=!1,j.n.addState("ew-resize")};return t.addEventListener("mousedown",f),function(){t.removeEventListener("mousedown",f)}}},{key:"onResizeStart",value:function e(t){var n=this;return this.emitter.on("resizeStart",t),function(){n.emitter.removeListener("resizeStart",t)}}},{key:"onResize",value:function e(t){var n=this;return this.emitter.on("resize",t),function(){n.emitter.removeListener("resize",t)}}},{key:"onResizeEnd",value:function e(t){var n=this;return this.emitter.on("resizeEnd",t),function(){n.emitter.removeListener("resizeEnd",t)}}},{key:"getMasterSensors",value:function e(){return this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)}}]),e}(),rn=Object(I.createContext)({}),on,an;function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t,n){return t&&sn(e.prototype,t),n&&sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pn(e,t)}function pn(e,t){return(pn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function dn(e){var t=yn();return function n(){var r=bn(e),o;if(t){var i=bn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return hn(this,o)}}function hn(e,t){if(t&&("object"===cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vn(e)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mn=((on=function(e){fn(n,e);var t=dn(n);function n(){return un(this,n),t.apply(this,arguments)}return ln(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"componentDidUpdate",value:function e(){}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?V.a.createElement(I.Fragment,null):V.a.createElement(I.Fragment,null,n.map((function(e){return V.a.createElement(On,{key:e.id,node:e,host:t.props.host})})))}}]),n}(I.Component)).contextType=rn,on);Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],mn.prototype,"selecting",null);var gn=mn=Object(i.b)([a.observer],mn),On=((an=function(e){fn(n,e);var t=dn(n);function n(){return un(this,n),t.apply(this,arguments)}return ln(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,r=this.props.node,o=this.host.designer;return!n||n.length<1||this.dragging?null:V.a.createElement(I.Fragment,{key:r.id},n.map((function(e){var n=o.createOffsetObserver({node:r,instance:e});return n?V.a.createElement(jn,{key:n.id,dragging:t.dragging,designer:o,observed:n}):null})))}}]),n}(I.Component)).contextType=rn,an);Object(i.b)([a.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],On.prototype,"instances",null),On=Object(i.b)([a.observer],On);var jn=function(e){fn(n,e);var t=dn(n);function n(e){var r;return un(this,n),(r=t.call(this,e)).willUnbind=void 0,r.outlineN=void 0,r.outlineE=void 0,r.outlineS=void 0,r.outlineW=void 0,r.outlineNE=void 0,r.outlineNW=void 0,r.outlineSE=void 0,r.outlineSW=void 0,r.dragEngine=void 0,r.dragEngine=new nn(e.designer),r}return ln(n,[{key:"componentWillUnmount",value:function e(){this.willUnbind&&this.willUnbind(),this.props.observed.purge()}},{key:"componentDidMount",value:function e(){this.willBind();var t=function e(t,n,r,o,i){var a,c,u=r.componentMeta.getMetadata();if(null!==(a=u.configure)&&void 0!==a&&null!==(c=a.advanced)&&void 0!==c&&c.callbacks&&"function"==typeof u.configure.advanced.callbacks.onResize){t.trigger=n,t.deltaX=o,t.deltaY=i;var s=null!=r&&r.isNode?r.internalToShellNode():r;u.configure.advanced.callbacks.onResize(t,s)}},n=function e(t,n,r){var o,i,a=r.componentMeta.getMetadata();if(null!==(o=a.configure)&&void 0!==o&&null!==(i=o.advanced)&&void 0!==i&&i.callbacks&&"function"==typeof a.configure.advanced.callbacks.onResizeStart){t.trigger=n;var c=null!=r&&r.isNode?r.internalToShellNode():r;a.configure.advanced.callbacks.onResizeStart(t,c)}},r=function e(t,n,r){var o,i,c,u,s,l=r.componentMeta.getMetadata();if(null!==(o=l.configure)&&void 0!==o&&null!==(i=o.advanced)&&void 0!==i&&i.callbacks&&"function"==typeof l.configure.advanced.callbacks.onResizeEnd){t.trigger=n;var f=null!=r&&r.isNode?r.internalToShellNode():r;l.configure.advanced.callbacks.onResizeEnd(t,f)}var p=a.globalContext.get(a.Editor),d=null==r||null===(c=r.componentMeta)||void 0===c?void 0:c.npm,h=[null==d?void 0:d.package,null==d?void 0:d.componentName].filter((function(e){return!!e})).join("-")||(null==r||null===(u=r.componentMeta)||void 0===u?void 0:u.componentName)||"";null==p||p.emit("designer.border.resize",{selected:h,layout:(null==r||null===(s=r.parent)||void 0===s?void 0:s.getPropValue("layout"))||""})};this.dragEngine.onResize(t),this.dragEngine.onResizeStart(n),this.dragEngine.onResizeEnd(r)}},{key:"willBind",value:function e(){var t=this;if(this.willUnbind&&this.willUnbind(),this.outlineN||this.outlineE||this.outlineS||this.outlineW||this.outlineNE||this.outlineNW||this.outlineSE||this.outlineSW){var n=[],r=this.props.observed.node;n.push.apply(n,[this.dragEngine.from(this.outlineN,"n",(function(){return r})),this.dragEngine.from(this.outlineE,"e",(function(){return r})),this.dragEngine.from(this.outlineS,"s",(function(){return r})),this.dragEngine.from(this.outlineW,"w",(function(){return r})),this.dragEngine.from(this.outlineNE,"ne",(function(){return r})),this.dragEngine.from(this.outlineNW,"nw",(function(){return r})),this.dragEngine.from(this.outlineSE,"se",(function(){return r})),this.dragEngine.from(this.outlineSW,"sw",(function(){return r}))]),this.willUnbind=function(){n&&n.length>0&&n.forEach((function(e){e()})),t.willUnbind=function(){}}}}},{key:"render",value:function e(){var t,n,r=this,o=this.props.observed;if(!o.hasOffset)return null;var i=o.node,a=o.offsetWidth,c=o.offsetHeight,u=o.offsetTop,s=o.offsetLeft,l=[],f=i.componentMeta.getMetadata();null!==(t=f.configure)&&void 0!==t&&null!==(n=t.advanced)&&void 0!==n&&n.getResizingHandlers&&(l=f.configure.advanced.getResizingHandlers(i.internalToShellNode())),l=Object(ye.d)(l);var p="lc-borders lc-resize-side",d="lc-borders lc-resize-corner";return V.a.createElement("div",null,l.includes("N")&&V.a.createElement("div",{ref:function e(t){r.outlineN=t},className:Xe()(p,"n"),style:{height:20,transform:"translate(".concat(s,"px, ").concat(u-10,"px)"),width:a}}),l.includes("NE")&&V.a.createElement("div",{ref:function e(t){r.outlineNE=t},className:Xe()(d,"ne"),style:{transform:"translate(".concat(s+a-5,"px, ").concat(u-3,"px)"),cursor:"nesw-resize"}}),l.includes("E")&&V.a.createElement("div",{className:Xe()(p,"e"),ref:function e(t){r.outlineE=t},style:{height:c,transform:"translate(".concat(s+a-10,"px, ").concat(u,"px)"),width:20}}),l.includes("SE")&&V.a.createElement("div",{ref:function e(t){r.outlineSE=t},className:Xe()(d,"se"),style:{transform:"translate(".concat(s+a-5,"px, ").concat(u+c-5,"px)"),cursor:"nwse-resize"}}),l.includes("S")&&V.a.createElement("div",{ref:function e(t){r.outlineS=t},className:Xe()(p,"s"),style:{height:20,transform:"translate(".concat(s,"px, ").concat(u+c-10,"px)"),width:a}}),l.includes("SW")&&V.a.createElement("div",{ref:function e(t){r.outlineSW=t},className:Xe()(d,"sw"),style:{transform:"translate(".concat(s-3,"px, ").concat(u+c-5,"px)"),cursor:"nesw-resize"}}),l.includes("W")&&V.a.createElement("div",{ref:function e(t){r.outlineW=t},className:Xe()(p,"w"),style:{height:c,transform:"translate(".concat(s-10,"px, ").concat(u,"px)"),width:20}}),l.includes("NW")&&V.a.createElement("div",{ref:function e(t){r.outlineNW=t},className:Xe()(d,"nw"),style:{transform:"translate(".concat(s-3,"px, ").concat(u-3,"px)"),cursor:"nwse-resize"}}))}}]),n}(I.Component);jn=Object(i.b)([a.observer,Object(i.d)("design:paramtypes",[Object])],jn);var wn=n(171);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t,n){return t&&Sn(e.prototype,t),n&&Sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cn(e,t)}function Cn(e,t){return(Cn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Tn(e){var t=An();return function n(){var r=Rn(e),o;if(t){var i=Rn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return xn(this,o)}}function xn(e,t){if(t&&("object"===kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nn(e)}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Mn(e,t,n){var r=n.edge||null;if(!r&&!(r=e.computeRect(t)))return{};var o={edge:r,insertType:"before"};if(n.near){var i=n.near,a=i.node,c=i.pos,s=i.rect,l=i.align;return o.nearRect=s||e.computeRect(a),o.nearNode=a,"replace"===c?(o.coverRect=o.nearRect,o.insertType="cover"):!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height?(o.nearRect=o.edge,o.insertType="after",o.vertical=Object(u.isVertical)(o.nearRect)):(o.insertType=c,o.vertical=l?"V"===l:Object(u.isVertical)(o.nearRect)),o}var f=n.index;if(null==f)return o.coverRect=o.edge,o.insertType="cover",o;var p=t.children.get(f);if(!p){if(!(p=t.children.get(f>0?f-1:0)))return o.insertType="cover",o.coverRect=r,o;o.insertType="after"}return p?(o.nearRect=e.computeRect(p),(!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height)&&(o.nearRect=o.edge,o.insertType="after"),o.vertical=Object(u.isVertical)(o.nearRect),o.nearNode=p):(o.insertType="cover",o.coverRect=r),o}function Ln(e){var t=e.target,n=e.detail,r,o=e.document.simulator;if(!o)return{};if(Object(u.isLocationChildrenDetail)(n))return Mn(o,t,n);var i=o.getComponentInstances(t);if(!i)return{};var a=o.computeComponentInstanceRect(i[0],t.componentMeta.rootSelector);return a?{edge:a,insertType:"cover",coverRect:a}:{}}var Dn=function(e){Pn(n,e);var t=Tn(n);function n(){return _n(this,n),t.apply(this,arguments)}return En(n,[{key:"render",value:function e(){var t,n,r,o=this.props.host,i=null===(t=o.currentDocument)||void 0===t?void 0:t.dropLocation;if(!i)return null;if(null!==(n=i.target.componentMeta.getMetadata().configure.advanced)&&void 0!==n&&n.isAbsoluteLayoutContainer)return null;var a=o.viewport,c=a.scale,u=a.scrollX,s=a.scrollY,l=Ln(i),f=l.edge,p=l.insertType,d=l.coverRect,h=l.nearRect,v=l.vertical,y=l.nearNode;if(!f)return null;var b="lc-insertion";!1===(null===(r=i.detail)||void 0===r?void 0:r.valid)&&(b+=" invalid");var m={},g,O;if("cover"===p)b+=" cover",g=(d.left+u)*c,O=(d.top+s)*c,m.width=d.width*c,m.height=d.height*c;else{var j;if(!h)return null;if(v?(b+=" vertical",g=(("before"===p?h.left:h.right)+u)*c,O=(h.top+s)*c,m.height=h.height*c):(g=(h.left+u)*c,O=(("before"===p?h.top:h.bottom)+s)*c,m.width=h.width*c),0===O&&null!=y&&null!==(j=y.componentMeta)&&void 0!==j&&j.isTopFixed)return null}return m.transform="translate3d(".concat(g,"px, ").concat(O,"px, 0)"),React.createElement("div",{className:b,style:m})}}]),n}(I.Component);Dn=Object(i.b)([a.observer],Dn);var In=n(172),Vn=n(173);function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t,n){return t&&Un(e.prototype,t),n&&Un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jn(e,t)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function $n(e){var t=Xn();return function n(){var r=Kn(e),o;if(t){var i=Kn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Wn(this,o)}}function Wn(e,t){if(t&&("object"===Fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hn(e)}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var qn=function(e){zn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return Gn(n,[{key:"render",value:function e(){var t=this.props.host,n=t.designMode,r=t.viewport,o=r.scrollX,i=r.scrollY,c=r.scale;return"live"===n?null:V.a.createElement("div",{className:"lc-bem-tools",style:{transform:"translate(".concat(-o*c,"px,").concat(-i*c,"px)")}},!a.engineConfig.get("disableDetecting")&&V.a.createElement(ct,{key:"hovering",host:t}),V.a.createElement(Qt,{key:"selecting",host:t}),a.engineConfig.get("enableReactiveContainer")&&V.a.createElement(jt,{key:"reactive-container-border",host:t}),V.a.createElement(Dn,{key:"insertion",host:t}),V.a.createElement(gn,{key:"resizing",host:t}),t.designer.bemToolsManager.getAllBemTools().map((function(e){var n=e.item;return V.a.createElement(n,{key:e.name,host:t})})))}}]),n}(I.Component);qn=Object(i.b)([a.observer],qn);var Yn=n(174);function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t,n){return t&&er(e.prototype,t),n&&er(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rr(e,t)}function rr(e,t){return(rr=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function or(e){var t=cr();return function n(){var r=ur(e),o;if(t){var i=ur(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ir(this,o)}}function ir(e,t){if(t&&("object"===Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ar(e)}function ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var sr=function(e){nr(n,e);var t=or(n);function n(e){var r;Zn(this,n),(r=t.call(this,e)).host=void 0;var o=r.props,i=o.project,a=o.onMount;return r.host=i.simulator||new Be(i),r.host.setProps(r.props),null==a||a(r.host),r}return tr(n,[{key:"shouldComponentUpdate",value:function e(t){return this.host.setProps(t),!1}},{key:"render",value:function e(){return V.a.createElement("div",{className:"lc-simulator"},V.a.createElement(lr,{host:this.host}))}}]),n}(I.Component),lr=function(e){nr(n,e);var t=or(n);function n(){return Zn(this,n),t.apply(this,arguments)}return tr(n,[{key:"render",value:function e(){var t=this.props.host,n="lc-simulator-canvas",r=t.deviceStyle||{},o=r.canvas,i=void 0===o?{}:o,a=r.viewport,c=void 0===a?{}:a;return t.deviceClassName?n+=" ".concat(t.deviceClassName):t.device&&(n+=" lc-simulator-device-".concat(t.device)),V.a.createElement("div",{className:n,style:i},V.a.createElement("div",{ref:function e(n){return t.mountViewport(n)},className:"lc-simulator-canvas-viewport",style:c},V.a.createElement(qn,{host:t}),V.a.createElement(fr,{host:t})))}}]),n}(I.Component);lr=Object(i.b)([a.observer],lr);var fr=function(e){nr(n,e);var t=or(n);function n(){var e;Zn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={disabledEvents:!1},e.dispose=void 0,e}return tr(n,[{key:"componentDidMount",value:function e(){var t=this,n=a.globalContext.get("editor"),r=function e(n){t.setState({disabledEvents:n})};n.on("designer.builtinSimulator.disabledEvents",r),this.dispose=function(){n.removeListener("designer.builtinSimulator.disabledEvents",r)}}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.dispose)||void 0===t||t.call(this)}},{key:"render",value:function e(){var t=this.props.host,n=this.state.disabledEvents,r=t.viewport,o={transform:"scale(".concat(r.scale,")"),height:r.contentHeight,width:r.contentWidth};return n&&(o.pointerEvents="none"),V.a.createElement("div",{className:"lc-simulator-content"},V.a.createElement("iframe",{name:"SimulatorRenderer",className:"lc-simulator-content-frame",style:o,ref:function e(n){return t.mountContentFrame(n)}}))}}]),n}(I.Component);fr=Object(i.b)([a.observer],fr)},function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r=n(7),o=n.n(r),i=n(0),a=n(2),c=n(1),u=n(4),s=n(3),l=n(39),f=n(15),p=n(28),d=n(57),h=n(26),v=n(58),y=n(60),b=n(43),m=n(61),g=n(19),O=n(62),j=n(35);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var S=function(){function e(t){w(this,e),this.designer=void 0,this.toolsContainer=[],this.designer=t}return _(e,[{key:"addBemTools",value:function e(t){var n=this.toolsContainer.find((function(e){return e.name===t.name}));Object(j.a)(!n,"".concat(t.name," already exists")),this.toolsContainer.push(t)}},{key:"removeBemTools",value:function e(t){var n=this.toolsContainer.findIndex((function(e){return e.name===t}));-1!==n&&this.toolsContainer.splice(n,1)}},{key:"getAllBemTools",value:function e(){return this.toolsContainer}}]),e}(),E,P;function C(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,c,"next",e)}function c(e){C(i,r,o,a,c,"throw",e)}a(void 0)}))}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return I(e)||D(e)||L(e)||M()}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function D(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){if(Array.isArray(e))return V(e)}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var G=function(){function e(t){var n=this;F(this,e),this.dragon=new h.b(this),this.activeTracker=new v.a,this.detecting=new y.a,this.project=void 0,this.editor=void 0,this.bemToolsManager=new S(this),this.setupSelection=function(){var e,t;t&&(t(),t=void 0);var r=n.currentSelection;if(r&&0===r.selected.length&&"live"===(null===(e=n.simulatorProps)||void 0===e?void 0:e.designMode)){var o=n.currentDocument.getRoot().getChildren().children;o.length>0&&r.select(o[0].id)}n.postEvent("selection.change",r),r&&(t=r.onSelectionChange((function(){n.postEvent("selection.change",r)})))},this._dropLocation=void 0,this.oobxList=[],this.props=void 0,this._simulatorComponent=void 0,this._simulatorProps=void 0,this._suspensed=!1,this._componentMetasMap=new Map,this._lostComponentMetasMap=new Map,this.propsReducers=new Map,Object(c.makeObservable)(this);var r=t.editor,o;this.editor=r,this.setProps(t),this.project=new l.a(this,t.defaultSchema);var i="",a;this.dragon.onDragstart((function(e){var t;o=Date.now()/1e3,n.detecting.enable=!1;var r=e.dragObject;if(Object(h.e)(r)){var a,c,u,s=null===(a=r.nodes[0])||void 0===a?void 0:a.parent,l=null==s||null===(c=s.componentMeta)||void 0===c?void 0:c.npm,f;if(i=[null==l?void 0:l.package,null==l?void 0:l.componentName].filter((function(e){return!!e})).join("-")||(null==s||null===(u=s.componentMeta)||void 0===u?void 0:u.componentName)||"",1===r.nodes.length)if(r.nodes[0].parent)r.nodes[0].select();else null===(f=n.currentSelection)||void 0===f||f.clear()}else{var p;null===(p=n.currentSelection)||void 0===p||p.clear()}null!==(t=n.props)&&void 0!==t&&t.onDragstart&&n.props.onDragstart(e),n.postEvent("dragstart",e)})),this.dragon.onDrag((function(e){var t;null!==(t=n.props)&&void 0!==t&&t.onDrag&&n.props.onDrag(e),n.postEvent("drag",e)})),this.dragon.onDragend((function(e){var t,r=e.dragObject,o=e.copy,i=n._dropLocation;if(i&&Object(b.e)(i.detail)&&!1!==i.detail.valid){var a;if(Object(h.e)(r))a=Object(f.g)(i.target,R(r.nodes),i.detail.index,o);else if(Object(h.d)(r)){var c=Array.isArray(r.data)?r.data:[r.data],s;if(c.find((function(e){return!Object(u.isNodeSchema)(e)})))return;a=Object(f.g)(i.target,c,i.detail.index)}if(a){var l,p,d;i.document.selection.selectAll(a.map((function(e){return e.id}))),setTimeout((function(){return n.activeTracker.track(a[0])}),10);var v=Date.now()/1e3,y=null===(l=a[0])||void 0===l?void 0:l.parent,m=null==y||null===(p=y.componentMeta)||void 0===p?void 0:p.npm,g=[null==m?void 0:m.package,null==m?void 0:m.componentName].filter((function(e){return!!e})).join("-")||(null==y||null===(d=y.componentMeta)||void 0===d?void 0:d.componentName)||""}}null!==(t=n.props)&&void 0!==t&&t.onDragend&&n.props.onDragend(e,i),n.postEvent("dragend",e,i),n.detecting.enable=!0})),this.activeTracker.onChange((function(e){var t,n=e.node,r=e.detail;null===(t=n.document.simulator)||void 0===t||t.scrollToNode(n,r)}));var s=function e(){if(a&&(a(),a=void 0),n.postEvent("history.change",n.currentHistory),n.currentHistory){var t=n.currentHistory;a=t.onStateChange((function(){n.postEvent("history.change",t)}))}};this.project.onCurrentDocumentChange((function(){n.postEvent("current-document.change",n.currentDocument),n.postEvent("selection.change",n.currentSelection),n.postEvent("history.change",n.currentHistory),n.setupSelection(),s()})),this.postEvent("init",this),this.setupSelection(),s(),g.a.focusDesigner=this}return U(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"currentHistory",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.history}},{key:"currentSelection",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.selection}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor).emit.apply(n,["designer.".concat(t)].concat(o))}},{key:"dropLocation",get:function e(){return this._dropLocation}},{key:"createLocation",value:function e(t){var n=new b.a(t);return this._dropLocation&&this._dropLocation.document!==n.document&&this._dropLocation.document.internalSetDropLocation(null),this._dropLocation=n,this.postEvent("dropLocation.change",n),n.document.internalSetDropLocation(n),this.activeTracker.track({node:n.target,detail:n.detail}),n}},{key:"clearLocation",value:function e(){this._dropLocation&&this._dropLocation.document.internalSetDropLocation(null),this.postEvent("dropLocation.change",void 0),this._dropLocation=void 0}},{key:"createScroller",value:function e(t){return new d.b(t)}},{key:"createOffsetObserver",value:function e(t){var n=Object(m.a)(t);return this.clearOobxList(),n&&this.oobxList.push(n),n}},{key:"clearOobxList",value:function e(t){var n=this.oobxList.length;if(n>20||t)for(;n-- >0;)this.oobxList[n].isPurged()&&this.oobxList.splice(n,1)}},{key:"touchOffsetObserver",value:function e(){this.clearOobxList(!0),this.oobxList.forEach((function(e){return e.compute()}))}},{key:"createSettingEntry",value:function e(t){return new O.SettingTopEntry(this.editor,t)}},{key:"getSuitableInsertion",value:function e(t){var n=this.project.currentDocument;if(!n)return null;if(Array.isArray(t)&&Object(u.isNodeSchema)(t[0])&&this.getComponentMeta(t[0].componentName).isModal)return{target:n.rootNode};var r=n.focusNode,o,i=n.selection.getNodes().find((function(e){return r.contains(e)})),a,c;return i&&i!==r?i.componentMeta.isContainer?a=i:(a=i.parent,c=i.index+1):a=r,a&&t&&!a.componentMeta.checkNestingDown(a,t)?null:{target:a,index:c}}},{key:"setProps",value:function e(t){var n=this.props?N(N({},this.props),t):t;if(this.props){var r,o;if(n.simulatorComponent!==this.props.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps!==this.props.simulatorProps)this._simulatorProps=n.simulatorProps,(null===(r=n.simulatorProps)||void 0===r?void 0:r.designMode)!==(null===(o=this.props.simulatorProps)||void 0===o?void 0:o.designMode)&&this.setupSelection();n.suspensed!==this.props.suspensed&&null!=n.suspensed&&(this.suspensed=n.suspensed),n.componentMetadatas!==this.props.componentMetadatas&&null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas)}else n.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps&&(this._simulatorProps=n.simulatorProps),null!=n.suspensed&&(this.suspensed=n.suspensed),null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas);this.props=n}},{key:"loadIncrementalAssets",value:function(){var e=T(o.a.mark((function e(t){var n,r,i,a;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:if(n=t.components,r=t.packages,n&&this.buildComponentMetasMap(n),!r){o.next=5;break}return o.next=5,this.project.simulator.setupComponents(r);case 5:if(!n){o.next=10;break}return i=this.editor.get("assets"),a=Object(s.B)(i,t),o.next=10,this.editor.set("assets",a);case 10:this.refreshComponentMetasMap(),this.editor.emit("designer.incrementalAssetsReady");case 12:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"refreshComponentMetasMap",value:function e(){this._componentMetasMap=new Map(this._componentMetasMap)}},{key:"get",value:function e(t){var n;return null===(n=this.props)||void 0===n?void 0:n[t]}},{key:"simulatorComponent",get:function e(){return this._simulatorComponent}},{key:"simulatorProps",get:function e(){return this._simulatorProps||{}}},{key:"suspensed",get:function e(){return this._suspensed},set:function e(t){this._suspensed=t}},{key:"schema",get:function e(){return this.project.getSchema()}},{key:"setSchema",value:function e(t){this.project.load(t)}},{key:"buildComponentMetasMap",value:function e(t){var n=this;t.forEach((function(e){return n.createComponentMeta(e)}))}},{key:"createComponentMeta",value:function e(t){var n=t.componentName,r=this._componentMetasMap.get(n);return r?(r.setMetadata(t),this._componentMetasMap.set(n,r)):((r=this._lostComponentMetasMap.get(n))?(r.setMetadata(t),this._lostComponentMetasMap.delete(n)):r=new p.a(this,t),this._componentMetasMap.set(n,r)),r}},{key:"getGlobalComponentActions",value:function e(){var t;return(null===(t=this.props)||void 0===t?void 0:t.globalComponentActions)||null}},{key:"getComponentMeta",value:function e(t,n){if(this._componentMetasMap.has(t))return this._componentMetasMap.get(t);if(this._lostComponentMetasMap.has(t))return this._lostComponentMetasMap.get(t);var r=new p.a(this,N({componentName:t},n?n():null));return this._lostComponentMetasMap.set(t,r),r}},{key:"getComponentMetasMap",value:function e(){return this._componentMetasMap}},{key:"componentsMap",get:function e(){var t={},n=this;return this._componentMetasMap.forEach((function(e,n){var r=e.getMetadata();if("lowCode"===r.devMode)t[n]=r.schema;else{var o,i=null===(o=r.configure.advanced)||void 0===o?void 0:o.view;t[n]=i||e.npm}})),t}},{key:"transformProps",value:function e(t,n,r){if(Array.isArray(t))return t;var o=this.propsReducers.get(r);return o?o.reduce((function(e,t){try{return t(e,n.internalToShellNode(),{stage:r})}catch(t){return console.warn(t),e}}),t):t}},{key:"addPropsReducer",value:function e(t,n){var r=this.propsReducers.get(n);r?r.push(t):this.propsReducers.set(n,[t])}},{key:"autorun",value:function e(t,n){return Object(c.autorun)(t,n)}},{key:"purge",value:function e(){}}]),e}();Object(i.b)([c.obx.ref,Object(i.d)("design:type","function"==typeof(E=void 0!==a.ComponentType&&a.ComponentType)?E:Object)],G.prototype,"_simulatorComponent",void 0),Object(i.b)([c.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],G.prototype,"simulatorComponent",null),Object(i.b)([c.obx.ref,Object(i.d)("design:type",Object)],G.prototype,"_simulatorProps",void 0),Object(i.b)([c.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],G.prototype,"simulatorProps",null),Object(i.b)([c.obx.ref,Object(i.d)("design:type",Object)],G.prototype,"_suspensed",void 0),Object(i.b)([c.obx.ref,Object(i.d)("design:type",Object)],G.prototype,"_componentMetasMap",void 0),Object(i.b)([c.computed,Object(i.d)("design:type",Object),Object(i.d)("design:paramtypes",[])],G.prototype,"componentsMap",null)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(38);function o(e){return new r.a(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),o=n(1),i=n(4),a=n(3),c=n(8),u=n(9),s=n.n(u),l=n(40);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var h=function(){function e(t,n,r){if(f(this,e),this.parent=void 0,this.editor=void 0,this.isSameComponent=void 0,this.isMultiple=void 0,this.isSingle=void 0,this.nodes=void 0,this.componentMeta=void 0,this.designer=void 0,this.top=void 0,this.isGroup=void 0,this.type=void 0,this.id=Object(a.F)("entry"),this.emitter=new u.EventEmitter,this._name=void 0,this.extraProps={},this.parent=t,Object(o.makeObservable)(this),null==r){var i="string"==typeof n?n.slice(0,1):"";this.type="#"===i?"group":"field"}else this.type=r;this._name=n,this.isGroup="group"===this.type,this.editor=t.editor,this.nodes=t.nodes,this.componentMeta=t.componentMeta,this.isSameComponent=t.isSameComponent,this.isMultiple=t.isMultiple,this.isSingle=t.isSingle,this.designer=t.designer,this.top=t.top}return d(e,[{key:"name",get:function e(){return this._name}},{key:"path",get:function e(){var t=this.parent.path.slice();return"field"===this.type&&t.push(this.name),t}},{key:"getId",value:function e(){return this.id}},{key:"setKey",value:function e(t){if("field"===this.type){for(var n=this.path.join("."),r=this.nodes.length;r-- >0;)this.nodes[r].getProp(n,!0).key=t;this._name=t}}},{key:"getKey",value:function e(){return this._name}},{key:"remove",value:function e(){if("field"===this.type)for(var t=this.path.join("."),n=this.nodes.length;n-- >0;){var r;null===(r=this.nodes[n].getProp(t))||void 0===r||r.remove()}}},{key:"valueState",get:function e(){var t=this;return Object(o.runInAction)((function(){if("field"!==t.type){var e=t.extraProps.getValue;return e?void 0===e(t.internalToShellPropEntry(),void 0)?0:1:0}if(1===t.nodes.length)return 2;for(var n=t.path.join("."),r=t.nodes[0].getProp(n),o=t.nodes.length,i=2;--o>0;){var a=t.nodes[o].getProp(n,!1),c=r.compare(a);if(c>1)return-1;1===c&&(i=1)}return 2===i&&r.isUnset()?0:i}))}},{key:"getValue",value:function e(){var t;"field"===this.type&&(t=this.parent.getPropValue(this.name));var e=this.extraProps.getValue;try{return e?e(this.internalToShellPropEntry(),t):t}catch(e){return console.warn(e),t}}},{key:"setValue",value:function e(t,n,r,o){var i=this.getValue();"field"===this.type&&this.parent.setPropValue(this.name,t);var e=this.extraProps.setValue;if(e&&(null==o||!o.disableMutator))try{e(this.internalToShellPropEntry(),t)}catch(e){console.warn(e)}this.notifyValueChange(i,t),null!=o&&o.fromSetHotValue||this.valueChange(o)}},{key:"clearValue",value:function e(){"field"===this.type&&this.parent.clearPropValue(this.name);var t=this.extraProps.setValue;if(t)try{t(this.internalToShellPropEntry(),void 0)}catch(e){console.warn(e)}}},{key:"get",value:function e(t){var n=this.path.concat(t).join(".");return this.top.get(n)}},{key:"setPropValue",value:function e(t,n){var r=this.path.concat(t).join(".");this.top.setPropValue(r,n)}},{key:"clearPropValue",value:function e(t){var n=this.path.concat(t).join(".");this.top.clearPropValue(n)}},{key:"getPropValue",value:function e(t){return this.top.getPropValue(this.path.concat(t).join("."))}},{key:"getExtraPropValue",value:function e(t){return this.top.getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this.top.setExtraPropValue(t,n)}},{key:"getNode",value:function e(){return this.nodes[0]}},{key:"getName",value:function e(){return this.path.join(".")}},{key:"getProps",value:function e(){return this.top}},{key:"props",get:function e(){return this.top}},{key:"onValueChange",value:function e(t){var n=this;return this.emitter.on("valuechange",t),function(){n.emitter.removeListener("valuechange",t)}}},{key:"valueChange",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.emitter.emit("valuechange",t),this.parent&&Object(l.b)(this.parent)&&this.parent.valueChange(t)}},{key:"notifyValueChange",value:function e(t,n){this.editor.emit(i.GlobalEvent.Node.Prop.Change,{node:this.getNode(),prop:this,oldValue:t,newValue:n})}},{key:"getDefaultValue",value:function e(){return this.extraProps.defaultValue}},{key:"isIgnore",value:function e(){return!1}},{key:"getVariableValue",value:function e(){var t=this.getValue();return Object(i.isJSExpression)(t)?t.value:""}},{key:"setVariableValue",value:function e(t){var n=this.getValue();this.setValue({type:"JSExpression",value:t,mock:Object(i.isJSExpression)(n)?n.mock:n})}},{key:"setUseVariable",value:function e(t){if(this.isUseVariable()!==t){var n=this.getValue();this.isUseVariable()?this.setValue(n.mock):this.setValue({type:"JSExpression",value:"",mock:n})}}},{key:"isUseVariable",value:function e(){return Object(i.isJSExpression)(this.getValue())}},{key:"useVariable",get:function e(){return this.isUseVariable()}},{key:"getMockOrValue",value:function e(){var t=this.getValue();return Object(i.isJSExpression)(t)?t.mock:t}},{key:"internalToShellPropEntry",value:function e(){return c.l.create(this)}}]),e}();Object(r.b)([o.obx.ref,Object(r.d)("design:type",Object)],h.prototype,"_name",void 0),Object(r.b)([o.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],h.prototype,"path",null),Object(r.b)([o.computed,Object(r.d)("design:type",Number),Object(r.d)("design:paramtypes",[])],h.prototype,"valueState",null)},function(e,t,n){var r=n(142),o=n(143),i=[n(150)];e.exports=r.createStore(o,i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"c",(function(){return pe}));var r=n(0),o=n(2),i=n.n(o),a=n(1),c=n(128),u=n(129),s=Object(a.createIntl)({"en-US":c,"zh-CN":u}),l=s.intl,f=s.intlNode,p=s.getLocale,d=s.setLocale,h=n(7),v=n.n(h),y=n(30),b=n.n(y),m=n(5),g=n(3);function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var k=15,_=function(){function e(){O(this,e),this.indentStart=null}return w(e,[{key:"reset",value:function e(){this.indentStart=null}},{key:"getIndentParent",value:function e(t,n){if(t.target!==n.target||!Object(m.isLocationChildrenDetail)(t.detail)||!Object(m.isLocationChildrenDetail)(n.detail)||t.source!==n.source||t.detail.index!==n.detail.index||null==n.detail.index)return this.indentStart=null,null;null==this.indentStart&&(this.indentStart=t.event.globalX);var r=n.event.globalX-this.indentStart,o;if(Math.floor(Math.abs(r)/15)<1)return null;this.indentStart=n.event.globalX;var i=r<0?"left":"right",a=n.target,c=n.detail.index;return"left"===i?!a.parent||c<a.children.size||a.isSlot()?null:[a.parent,a.index+1]:0===c?null:(a=a.children.get(c-1))&&a.isContainer()?[a,a.children.size]:null}}]),e}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var C=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;S(this,e),this.timer=void 0,this.previous=void 0,this.event=void 0,this.decide=void 0,this.timeout=500,this.decide=t,this.timeout=n}return P(e,[{key:"focus",value:function e(t,n){var r=this;this.event=n,this.previous!==t&&(this.reset(),this.previous=t,this.timer=setTimeout((function(){r.previous&&r.decide(r.previous,r.event),r.reset()}),this.timeout))}},{key:"tryFocus",value:function e(t){var n;t&&Object(m.isLocationChildrenDetail)(t.detail)&&"node"===(null===(n=t.detail.focus)||void 0===n?void 0:n.type)?this.focus(t.detail.focus.node,t.event):this.reset()}},{key:"reset",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.previous=void 0}}]),e}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function L(e){var t=V();return function n(){var r=F(e),o;if(t){var i=F(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return D(this,o)}}function D(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var B=Symbol.for("backup-outline"),U=function(e){R(n,e);var t=L(n);function n(){return x(this,n),t.apply(this,arguments)}return A(n,[{key:"render",value:function e(){return React.createElement(Kn,{editor:a.globalContext.get("editor"),config:{name:B}})}}]),n}(o.PureComponent),G=n(4),z,J,$,W;function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var q=function(){function e(t,n){H(this,e),this._expanded=!1,this.designer=void 0,this.document=void 0,this._node=void 0,this.tree=void 0,this._filterResult={filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""},Object(a.makeObservable)(this),this.tree=t,this.document=n.document,this.designer=this.document.designer,this._node=n}return K(e,[{key:"id",get:function e(){return this.node.id}},{key:"expandable",get:function e(){var t;return!this.locked&&(this.hasChildren()||this.hasSlots()||null!=(null===(t=this.dropDetail)||void 0===t?void 0:t.index))}},{key:"dropDetail",get:function e(){var t=this.node.document.dropLocation;return t&&this.isResponseDropping()&&Object(m.isLocationChildrenDetail)(t.detail)?t.detail:null}},{key:"depth",get:function e(){return this.node.zLevel}},{key:"isRoot",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.tree.root===this||t&&this.tree.document.rootNode===this.node}},{key:"isResponseDropping",value:function e(){var t=this.node.document.dropLocation;return!!t&&t.target===this.node}},{key:"isFocusingNode",value:function e(){var t,n=this.node.document.dropLocation;return!!n&&(Object(m.isLocationChildrenDetail)(n.detail)&&"node"===(null===(t=n.detail.focus)||void 0===t?void 0:t.type)&&n.detail.focus.node===this.node)}},{key:"expanded",get:function e(){return this.isRoot(!0)||this.expandable&&this._expanded}},{key:"setExpanded",value:function e(t){this._expanded=t}},{key:"detecting",get:function e(){return this.designer.detecting.current===this.node}},{key:"hidden",get:function e(){var t=this.node.isConditionalVisible();return null==t?!this.node.getVisible():!t}},{key:"setHidden",value:function e(t){this.node.conditionGroup||this.node.setVisible(!t)}},{key:"locked",get:function e(){return this.node.isLocked}},{key:"setLocked",value:function e(t){this.node.lock(t)}},{key:"selected",get:function e(){var t;return this.document.selection.has(this.node.id)}},{key:"title",get:function e(){return this.node.title}},{key:"titleLabel",get:function e(){var t=this.title;return t?(t.label&&(t=t.label),"string"==typeof t?t:Object(G.isI18nData)(t)?Object(a.intl)(t):this.node.componentName):""}},{key:"setTitleLabel",value:function e(t){var n,r,o;t!==this.titleLabel&&(""===t?null===(r=this.node.getExtraProp("title",!1))||void 0===r||r.remove():null===(o=this.node.getExtraProp("title",!0))||void 0===o||o.setValue(t))}},{key:"icon",get:function e(){return this.node.componentMeta.icon}},{key:"parent",get:function e(){var t=this.node.parent;return t?this.tree.getTreeNode(t):null}},{key:"slots",get:function e(){var t=this;return this.node.slots.map((function(e){return t.tree.getTreeNode(e)}))}},{key:"children",get:function e(){var t,n=this;return(null===(t=this.node.children)||void 0===t?void 0:t.map((function(e){return n.tree.getTreeNode(e)})))||null}},{key:"isContainer",value:function e(){return this.node.isContainer()}},{key:"hasSlots",value:function e(){return this.node.hasSlots()}},{key:"hasChildren",value:function e(){var t;return!(!this.isContainer()||null===(t=this.node.children)||void 0===t||!t.notEmpty())}},{key:"select",value:function e(t){var n=this.node,r=n.document.selection;t?r.add(n.id):r.select(n.id)}},{key:"expand",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.expandable&&!this._expanded&&this.setExpanded(!0),t&&this.expandParents()}},{key:"expandParents",value:function e(){for(var t=this.node.parent;t;)this.tree.getTreeNode(t).setExpanded(!0),t=t.parent}},{key:"node",get:function e(){return this._node}},{key:"setNode",value:function e(t){this._node!==t&&(this._node=t)}},{key:"filterReult",get:function e(){return this._filterResult}},{key:"setFilterReult",value:function e(t){this._filterResult=t}}]),e}(),Y;function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],q.prototype,"dropDetail",null),Object(r.b)([a.computed,Object(r.d)("design:type",Number),Object(r.d)("design:paramtypes",[])],q.prototype,"depth",null),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],q.prototype,"_expanded",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],q.prototype,"detecting",null),Object(r.b)([a.computed,Object(r.d)("design:type",Boolean),Object(r.d)("design:paramtypes",[])],q.prototype,"hidden",null),Object(r.b)([a.computed,Object(r.d)("design:type",Boolean),Object(r.d)("design:paramtypes",[])],q.prototype,"locked",null),Object(r.b)([a.computed,Object(r.d)("design:type",Boolean),Object(r.d)("design:paramtypes",[])],q.prototype,"selected",null),Object(r.b)([a.computed,Object(r.d)("design:type","function"==typeof(J=void 0!==G.TitleContent&&G.TitleContent)?J:Object),Object(r.d)("design:paramtypes",[])],q.prototype,"title",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],q.prototype,"titleLabel",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],q.prototype,"parent",null),Object(r.b)([a.computed,Object(r.d)("design:type",Array),Object(r.d)("design:paramtypes",[])],q.prototype,"slots",null),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],q.prototype,"children",null),Object(r.b)([a.obx.ref,Object(r.d)("design:type","function"==typeof($=void 0!==m.Node&&m.Node)?$:Object)],q.prototype,"_node",void 0),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",["function"==typeof(W=void 0!==m.Node&&m.Node)?W:Object]),Object(r.d)("design:returntype",void 0)],q.prototype,"setNode",null),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],q.prototype,"_filterResult",void 0),Object(r.b)([a.action,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[Object]),Object(r.d)("design:returntype",void 0)],q.prototype,"setFilterReult",null);var te=function(){function e(t){Q(this,e),this.document=void 0,this.treeNodesMap=new Map,this.id=void 0,this.document=t,Object(a.makeObservable)(this),this.id=t.id}return ee(e,[{key:"root",get:function e(){return this.document.focusNode?this.getTreeNode(this.document.focusNode):null}},{key:"getTreeNode",value:function e(t){if(this.treeNodesMap.has(t.id)){var n=this.treeNodesMap.get(t.id);return n.setNode(t),n}var r=new q(this,t);return this.treeNodesMap.set(t.id,r),r}},{key:"getTreeNodeById",value:function e(t){return this.treeNodesMap.get(t)}}]),e}(),ne;function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=oe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function oe(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],te.prototype,"root",null);var se=function(){function e(t){var n=this,r;ae(this,e),this.designer=void 0,this.boards=new Set,this.treeMap=new Map,Object(a.makeObservable)(this),this.designer=t,t.dragon.onDragstart((function(){r=Date.now()/1e3,n.toVision()})),t.activeTracker.onChange((function(e){var t=e.node,r=e.detail,o=n.currentTree;if(o&&t.document===o.document){var i=o.getTreeNode(t);r&&Object(m.isLocationChildrenDetail)(r)?i.expand(!0):i.expandParents(),n.boards.forEach((function(e){e.scrollToNode(i,r)}))}})),t.dragon.onDragend((function(){var e,n=Date.now()/1e3,o=null==t?void 0:t.editor,i=null===(e=t.currentSelection)||void 0===e?void 0:e.getNodes();null==o||o.emit("outlinePane.drag",{selected:null==i?void 0:i.map((function(e){var t,n;if(e){var r=null==e||null===(t=e.componentMeta)||void 0===t?void 0:t.npm;return[null==r?void 0:r.package,null==r?void 0:r.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(n=e.componentMeta)||void 0===n?void 0:n.componentName)}})).join("&"),time:(n-r).toFixed(2)})})),t.editor.on("designer.document.remove",(function(e){var t=e.id;n.treeMap.delete(t)}))}return ue(e,[{key:"toVision",value:function e(){var t=this.currentTree;t&&t.document.selection.getTopNodes().forEach((function(e){t.getTreeNode(e).setExpanded(!1)}))}},{key:"addBoard",value:function e(t){this.boards.add(t)}},{key:"removeBoard",value:function e(t){this.boards.delete(t)}},{key:"hasVisibleTreeBoard",value:function e(){var t=re(this.boards),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.visible&&r.at!==B)return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"purge",value:function e(){}},{key:"currentTree",get:function e(){var t,n=null===(t=this.designer)||void 0===t?void 0:t.currentDocument;if(n){var r=n.id;if(this.treeMap.has(r))return this.treeMap.get(r);var o=new te(n);return this.treeMap.set(r,o),o}return null}}]),e}();Object(r.b)([a.obx.shallow,Object(r.d)("design:type",Object)],se.prototype,"boards",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],se.prototype,"currentTree",null);var le=new Map,fe;function pe(e){var t=le.get(e);return t||(t=new se(e),le.set(e,t)),t}function de(e,t){return me(e)||be(e,t)||ve(e,t)||he()}function he(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ve(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[],o=!0,i=!1,a,c;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){i=!0,c=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw c}}return r}}function me(e){if(Array.isArray(e))return e}function ge(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ge(i,r,o,a,c,"next",e)}function c(e){ge(i,r,o,a,c,"throw",e)}a(void 0)}))}}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _e=function(){function e(t,n){var r=this;je(this,e),this._designer=void 0,this._master=void 0,this.id=Object(g.F)("outline"),this._visible=!1,this.editor=void 0,this.at=void 0,this.indentTrack=new _,this.dwell=new C((function(e,t){var n=e.document,o=n.designer,i,a,c=!0;e.hasSlots()?(i=null,a={type:"slots"}):(i=0,c=n.checkNesting(e,t.dragObject)),o.createLocation({target:e,source:r.id,event:t,detail:{type:m.LocationDetailType.Children,index:i,focus:a,valid:c}})})),this.tryScrollAgain=null,this.sensing=!1,this._scrollTarget=void 0,this.scroller=void 0,this._sensorAvailable=!1,this._shell=null,Object(a.makeObservable)(this),this.editor=t,this.at=n;var o=!1,i=function(){var e=Oe(v.a.mark((function e(){var n;return v.a.wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(!o){i.next=2;break}return i.abrupt("return",!1);case 2:return o=!0,i.next=5,t.onceGot("designer");case 5:n=i.sent,r.setupDesigner(n);case 7:case"end":return i.stop()}}),e)})));return function t(){return e.apply(this,arguments)}}();n===B?i():(t.on("skeleton.panel.show",(function(e){e===n&&(i(),r._visible=!0)})),t.on("skeleton.panel.hide",(function(e){e===n&&(r._visible=!1)})))}return ke(e,[{key:"master",get:function e(){return this._master}},{key:"currentTree",get:function e(){var t;return null===(t=this._master)||void 0===t?void 0:t.currentTree}},{key:"visible",get:function e(){return this._visible}},{key:"fixEvent",value:function e(t){var n,r;if(t.fixed)return t;var o=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==document;return t.target&&!o||(t.target=document.elementFromPoint(t.canvasX,t.canvasY)),t.documentModel=null===(r=this._designer)||void 0===r?void 0:r.currentDocument,t.fixed=!0,t}},{key:"locate",value:function e(t){var n,r;this.sensing=!0,null===(n=this.scroller)||void 0===n||n.scrolling(t);var o=t.globalY,i=t.dragObject,a=i.nodes,c=null===(r=this._master)||void 0===r?void 0:r.currentTree;if(!c||!c.root||!this._shell)return null;var u=null==a?void 0:a.filter((function(e){var t,n,r,o,i=null===(t=e.componentMeta)||void 0===t||null===(n=t.getMetadata().configure)||void 0===n||null===(r=n.advanced)||void 0===r||null===(o=r.callbacks)||void 0===o?void 0:o.onMoveHook,a;return!i||"function"!=typeof i||i(e)}));if(!Object(m.isDragNodeObject)(i)||u&&0!==u.length){var s=c.document,l=s.designer,f=Ee(t,this._shell),p=this.getInsertionRect(),d=s.dropLocation,h=t.dragObject.nodes?t.dragObject.nodes[0].componentMeta:null;if("node"===t.dragObject.type&&h&&h.isModal)return l.createLocation({target:s.focusNode,detail:{type:m.LocationDetailType.Children,index:0,valid:!0},source:this.id,event:t});if(!d||!(f&&"unchanged"===f||p&&o>=p.top&&o<=p.bottom)){if(this.indentTrack.reset(),f&&"unchanged"!==f){var v=c.getTreeNodeById(f.nodeId);if(v){var y=f.focusSlots,b,g=v.node;if(Object(m.isDragNodeObject)(i)){for(var O=u,j=O.length,w=g;j-- >0;)Object(m.contains)(O[j],w)&&(w=O[j].parent);w!==g&&(g=w||s.focusNode,v=c.getTreeNode(g),y=!1)}if(y)return this.dwell.reset(),l.createLocation({target:g,source:this.id,event:t,detail:{type:m.LocationDetailType.Children,index:null,valid:!1,focus:{type:"slots"}}});if(!v.isRoot()){var k=this.getNear(v,t);return this.dwell.tryFocus(k),k}}}var _=this.drillLocate(c.root,t);return this.dwell.tryFocus(_),_}var S=d.clone(t),E=this.indentTrack.getIndentParent(d,S);if(E){var P=de(E,2),C=P[0],T=P[1];if(Se(C,i)){if(c.getTreeNode(C).expanded)return this.dwell.reset(),l.createLocation({target:C,source:this.id,event:t,detail:{type:m.LocationDetailType.Children,index:T,valid:s.checkNesting(C,t.dragObject)}});d.detail.focus={type:"node",node:C},this.dwell.focus(C,t)}else this.dwell.reset()}else d.detail.near&&(d.detail.near=void 0,this.dwell.reset())}}},{key:"getNear",value:function e(t,n,r,o){var i=t.tree.document,a=i.designer,c=n.globalY,u=n.dragObject,s=t.node,l=t.expanded,f;if(!o&&!(o=this.getTreeNodeRect(t)))return null;if(null==r&&(r=s.index),s.isSlot()){if(!t.isContainer()&&!t.hasSlots())return a.createLocation({target:s.parent,source:this.id,event:n,detail:{type:m.LocationDetailType.Children,index:null,near:{node:s,pos:"replace"},valid:!0}});var p=this.drillLocate(t,n);return p||a.createLocation({target:s.parent,source:this.id,event:n,detail:{type:m.LocationDetailType.Children,index:null,valid:!1,focus:{type:"slots"}}})}l||!t.isContainer()&&!t.hasSlots()||(f=s);var d=this.getTreeTitleRect(t)||o;if(c<d.top+d.height/2)return a.createLocation({target:s.parent,source:this.id,event:n,detail:{type:m.LocationDetailType.Children,index:r,valid:i.checkNesting(s.parent,u),near:{node:s,pos:"before"},focus:Se(f,u)?{type:"node",node:f}:void 0}});if(c>d.bottom&&(f=void 0),l){var h=this.drillLocate(t,n);if(h)return h}return a.createLocation({target:s.parent,source:this.id,event:n,detail:{type:m.LocationDetailType.Children,index:r+1,valid:i.checkNesting(s.parent,u),near:{node:s,pos:"after"},focus:Se(f,u)?{type:"node",node:f}:void 0}})}},{key:"drillLocate",value:function e(t,n){var r=t.tree.document,o=r.designer,i=n.dragObject,a=n.globalY;if(!Se(t.node,i))return null;if(Object(m.isDragAnyObject)(i))return null;var c=t.node,u={type:m.LocationDetailType.Children},s={target:c,detail:u,source:this.id,event:n},l=t.hasSlots(),f=t.isContainer();c.isSlot()&&!t.expanded&&(l?(u.index=null,u.focus={type:"slots"},u.valid=!1):(u.index=0,u.valid=r.checkNesting(c,i)));var p=null,d,h=!1;if(l&&(d=this.getTreeSlotsRect(t)))if(a<=d.bottom)h=!0,p=t.slots;else if(!f)return u.index=null,u.focus={type:"slots"},u.valid=!1,o.createLocation(s);if(!p&&f&&(p=t.children),!p)return null;for(var v=p.length,y=0,b=v<1,g,O=y;y<v;y++){g=p[y],O=y;var j=this.getTreeNodeRect(g);if(j){if(a<j.top){b=!0;break}if(!(a>j.bottom)){var w=this.getNear(g,n,y,j);if(w)return w}}}return h?(u.focus={type:"slots"},u.valid=!1,u.index=null):(g?(u.index=b?O:O+1,u.near={node:g.node,pos:b?"before":"after"}):u.index=v,u.valid=r.checkNesting(c,i)),o.createLocation(s)}},{key:"isEnter",value:function e(t){if(!this._shell)return!1;var n=this._shell.getBoundingClientRect();return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"scrollToNode",value:function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i;if(o<1&&this.tryScrollAgain&&(Object(y.cancelIdleCallback)(this.tryScrollAgain),this.tryScrollAgain=null),!this.sensing&&this.bounds&&this.scroller&&this.scrollTarget)if(i=n&&Object(m.isLocationChildrenDetail)(n)?this.getInsertionRect():this.getTreeNodeRect(t)){var a=this.scrollTarget,c=a.scrollHeight,u=a.top,s=this.bounds,l=s.height,f=s.top,p=s.bottom;if(i.top<f||i.bottom>p){var d={};d.top=Math.min(i.top+i.height/2+u-f-l/2,c-l),i.height>=l&&(d.top=Math.min(u+i.top-f,d.top)),this.scroller.scrollTo(d)}o<4&&(this.tryScrollAgain=b()((function(){return r.scrollToNode(t,n,4)})))}else o<3&&(this.tryScrollAgain=b()((function(){return r.scrollToNode(t,n,o+1)})))}},{key:"deactiveSensor",value:function e(){var t;this.sensing=!1,null===(t=this.scroller)||void 0===t||t.cancel(),this.dwell.reset(),this.indentTrack.reset()}},{key:"bounds",get:function e(){return this._shell?this._shell.getBoundingClientRect():null}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"setupDesigner",value:function e(t){this._designer=t,this._master=pe(t),this._master.addBoard(this),t.dragon.addSensor(this),this.scroller=t.createScroller(this)}},{key:"purge",value:function e(){var t,n;null===(t=this._designer)||void 0===t||t.dragon.removeSensor(this),null===(n=this._master)||void 0===n||n.removeBoard(this)}},{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"mount",value:function e(t){this._shell!==t&&(this._shell=t,t?(this._scrollTarget=new m.ScrollTarget(t),this._sensorAvailable=!0):(this._scrollTarget=void 0,this._sensorAvailable=!1))}},{key:"getInsertionRect",value:function e(){var t;if(this._shell)return null===(t=this._shell.querySelector(".insertion"))||void 0===t?void 0:t.getBoundingClientRect()}},{key:"getTreeNodeRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeTitleRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-title[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeSlotsRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-slots[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}}]),e}();function Se(e,t){if(!e)return!1;var n;if(Object(m.isDragNodeObject)(t)&&t.nodes.some((function(t){return t.contains(e)})))return!1;return!0}function Ee(e,t){var n=e.target;if(!n||!t.contains(n))return null;if(n.matches(".insertion"))return"unchanged";if(!(n=n.closest("[data-id]"))||!t.contains(n))return null;var r=n.dataset.id;return{focusSlots:n.matches(".tree-node-slots"),nodeId:r}}Object(r.b)([a.obx.ref,Object(r.d)("design:type","function"==typeof(fe=void 0!==se&&se)?fe:Object)],_e.prototype,"_master",void 0),Object(r.b)([a.computed,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],_e.prototype,"currentTree",null),Object(r.b)([a.obx.ref,Object(r.d)("design:type",Object)],_e.prototype,"_visible",void 0);var Pe=n(6),Ce=n.n(Pe);function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xe(e){return React.createElement(g.e,Te({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ae(e){return React.createElement(g.e,Ne({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.7 700.9c-102.1 0-184.9-82.8-184.9-184.9 0-28.6 6.5-55.6 18-79.7l-93.7-93.7C138.9 418.1 65.2 514 65.2 514s200.4 260.7 447.6 260.7c50.2 0 98.6-10.8 143.6-27.9l-63.9-63.9c-24.2 11.5-51.2 18-79.8 18z"}),React.createElement("path",{d:"M960.3 514S759.9 253.3 512.7 253.3c-49.5 0-97.2 10.5-141.7 27.2L243.5 153.1l-45.3 45.3 262.3 262.2c-13.1 13.3-21.2 31.5-21.2 51.6 0 40.6 32.9 73.4 73.4 73.4 20.1 0 38.4-8.1 51.6-21.2l260.9 260.8 45.3-45.3-95.6-95.6C887.2 609.1 960.3 514 960.3 514z m-376.7-20.9c-6.8-25.2-26.6-45.1-51.9-51.9L437.5 347c23-10.3 48.5-16 75.3-16 102.1 0 184.9 82.8 184.9 184.9 0 26.8-5.7 52.2-15.9 75.2l-98.2-98z"}))}function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e){return React.createElement(g.e,Re({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 256c-163.8 0-291.4 97.6-448 256 134.8 135.4 248 256 448 256 199.8 0 346.8-152.8 448-253.2C856.4 397.2 709.6 256 512 256z m0 438.6c-98.8 0-179.2-82-179.2-182.6 0-100.8 80.4-182.6 179.2-182.6s179.2 82 179.2 182.6c0 100.8-80.4 182.6-179.2 182.6z"}),React.createElement("path",{d:"M512 448c0-15.8 5.8-30.2 15.2-41.4-5-0.8-10-1.2-15.2-1.2-57.6 0-104.6 47.8-104.6 106.6s47 106.6 104.6 106.6 104.6-47.8 104.6-106.6c0-4.6-0.4-9.2-0.8-13.8-11 8.6-24.6 13.8-39.6 13.8-35.6 0-64.2-28.6-64.2-64z"}))}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e){return React.createElement(g.e,Le({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M479.552 276.544l296.896 2.752v75.712L960 249.024l-183.552-106.048v92.48h-271.36l-46.656-2.752-190.784 203.648 30.976 30.976 180.928-190.784z m296.896 484.928l-253.056-2.816-262.976-263.04H64v43.904h175.296l262.912 262.976 274.176 2.816v75.712L960 774.976l-183.616-105.984 0.064 92.48z"}))}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ve(e){return React.createElement(g.e,Ie({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M60.235294 542.117647c0 132.879059 103.062588 240.941176 229.677176 240.941176l0 60.235294c-159.864471 0-289.912471-135.107765-289.912471-301.176471s130.048-301.176471 289.912471-301.176471l254.735059 0-99.147294-99.147294 42.586353-42.586353 171.911529 171.851294-171.851294 171.911529-42.646588-42.646588 99.207529-99.147294-254.795294 0c-126.614588 0-229.677176 108.062118-229.677176 240.941176zM734.087529 240.941176l0 60.235294c126.614588 0 229.677176 108.062118 229.677176 240.941176s-103.062588 240.941176-229.677176 240.941176l-254.795294 0 99.147294-99.147294-42.586353-42.586353-171.851294 171.851294 171.911529 171.911529 42.586353-42.586353-99.207529-99.207529 254.735059 0c159.924706 0 289.972706-135.107765 289.972706-301.176471s-130.048-301.176471-289.912471-301.176471z"}))}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e){return React.createElement(g.e,Fe({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-256a256 256 0 1 0 0-512 256 256 0 0 0 0 512z"}))}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e){return React.createElement(g.e,Ue({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-64A448 448 0 1 0 512 64a448 448 0 0 0 0 896z"}))}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Je(e){return React.createElement(g.e,ze({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53c-12.1-8.7-20-22.9-20-39 0-26.5 21.5-48 48-48s48 21.5 48 48c0 16.1-7.9 30.3-20 39z m152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}))}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function We(e){return React.createElement(g.e,$e({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32z m-40 376H232V536h560v304z"}),React.createElement("path",{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53c12.1-8.7 20-22.9 20-39 0-26.5-21.5-48-48-48s-48 21.5-48 48c0 16.1 7.9 30.3 20 39z"}))}function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return t&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Ze(e){var t=nt();return function n(){var r=rt(e),o;if(t){var i=rt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return et(this,o)}}function et(e,t){if(t&&("object"===He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tt(e)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t,n){var r,o,i=a.globalContext.get(a.Editor),c=null==t?void 0:t.node,u=null==c||null===(r=c.componentMeta)||void 0===r?void 0:r.npm,s=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==c||null===(o=c.componentMeta)||void 0===o?void 0:o.componentName)||"";null==i||i.emit("outlinePane.".concat(e),it({selected:s},n))}xe.displayName="IconArrowRight",Ae.displayName="IconEyeClose",Me.displayName="IconEye",De.displayName="IconCond",Ve.displayName="IconLoop",Be.displayName="IconRadioActive",Ge.displayName="IconRadio",Je.displayName="IconLock",We.displayName="IconUnlock";var ut=function(e){Ye(n,e);var t=Ze(n);function n(){var e;Xe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1},e.enableEdit=function(){e.setState({editing:!0})},e.saveEdit=function(t){var n=e.props.treeNode,r=t.target.value||"";n.setTitleLabel(r),ct("rename",n,{value:r}),e.cancelEdit()},e.handleKeyUp=function(t){13===t.keyCode&&e.saveEdit(t),27===t.keyCode&&e.cancelEdit()},e.lastInput=void 0,e.setCaret=function(t){t&&e.lastInput!==t&&(t.focus(),t.select())},e}return qe(n,[{key:"cancelEdit",value:function e(){this.setState({editing:!1}),this.lastInput=void 0}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,i=this.state.editing,c=!n.isRoot(),u=n.node,s=u.isParental(),l=u.isContainer(),p;if(c){var d,h=12*n.depth;p={paddingLeft:h+(r?12:0),marginLeft:-h}}var v=n.filterReult,y=v.filterWorking,b=v.matchSelf,m=v.keywords;return React.createElement("div",{className:Ce()("tree-node-title",{editing:i}),style:p,"data-id":n.id,onClick:function e(){r?u.getVisible()?u.document.modalNodesManager.setInvisible(u):u.document.modalNodesManager.setVisible(u):u.conditionGroup&&u.setConditionalVisible()}},r&&u.getVisible()&&React.createElement("div",{onClick:function e(){u.document.modalNodesManager.setInvisible(u)}},React.createElement(Be,{className:"tree-node-modal-radio-active"})),r&&!u.getVisible()&&React.createElement("div",{onClick:function e(){u.document.modalNodesManager.setVisible(u)}},React.createElement(Ge,{className:"tree-node-modal-radio"})),c&&React.createElement(pt,{treeNode:n}),React.createElement("div",{className:"tree-node-icon"},Object(g.m)(n.icon)),React.createElement("div",{className:"tree-node-title-label",onDoubleClick:s?this.enableEdit:void 0},i?React.createElement("input",{className:"tree-node-title-input",defaultValue:n.titleLabel,onBlur:this.saveEdit,ref:this.setCaret,onKeyUp:this.handleKeyUp}):React.createElement(o.Fragment,null,React.createElement(a.Title,{title:n.title,match:y&&b,keywords:m}),u.slotFor&&React.createElement("a",{className:"tree-node-tag slot"},React.createElement(a.Tip,null,f("Slot for {prop}",{prop:u.slotFor.key}))),u.hasLoop()&&React.createElement("a",{className:"tree-node-tag loop"},React.createElement(Ve,null),React.createElement(a.Tip,null,f("Loop"))),u.hasCondition()&&!u.conditionGroup&&React.createElement("a",{className:"tree-node-tag cond"},React.createElement(De,null),React.createElement(a.Tip,null,f("Conditional"))))),c&&s&&!r&&React.createElement(ft,{treeNode:n}),a.engineConfig.get("enableCanvasLock",!1)&&l&&c&&s&&React.createElement(lt,{treeNode:n}))}}]),n}(o.Component),st=ut=Object(r.b)([a.observer],ut),lt=function(e){Ye(n,e);var t=Ze(n);function n(){return Xe(this,n),t.apply(this,arguments)}return qe(n,[{key:"render",value:function e(){var t=this.props.treeNode;return React.createElement("div",{className:"tree-node-lock-btn",onClick:function e(n){n.stopPropagation(),t.setLocked(!t.locked)}},t.locked?React.createElement(We,null):React.createElement(Je,null),React.createElement(a.Tip,null,t.locked?l("Unlock"):l("Lock")))}}]),n}(o.Component);lt=Object(r.b)([a.observer],lt);var ft=function(e){Ye(n,e);var t=Ze(n);function n(){return Xe(this,n),t.apply(this,arguments)}return qe(n,[{key:"render",value:function e(){var t=this.props.treeNode;return React.createElement("div",{className:"tree-node-hide-btn",onClick:function e(n){n.stopPropagation(),ct(t.hidden?"show":"hide",t),t.setHidden(!t.hidden)}},t.hidden?React.createElement(Me,null):React.createElement(Ae,null),React.createElement(a.Tip,null,t.hidden?l("Show"):l("Hide")))}}]),n}(o.Component);ft=Object(r.b)([a.observer],ft);var pt=function(e){Ye(n,e);var t=Ze(n);function n(){return Xe(this,n),t.apply(this,arguments)}return qe(n,[{key:"render",value:function e(){var t=this.props.treeNode;return t.expandable?React.createElement("div",{className:"tree-node-expand-btn",onClick:function e(n){t.expanded&&n.stopPropagation(),ct(t.expanded?"collapse":"expand",t),t.setExpanded(!t.expanded)}},React.createElement(xe,{size:"small"})):React.createElement("i",{className:"tree-node-expand-placeholder"})}}]),n}(o.Component);function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t,n){return t&&vt(e.prototype,t),n&&vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}function mt(e,t){return(mt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function gt(e){var t=wt();return function n(){var r=kt(e),o;if(t){var i=kt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ot(this,o)}}function Ot(e,t){if(t&&("object"===dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jt(e)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}pt=Object(r.b)([a.observer],pt);var _t=function(e){bt(n,e);var t=gt(n);function n(){return ht(this,n),t.apply(this,arguments)}return yt(n,[{key:"render",value:function e(){var t,n=this.props,r=n.treeNode,o=n.isModal,i=Ce()("tree-node",{expanded:r.expanded,detecting:r.detecting,selected:r.selected,hidden:r.hidden,locked:r.locked,dropping:null!=(null===(t=r.dropDetail)||void 0===t?void 0:t.index),"is-root":r.isRoot(),"condition-flow":null!=r.node.conditionGroup,highlight:r.isFocusingNode()}),a=r.filterReult,c=a.filterWorking,u=a.matchChild,s=a.matchSelf;return!c||u||s?React.createElement("div",{className:i,"data-id":r.id},React.createElement(st,{treeNode:r,isModal:o}),React.createElement(Vt,{treeNode:r,isModal:!1})):null}}]),n}(o.Component),St=_t=Object(r.b)([a.observer],_t);function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t,n){return t&&Ct(e.prototype,t),n&&Ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function At(e){var t=Lt();return function n(){var r=Dt(e),o;if(t){var i=Dt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Rt(this,o)}}function Rt(e,t){if(t&&("object"===Et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mt(e)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var It=function(e){xt(n,e);var t=At(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Tt(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=n.expanded,i=n.filterReult,a=i.filterWorking,c=i.matchChild,u;return a&&c||o?React.createElement("div",{className:"tree-node-branches"},!r&&React.createElement(Bt,{treeNode:n}),React.createElement(Ft,{treeNode:n,isModal:r||!1})):null}}]),n}(o.Component),Vt=It=Object(r.b)([a.observer],It),Ft=function(e){xt(n,e);var t=At(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Tt(n,[{key:"render",value:function e(){var t,n,r=this.props,o=r.treeNode,i=r.isModal,c=[],u=[],s,l=o.filterReult,f=l.filterWorking,p=l.matchSelf,d=l.keywords,h=function e(){u.length>0&&(c.push(React.createElement("div",{key:s.id,className:"condition-group-container","data-id":s.firstNode.id},React.createElement("div",{className:"condition-group-title"},React.createElement(a.Title,{title:s.title,match:f&&p,keywords:d})),u)),u=[])},v=o.dropDetail,y=null==v?void 0:v.index,b=React.createElement("div",{key:"insertion",className:Ce()("insertion",{invalid:!1===(null==v?void 0:v.valid)})});null===(t=o.children)||void 0===t||t.forEach((function(e,t){var n=e.node.componentMeta.isModal||!1;if(i==n){var r=e.node.conditionGroup;r!==s&&h(),r?(s=r,t===y&&(u.length>0?u.push(b):c.push(b)),u.push(React.createElement(St,{key:e.id,treeNode:e,isModal:i}))):(t===y&&c.push(b),c.push(React.createElement(St,{key:e.id,treeNode:e,isModal:i})))}})),h();var m=(null===(n=o.children)||void 0===n?void 0:n.length)||0;return null!=y&&y>=m&&c.push(b),React.createElement("div",{className:"tree-node-children"},c)}}]),n}(o.Component);Ft=Object(r.b)([a.observer],Ft);var Bt=function(e){xt(n,e);var t=At(n);function n(){return Pt(this,n),t.apply(this,arguments)}return Tt(n,[{key:"render",value:function e(){var t,n,r=this.props.treeNode;return r.hasSlots()?React.createElement("div",{className:Ce()("tree-node-slots",{"insertion-at-slots":"slots"===(null===(t=r.dropDetail)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.type)}),"data-id":r.id},React.createElement("div",{className:"tree-node-slots-title"},React.createElement(a.Title,{title:{type:"i18n",intl:f("Slots")}})),r.slots.map((function(e){return React.createElement(St,{key:e.id,treeNode:e})}))):null}}]),n}(o.Component);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wt(e,t)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Ht(e){var t=qt();return function n(){var r=Yt(e),o;if(t){var i=Yt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Xt(this,o)}}function Xt(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kt(e)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Bt=Object(r.b)([a.observer],Bt);var Qt=function(e){$t(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this,e)).modalNodesManager=void 0,r.modalNodesManager=e.treeNode.document.modalNodesManager,r}return Jt(n,[{key:"hideAllNodes",value:function e(){this.modalNodesManager.hideModalNodes()}},{key:"render",value:function e(){var t,n=this.props.treeNode,r=n.tree.getTreeNode(n.document.rootNode),o=null===(t=r.children)||void 0===t?void 0:t.filter((function(e){return e.node.componentMeta.isModal}));if(!o||0===o.length)return null;var i=!!this.modalNodesManager.getVisibleModalNode();return React.createElement("div",{className:"tree-node-modal"},React.createElement("div",{className:"tree-node-modal-title"},React.createElement("span",null,"\u6a21\u6001\u89c6\u56fe\u5c42"),React.createElement("div",{className:"tree-node-modal-title-visible-icon",onClick:this.hideAllNodes.bind(this)},i?React.createElement(Ae,null):null)),React.createElement("div",{className:"tree-pane-modal-content"},React.createElement(Vt,{treeNode:r,isModal:!0})))}}]),n}(o.Component);Qt=Object(r.b)([a.observer,Object(r.d)("design:paramtypes",[Object])],Qt);var Zt=function(e){$t(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"render",value:function e(){var t,n=this.props.treeNode,r=Ce()("tree-node",{expanded:n.expanded,detecting:n.detecting,selected:n.selected,hidden:n.hidden,locked:n.locked,dropping:null!=(null===(t=n.dropDetail)||void 0===t?void 0:t.index),"is-root":n.isRoot(),"condition-flow":null!=n.node.conditionGroup,highlight:n.isFocusingNode()});return React.createElement("div",{className:r,"data-id":n.id},React.createElement(st,{treeNode:n}),React.createElement(Qt,{treeNode:n}),React.createElement(Vt,{treeNode:n}))}}]),n}(o.Component),en=Zt=Object(r.b)([a.observer],Zt);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t,n){return t&&rn(e.prototype,t),n&&rn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function an(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}function cn(e,t){return(cn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function un(e){var t=fn();return function n(){var r=pn(e),o;if(t){var i=pn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return sn(this,o)}}function sn(e,t){if(t&&("object"===tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function dn(e,t){var n=e.target;return n&&t.contains(n)&&(n=n.closest("[data-id]"))&&t.contains(n)&&n.dataset.id||null}var hn=function(e){an(n,e);var t=un(n);function n(){var e;nn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=null,e.onClick=function(t){if(e.ignoreUpSelected)e.boostEvent=void 0;else if(e.boostEvent&&Object(m.isShaken)(e.boostEvent,t.nativeEvent))e.boostEvent=void 0;else{e.boostEvent=void 0;var n=e.getTreeNodeFromEvent(t);if(n){var r=n.node;if(Object(g.h)(r,t)){var o=n.designer,i=r.document,c=i.selection,u=i.focusNode,s=r.id,l=t.metaKey||t.ctrlKey||t.shiftKey;if(o.activeTracker.track(r),l&&!r.contains(u)&&c.has(s))Object(g.x)(t.nativeEvent)||c.remove(s);else{var f,p,d,h;c.select(s);var v=a.globalContext.get(a.Editor),y=null===(f=o.currentSelection)||void 0===f||null===(p=f.getNodes())||void 0===p?void 0:p[0],b=null==y||null===(d=y.componentMeta)||void 0===d?void 0:d.npm,O=[null==b?void 0:b.package,null==b?void 0:b.componentName].filter((function(e){return!!e})).join("-")||(null==y||null===(h=y.componentMeta)||void 0===h?void 0:h.componentName)||"";null==v||v.emit("outlinePane.select",{selected:O})}}}}},e.onMouseOver=function(t){e.hover(t)},e.ignoreUpSelected=!1,e.boostEvent=void 0,e.onMouseDown=function(t){if(!Object(g.x)(t.nativeEvent)){var n=e.getTreeNodeFromEvent(t);if(n){var r=n.node;if(Object(g.h)(r,t)){var o=n.designer,i=r.document,a=i.selection,c=i.focusNode,u=t.metaKey||t.ctrlKey||t.shiftKey,s;if(0===t.button&&!r.contains(c)){var l=[r];e.ignoreUpSelected=!1,u?(a.has(r.id)||(o.activeTracker.track(r),a.add(r.id),e.ignoreUpSelected=!0),a.remove(c.id),l=a.getTopNodes()):a.has(r.id)&&(l=a.getTopNodes()),e.boostEvent=t.nativeEvent,o.dragon.boost({type:m.DragObjectType.Node,nodes:l},e.boostEvent)}}}}},e.onMouseLeave=function(){var t,n=e.props.tree.document;n.designer.detecting.leave(n)},e}return on(n,[{key:"hover",value:function e(t){var n,r,o,i=this.props.tree.document.designer.detecting;if(i.enable){var a=null===(n=this.getTreeNodeFromEvent(t))||void 0===n?void 0:n.node;i.capture(a||null)}}},{key:"getTreeNodeFromEvent",value:function e(t){if(this.shell){var n=dn(t,this.shell),r;if(n)return this.props.tree.getTreeNodeById(n)}}},{key:"render",value:function e(){var t=this,n,r=this.props.tree.root;return r?React.createElement("div",{className:"lc-outline-tree",ref:function e(n){t.shell=n},onMouseDownCapture:this.onMouseDown,onMouseOver:this.onMouseOver,onClick:this.onClick,onMouseLeave:this.onMouseLeave},React.createElement(en,{key:r.id,treeNode:r})):null}}]),n}(o.Component),vn=hn=Object(r.b)([a.observer],hn),yn=n(113);function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mn(e){return React.createElement(g.e,bn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M911.457097 168.557714a35.986286 35.986286 0 0 1-8.009143 40.009143L621.73824 490.276571V914.285714c0 14.848-9.142857 28.013714-22.272 33.718857A42.349714 42.349714 0 0 1 585.166811 950.857143a34.084571 34.084571 0 0 1-25.709714-10.861714l-146.285714-146.285715A36.425143 36.425143 0 0 1 402.309669 768v-277.723429L120.599954 208.566857a35.986286 35.986286 0 0 1-8.009143-40.009143C118.295954 155.428571 131.461669 146.285714 146.309669 146.285714h731.428571c14.848 0 28.013714 9.142857 33.718857 22.272z",fill:"#666","p-id":"2025"}))}mn.displayName="IconFilter";var gn=n(11),On="CONDITION",jn="LOOP",wn="LOCKED",kn="HIDDEN",_n=[{value:On,label:"\u6761\u4ef6\u6e32\u67d3"},{value:jn,label:"\u5faa\u73af\u6e32\u67d3"},{value:wn,label:"\u5df2\u9501\u5b9a"},{value:kn,label:"\u5df2\u9690\u85cf"}],Sn=function e(t,n,r){if(!t||!t.node)return!1;if(!n&&0===r.length)return t.setFilterReult({filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""}),(t.children||[]).concat(t.slots||[]).forEach((function(t){e(t,n,r)})),!1;var o=t.node,i=0===r.length||!!r.find((function(e){switch(e){case On:return o.hasCondition();case jn:return o.hasLoop();case wn:return t.locked;case kn:return t.hidden;default:return!1}})),a="string"==typeof t.titleLabel&&t.titleLabel.indexOf(n)>-1,c=t.isRoot()||i&&a,u=!!(t.children||[]).concat(t.slots||[]).map((function(t){return e(t,n,r)})).find(Boolean);return t.setFilterReult({filterWorking:!0,matchChild:u,matchSelf:c,keywords:n}),c||u};function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t,n){return t&&Cn(e.prototype,t),n&&Cn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nn(e,t)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function An(e){var t=Ln();return function n(){var r=Dn(e),o;if(t){var i=Dn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Rn(this,o)}}function Rn(e,t){if(t&&("object"===En(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mn(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ln(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var In=function(e){xn(n,e);var t=An(n);function n(){var e;Pn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={keywords:"",filterOps:[]},e.handleSearchChange=function(t){e.setState({keywords:t.trim()},e.filterTree)},e.handleOptionChange=function(t){e.setState({filterOps:t},e.filterTree)},e.handleCheckAll=function(){var t,n=e.state.filterOps.length===_n.length?[]:_n.map((function(e){return e.value}));e.handleOptionChange(n)},e}return Tn(n,[{key:"filterTree",value:function e(){var t=this.props.tree,n=this.state,r=n.keywords,o=n.filterOps;Sn(t.root,r,o)}},{key:"render",value:function e(){var t=this.state,n=t.keywords,r=t.filterOps,o=r.length>0&&r.length<_n.length,a=r.length===_n.length;return i.a.createElement("div",{className:"lc-outline-filter"},i.a.createElement(gn.Search,{hasClear:!0,shape:"simple",placeholder:"\u8fc7\u6ee4\u8282\u70b9",className:"lc-outline-filter-search-input",value:n,onChange:this.handleSearchChange}),i.a.createElement(gn.Balloon,{v2:!0,align:"br",closable:!1,triggerType:"hover",trigger:i.a.createElement("div",{className:"lc-outline-filter-icon"},i.a.createElement(mn,null))},i.a.createElement(gn.Checkbox,{checked:a,indeterminate:o,onChange:this.handleCheckAll},"\u5168\u9009"),i.a.createElement(gn.Divider,null),i.a.createElement(gn.Checkbox.Group,{value:r,direction:"ver",onChange:this.handleOptionChange},_n.map((function(e){return i.a.createElement(gn.Checkbox,{id:e.value,value:e.value,key:e.value},e.label)})))))}}]),n}(o.Component);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t,n){return t&&Bn(e.prototype,t),n&&Bn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zn(e,t)}function zn(e,t){return(zn=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Jn(e){var t=Hn();return function n(){var r=Xn(e),o;if(t){var i=Xn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return $n(this,o)}}function $n(e,t){if(t&&("object"===Vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wn(e)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Kn=function(e){Gn(n,e);var t=Jn(n);function n(){var e;Fn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).main=new _e(a.globalContext.get("editor"),e.props.config.name||e.props.config.pluginKey),e}return Un(n,[{key:"componentWillUnmount",value:function e(){this.main.purge()}},{key:"render",value:function e(){var t=this,n=this.main.currentTree;return n?i.a.createElement("div",{className:"lc-outline-pane"},i.a.createElement(In,{tree:n}),i.a.createElement("div",{ref:function e(n){return t.main.mount(n)},className:"lc-outline-tree-container"},i.a.createElement(vn,{key:n.id,tree:n}))):i.a.createElement("div",{className:"lc-outline-pane"},i.a.createElement("p",{className:"lc-outline-notice"},l("Initializing")))}}]),n}(o.Component);function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yn(e){return React.createElement(g.e,qn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M128 96h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V160a64 64 0 0 1 64-64z m32 64a32 32 0 1 0 0 64h448a32 32 0 0 0 0-64H160z m224 576h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z m-32-384h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z"}))}Kn=Object(r.b)([a.observer],Kn),Yn.displayName="IconOutline";var Qn=t.b={name:"outline-pane",props:{icon:Yn,description:f("Outline Tree")},content:Kn}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=e.exports={},r,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s=[],l=!1,f,p=-1;function d(){l&&f&&(l=!1,f.length?s=f.concat(s):p=-1,s.length&&h())}function h(){if(!l){var e=c(d);l=!0;for(var t=s.length;t;){for(f=s,s=[];++p<t;)f&&f[p].run();p=-1,t=s.length}f=null,l=!1,u(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||l||c(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t){const n=["includePrerelease","loose","rtl"],r=e=>e?"object"!=typeof e?{loose:!0}:n.filter(t=>e[t]).reduce((e,t)=>(e[t]=!0,e),{}):{};e.exports=r},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(111),o=n(49),i=(t=e.exports={}).re=[],a=t.src=[],c=t.t={};let u=0;const s=(e,t,n)=>{const r=u++;o(r,t),c[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION",`(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})`),s("MAINVERSIONLOOSE",`(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})`),s("PRERELEASEIDENTIFIER",`(?:${a[c.NUMERICIDENTIFIER]}|${a[c.NONNUMERICIDENTIFIER]})`),s("PRERELEASEIDENTIFIERLOOSE",`(?:${a[c.NUMERICIDENTIFIERLOOSE]}|${a[c.NONNUMERICIDENTIFIER]})`),s("PRERELEASE",`(?:-(${a[c.PRERELEASEIDENTIFIER]}(?:\\.${a[c.PRERELEASEIDENTIFIER]})*))`),s("PRERELEASELOOSE",`(?:-?(${a[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[c.PRERELEASEIDENTIFIERLOOSE]})*))`),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD",`(?:\\+(${a[c.BUILDIDENTIFIER]}(?:\\.${a[c.BUILDIDENTIFIER]})*))`),s("FULLPLAIN",`v?${a[c.MAINVERSION]}${a[c.PRERELEASE]}?${a[c.BUILD]}?`),s("FULL",`^${a[c.FULLPLAIN]}$`),s("LOOSEPLAIN",`[v=\\s]*${a[c.MAINVERSIONLOOSE]}${a[c.PRERELEASELOOSE]}?${a[c.BUILD]}?`),s("LOOSE",`^${a[c.LOOSEPLAIN]}$`),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE",a[c.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),s("XRANGEIDENTIFIER",a[c.NUMERICIDENTIFIER]+"|x|X|\\*"),s("XRANGEPLAIN",`[v=\\s]*(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:${a[c.PRERELEASE]})?${a[c.BUILD]}?)?)?`),s("XRANGEPLAINLOOSE",`[v=\\s]*(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:${a[c.PRERELEASELOOSE]})?${a[c.BUILD]}?)?)?`),s("XRANGE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAIN]}$`),s("XRANGELOOSE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAINLOOSE]}$`),s("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),s("COERCERTL",a[c.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM",`(\\s*)${a[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",s("TILDE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAIN]}$`),s("TILDELOOSE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAINLOOSE]}$`),s("LONECARET","(?:\\^)"),s("CARETTRIM",`(\\s*)${a[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",s("CARET",`^${a[c.LONECARET]}${a[c.XRANGEPLAIN]}$`),s("CARETLOOSE",`^${a[c.LONECARET]}${a[c.XRANGEPLAINLOOSE]}$`),s("COMPARATORLOOSE",`^${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]})$|^$`),s("COMPARATOR",`^${a[c.GTLT]}\\s*(${a[c.FULLPLAIN]})$|^$`),s("COMPARATORTRIM",`(\\s*)${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]}|${a[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE",`^\\s*(${a[c.XRANGEPLAIN]})\\s+-\\s+(${a[c.XRANGEPLAIN]})\\s*$`),s("HYPHENRANGELOOSE",`^\\s*(${a[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[c.XRANGEPLAINLOOSE]})\\s*$`),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0.0.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){const r=n(49),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(111),{re:a,t:c}=n(72),u=n(71),{compareIdentifiers:s}=n(190);class l{constructor(e,t){if(t=u(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[c.LOOSE]:a[c.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=l},function(e,t,n){"use strict";var r=n(75),o=n(76),i=n.n(o);n.o(o,"ActivityType")&&n.d(t,"ActivityType",(function(){return o.ActivityType})),n.o(o,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return o.AssetLevel})),n.o(o,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return o.AssetLevels})),n.o(o,"AssetType")&&n.d(t,"AssetType",(function(){return o.AssetType})),n.o(o,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return o.CompositeValue})),n.o(o,"JSSlot")&&n.d(t,"JSSlot",(function(){return o.JSSlot})),n.o(o,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return o.NodeStatus})),n.o(o,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return o.ProjectSchema})),n.o(o,"PropsMap")&&n.d(t,"PropsMap",(function(){return o.PropsMap})),n.o(o,"RootSchema")&&n.d(t,"RootSchema",(function(){return o.RootSchema})),n.o(o,"TitleContent")&&n.d(t,"TitleContent",(function(){return o.TitleContent})),n.o(o,"TransformStage")&&n.d(t,"TransformStage",(function(){return o.TransformStage})),n.o(o,"TransitionType")&&n.d(t,"TransitionType",(function(){return o.TransitionType})),n.o(o,"isActionContentObject")&&n.d(t,"isActionContentObject",(function(){return o.isActionContentObject})),n.o(o,"isCustomView")&&n.d(t,"isCustomView",(function(){return o.isCustomView})),n.o(o,"isDOMText")&&n.d(t,"isDOMText",(function(){return o.isDOMText})),n.o(o,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return o.isDynamicSetter})),n.o(o,"isI18nData")&&n.d(t,"isI18nData",(function(){return o.isI18nData})),n.o(o,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return o.isJSBlock})),n.o(o,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return o.isJSExpression})),n.o(o,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return o.isJSFunction})),n.o(o,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return o.isJSSlot})),n.o(o,"isLowCodeComponentType")&&n.d(t,"isLowCodeComponentType",(function(){return o.isLowCodeComponentType})),n.o(o,"isNodeSchema")&&n.d(t,"isNodeSchema",(function(){return o.isNodeSchema})),n.o(o,"isProCodeComponentType")&&n.d(t,"isProCodeComponentType",(function(){return o.isProCodeComponentType})),n.o(o,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return o.isSetterConfig})),n.o(o,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return o.isTitleConfig}));var a=n(77),c=n.n(a);n.o(a,"ActivityType")&&n.d(t,"ActivityType",(function(){return a.ActivityType})),n.o(a,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return a.AssetLevel})),n.o(a,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return a.AssetLevels})),n.o(a,"AssetType")&&n.d(t,"AssetType",(function(){return a.AssetType})),n.o(a,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return a.CompositeValue})),n.o(a,"JSSlot")&&n.d(t,"JSSlot",(function(){return a.JSSlot})),n.o(a,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return a.NodeStatus})),n.o(a,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return a.ProjectSchema})),n.o(a,"PropsMap")&&n.d(t,"PropsMap",(function(){return a.PropsMap})),n.o(a,"RootSchema")&&n.d(t,"RootSchema",(function(){return a.RootSchema})),n.o(a,"TitleContent")&&n.d(t,"TitleContent",(function(){return a.TitleContent})),n.o(a,"TransformStage")&&n.d(t,"TransformStage",(function(){return a.TransformStage})),n.o(a,"TransitionType")&&n.d(t,"TransitionType",(function(){return a.TransitionType})),n.o(a,"isActionContentObject")&&n.d(t,"isActionContentObject",(function(){return a.isActionContentObject})),n.o(a,"isCustomView")&&n.d(t,"isCustomView",(function(){return a.isCustomView})),n.o(a,"isDOMText")&&n.d(t,"isDOMText",(function(){return a.isDOMText})),n.o(a,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return a.isDynamicSetter})),n.o(a,"isI18nData")&&n.d(t,"isI18nData",(function(){return a.isI18nData})),n.o(a,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return a.isJSBlock})),n.o(a,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return a.isJSExpression})),n.o(a,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return a.isJSFunction})),n.o(a,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return a.isJSSlot})),n.o(a,"isLowCodeComponentType")&&n.d(t,"isLowCodeComponentType",(function(){return a.isLowCodeComponentType})),n.o(a,"isNodeSchema")&&n.d(t,"isNodeSchema",(function(){return a.isNodeSchema})),n.o(a,"isProCodeComponentType")&&n.d(t,"isProCodeComponentType",(function(){return a.isProCodeComponentType})),n.o(a,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return a.isSetterConfig})),n.o(a,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return a.isTitleConfig}));var u=n(78),s=n.n(u);n.o(u,"ActivityType")&&n.d(t,"ActivityType",(function(){return u.ActivityType})),n.o(u,"AssetLevel")&&n.d(t,"AssetLevel",(function(){return u.AssetLevel})),n.o(u,"AssetLevels")&&n.d(t,"AssetLevels",(function(){return u.AssetLevels})),n.o(u,"AssetType")&&n.d(t,"AssetType",(function(){return u.AssetType})),n.o(u,"CompositeValue")&&n.d(t,"CompositeValue",(function(){return u.CompositeValue})),n.o(u,"JSSlot")&&n.d(t,"JSSlot",(function(){return u.JSSlot})),n.o(u,"NodeStatus")&&n.d(t,"NodeStatus",(function(){return u.NodeStatus})),n.o(u,"ProjectSchema")&&n.d(t,"ProjectSchema",(function(){return u.ProjectSchema})),n.o(u,"PropsMap")&&n.d(t,"PropsMap",(function(){return u.PropsMap})),n.o(u,"RootSchema")&&n.d(t,"RootSchema",(function(){return u.RootSchema})),n.o(u,"TitleContent")&&n.d(t,"TitleContent",(function(){return u.TitleContent})),n.o(u,"TransformStage")&&n.d(t,"TransformStage",(function(){return u.TransformStage})),n.o(u,"TransitionType")&&n.d(t,"TransitionType",(function(){return u.TransitionType})),n.o(u,"isActionContentObject")&&n.d(t,"isActionContentObject",(function(){return u.isActionContentObject})),n.o(u,"isCustomView")&&n.d(t,"isCustomView",(function(){return u.isCustomView})),n.o(u,"isDOMText")&&n.d(t,"isDOMText",(function(){return u.isDOMText})),n.o(u,"isDynamicSetter")&&n.d(t,"isDynamicSetter",(function(){return u.isDynamicSetter})),n.o(u,"isI18nData")&&n.d(t,"isI18nData",(function(){return u.isI18nData})),n.o(u,"isJSBlock")&&n.d(t,"isJSBlock",(function(){return u.isJSBlock})),n.o(u,"isJSExpression")&&n.d(t,"isJSExpression",(function(){return u.isJSExpression})),n.o(u,"isJSFunction")&&n.d(t,"isJSFunction",(function(){return u.isJSFunction})),n.o(u,"isJSSlot")&&n.d(t,"isJSSlot",(function(){return u.isJSSlot})),n.o(u,"isLowCodeComponentType")&&n.d(t,"isLowCodeComponentType",(function(){return u.isLowCodeComponentType})),n.o(u,"isNodeSchema")&&n.d(t,"isNodeSchema",(function(){return u.isNodeSchema})),n.o(u,"isProCodeComponentType")&&n.d(t,"isProCodeComponentType",(function(){return u.isProCodeComponentType})),n.o(u,"isSetterConfig")&&n.d(t,"isSetterConfig",(function(){return u.isSetterConfig})),n.o(u,"isTitleConfig")&&n.d(t,"isTitleConfig",(function(){return u.isTitleConfig}))},function(e,t,n){"use strict";var r;!function(e){e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error"}(r||(r={}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return e&&"object"===r(e)}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e){return"package"in e}function o(e){return!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t){},function(e,t,n){"use strict";function r(e){return"string"==typeof e}function o(e){return e&&e.componentName}function i(e){return e&&e.componentsTree}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADDED="added",e.DELETED="deleted",e.MODIFIED="modified",e.COMPOSITE="composite"}(r||(r={}))},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(51);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function a(e){return i(e)&&!Object(r.a)(e)}},function(e,t){},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return e&&"JSExpression"===e.type}function i(e){return"object"===r(e)&&e&&"JSFunction"===e.type}function a(e){return e&&"JSSlot"===e.type}function c(e){return e&&"JSBlock"===e.type}n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(2),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof r.Component)}function c(e){return e&&(a(e)||"function"==typeof e)}function u(e){return e&&"object"===i(e)&&"componentName"in e&&!s(e)}function s(e){return e&&(Object(r.isValidElement)(e)||c(e))}function l(e){return e&&"function"==typeof e&&!a(e)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(r||(r={}))},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),function(e){e[e.Environment=1]="Environment",e[e.Library=2]="Library",e[e.Theme=3]="Theme",e[e.Runtime=4]="Runtime",e[e.Components=5]="Components",e[e.App=6]="App"}(r||(r={}));var o=[r.Environment,r.Library,r.Theme,r.Runtime,r.Components,r.App],i;!function(e){e.JSUrl="jsUrl",e.CSSUrl="cssUrl",e.CSSText="cssText",e.JSText="jsText",e.Bundle="bundle"}(i||(i={}))},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.REPAINT=0]="REPAINT"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n(4),o=n(3);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=new Map;function l(e,t){if("object"!==u(e)){if(t){if(Object(r.isCustomView)(t)&&(t={component:t,title:t.displayName||t.name||"CustomSetter"}),!t.initialValue){var n=f(t.component);n&&(t.initialValue=function(e){return n.call(e,e.getValue())})}s.set(e,a({type:e},t))}}else Object.keys(e).forEach((function(t){l(t,e[t])}))}function f(e){return e&&(e.initial||e.Initial||e.type&&(e.type.initial||e.type.Initial))||null}function p(e){return s.get(e)||null}function d(){return s}function h(e,t){if("string"==typeof e){if(!(e=p(e)))return null;e.defaultProps&&(t=a(a({},e.defaultProps),t)),e=e.component}return"value"in t&&void 0===t.value&&delete t.value,Object(o.l)(e,t)}},function(e,t,n){"use strict";n.d(t,"globalContext",(function(){return i}));var r=n(56),o=n.n(r);n.o(r,"Tip")&&n.d(t,"Tip",(function(){return r.Tip})),n.o(r,"TipContainer")&&n.d(t,"TipContainer",(function(){return r.TipContainer})),n.o(r,"Title")&&n.d(t,"Title",(function(){return r.Title})),n.o(r,"engineConfig")&&n.d(t,"engineConfig",(function(){return r.engineConfig})),n.o(r,"hotkey")&&n.d(t,"hotkey",(function(){return r.hotkey}));var i=r.IocContext.DefaultInstance},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuperClassInfo=void 0;var r=n(46);function o(e){if(!r.isClass(e))throw new Error("need a classType.");for(var t=[],n=Object.getPrototypeOf(e);r.isClass(n);){var o=r.getGlobalType(n);t.push({type:o,class:n}),n=Object.getPrototypeOf(n)}return t}t.getSuperClassInfo=o},function(e,t,n){"use strict";function r(e,t){var n;void 0===t&&(t={});try{return e()}catch(e){return null===(n=t.onError)||void 0===n||n.call(t,e),t.defaultValue}}Object.defineProperty(t,"__esModule",{value:!0}),t.guard=void 0,t.guard=r},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r},o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.OutLevel=void 0,function(e){e[e.Log=0]="Log",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.None=4]="None"}(o=t.OutLevel||(t.OutLevel={}));var i=function(){function e(){this.outLevel=o.Warn}return e.prototype.setOutLevel=function(e){this.outLevel=e},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Error&&console.error.apply(console,r([e],t))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Info&&console.info.apply(console,r([e],t))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Log&&console.log.apply(console,r([e],t))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Warn&&console.warn.apply(console,r([e],t))},e}();t.Logger=i;var a=new i;t.default=a},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e],o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.aspect=t.genAspectWrapper=void 0;var o=n(24),i=function e(){},a=function(){return r(this,(function(e){return[2]}))},c=Object.getPrototypeOf(i),u=Object.getPrototypeOf(a);function s(e){return"function"==typeof e&&c!==u&&Object.getPrototypeOf(e)===u}function l(e,t){e&&e(t)}function f(e,t,n,r){return{ioc:e,functionName:n.__name||n.name,inst:t,data:{},args:r}}function p(e,t,n){var o;return(o=s(n)?function(){var o,i,a,c,u=[];for(o=0;o<arguments.length;o++)u[o]=arguments[o];return r(this,(function(r){switch(r.label){case 0:i=f(e,this,n,u),r.label=1;case 1:return r.trys.push([1,4,,5]),l(t.before,i),i.skipRunning?[3,3]:(a=i,[4,n.apply(this,i.args)]);case 2:a.ret=r.sent(),r.label=3;case 3:return l(t.after,i),[2,i.ret];case 4:if(c=r.sent(),i.err=c,l(t.error,i),i.err)throw i.err;return[3,5];case 5:return[2]}}))}:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=f(e,this,n,r);try{return l(t.before,i),i.skipRunning||(i.ret=n.apply(this,i.args)),i.ret instanceof Promise?(i.ret=i.ret.then((function(e){return i.ret=e,l(t.after,i),i.ret})),t.error&&(i.ret=i.ret.catch((function(e){if(i.err=e,l(t.error,i),i.err)throw i.err}))),i.ret):(l(t.after,i),i.ret)}catch(e){if(i.err=e,l(t.error,i),i.err)throw i.err}}).__name=n.__name||n.name,o}function d(e){return void 0===e&&(e={}),function(t,n){o.getMetadata(t.constructor).aspects.push({key:n,point:e})}}t.genAspectWrapper=p,t.aspect=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(20),o=n.n(r),i=n(55),a=n(53);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function u(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}for(var d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},h={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},v={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},y={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},b,m=1;m<20;++m)d[111+m]="f".concat(m);for(var g=0;g<=9;++g)d[g+96]=String(g);function O(e){var t=e.keyCode||e.which;if("keypress"===e.type){var n=String.fromCharCode(t);return e.shiftKey||(n=n.toLowerCase()),n}return d[t]?d[t]:h[t]?h[t]:String.fromCharCode(t).toLowerCase()}function j(e){return"keypress"===e.type}function w(e,t){return e.sort().join(",")===t.sort().join(",")}function k(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function _(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}function S(){if(!b)for(var e in b={},d)Number(e)>95&&Number(e)<112||d.hasOwnProperty(e)&&(b[d[e]]=e);return b}function E(e,t,n){return n||(n=S()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}function P(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}function C(e,t){var n=[],r="",o,i=[];for(n=P(e),o=0;o<n.length;++o)r=n[o],y[r]&&(r=y[r]),t&&"keypress"!==t&&v[r]&&(r=v[r],i.push("shift")),_(r)&&i.push(r);return{key:r,modifiers:i,action:t=E(r,i,t)}}function T(e,t,n,r){try{var o,c,u,s,l=i.globalContext.get(a.a),f=l.get("designer"),p=null==f||null===(o=f.currentSelection)||void 0===o||null===(c=o.getNodes())||void 0===c?void 0:c[0],d=null==p||null===(u=p.componentMeta)||void 0===u?void 0:u.npm,h=[null==d?void 0:d.package,null==d?void 0:d.componentName].filter((function(e){return!!e})).join("-")||(null==p||null===(s=p.componentMeta)||void 0===s?void 0:s.componentName)||"";!1===e(t,n)&&(t.preventDefault(),t.stopPropagation()),null==l||l.emit("hotkey.callback.call",{callback:e,e:t,combo:n,sequence:r,selected:h})}catch(e){console.error(e.message)}}var x,N=new(function(){function e(){l(this,e),this.callBacks={},this.directMap={},this.sequenceLevels={},this.resetTimer=0,this.ignoreNextKeyup=!1,this.ignoreNextKeypress=!1,this.nextExpectedAction=!1}return p(e,[{key:"mount",value:function e(t){var n=t.document,r=this.handleKeyEvent.bind(this);return n.addEventListener("keypress",r,!1),n.addEventListener("keydown",r,!1),n.addEventListener("keyup",r,!1),function(){n.removeEventListener("keypress",r,!1),n.removeEventListener("keydown",r,!1),n.removeEventListener("keyup",r,!1)}}},{key:"bind",value:function e(t,n,r){return this.bindMultiple(Array.isArray(t)?t:[t],n,r),this}},{key:"unbind",value:function e(t,n,o){var i=this,a;(Array.isArray(t)?t:[t]).forEach((function(e){var t=C(e,o),a=t.key,c=t.modifiers,u=i.callBacks[a].findIndex((function(e){return Object(r.isEqual)(e.modifiers,c)&&e.callback===n}));-1!==u&&i.callBacks[a].splice(u,1)}))}},{key:"resetSequences",value:function e(t){var n=!1,r="";for(r in this.sequenceLevels)t&&t[r]?n=!0:this.sequenceLevels[r]=0;n||(this.nextExpectedAction=!1)}},{key:"getMatches",value:function e(t,n,r,o,i,a){var c,u,s=[],l=r.type;if(!this.callBacks[t])return[];for("keyup"===l&&_(t)&&(n=[t]),c=0;c<this.callBacks[t].length;++c)if(u=this.callBacks[t][c],(o||!u.seq||this.sequenceLevels[u.seq]===u.level)&&l===u.action&&(j(r)&&!r.metaKey&&!r.ctrlKey||w(n,u.modifiers))){var f=!o&&u.combo===i,p=o&&u.seq===o&&u.level===a;(f||p)&&this.callBacks[t].splice(c,1),s.push(u)}return s}},{key:"handleKey",value:function e(t,n,r){var o=this.getMatches(t,n,r),i,a={},c=0,u=!1;for(i=0;i<o.length;++i)o[i].seq&&(c=Math.max(c,o[i].level||0));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!==c)continue;u=!0,a[o[i].seq||""]=1,T(o[i].callback,r,o[i].combo,o[i].seq)}else u||T(o[i].callback,r,o[i].combo);var s="keypress"===r.type&&this.ignoreNextKeypress;r.type!==this.nextExpectedAction||_(t)||s||this.resetSequences(a),this.ignoreNextKeypress=u&&"keydown"===r.type}},{key:"handleKeyEvent",value:function e(t){var n=O(t);n&&("keyup"!==t.type||this.ignoreNextKeyup!==n?this.handleKey(n,k(t),t):this.ignoreNextKeyup=!1)}},{key:"resetSequenceTimer",value:function e(){this.resetTimer&&clearTimeout(this.resetTimer),this.resetTimer=window.setTimeout(this.resetSequences,1e3)}},{key:"bindSequence",value:function e(t,n,r,o){var i=this;this.sequenceLevels[t]=0;for(var a=function e(n){return function(){i.nextExpectedAction=n,++i.sequenceLevels[t],i.resetSequenceTimer()}},c=function e(n){T(r,n,t),"keyup"!==o&&(i.ignoreNextKeyup=O(n)),setTimeout(i.resetSequences,10)},u=0;u<n.length;++u){var s,l=u+1===n.length?c:a(o||C(n[u+1]).action);this.bindSingle(n[u],l,o,t,u)}}},{key:"bindSingle",value:function e(t,n,r,o,i){this.directMap["".concat(t,":").concat(r)]=n;var a=(t=t.replace(/\s+/g," ")).split(" ");if(a.length>1)this.bindSequence(t,a,n,r);else{var c=C(t,r);this.callBacks[c.key]=this.callBacks[c.key]||[],this.getMatches(c.key,c.modifiers,{type:c.action},o,t,i),this.callBacks[c.key][o?"unshift":"push"]({callback:n,modifiers:c.modifiers,action:c.action,seq:o,level:i,combo:t})}}},{key:"bindMultiple",value:function e(t,n,r){var o=c(t),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;this.bindSingle(a,n,r)}}catch(e){o.e(e)}finally{o.f()}}}]),e}());N.mount(window)},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),o=n(9),i=n.n(o),a=n(4),c=n(1),u=n(40),s=n(66);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){return e.map((function(e){return e.id})).sort().join(",")}var h=function(){function e(t,n){if(l(this,e),this.editor=void 0,this.nodes=void 0,this.emitter=new o.EventEmitter,this._items=[],this._componentMeta=null,this._isSame=!0,this._settingFieldMap={},this.path=[],this.top=this,this.parent=this,this.id=void 0,this.first=void 0,this.designer=void 0,this.disposeFunctions=[],this.editor=t,this.nodes=n,!Array.isArray(n)||n.length<1)throw new ReferenceError("nodes should not be empty");this.id=d(n),this.first=n[0],this.designer=this.first.document.designer,this.setupComponentMeta(),this.setupItems(),this.disposeFunctions.push(this.setupEvents())}return p(e,[{key:"componentMeta",get:function e(){return this._componentMeta}},{key:"items",get:function e(){return this._items}},{key:"isSameComponent",get:function e(){return this._isSame}},{key:"isSingle",get:function e(){return 1===this.nodes.length}},{key:"isLocked",get:function e(){return this.first.isLocked}},{key:"isMultiple",get:function e(){return this.nodes.length>1}},{key:"setupComponentMeta",value:function e(){for(var t,n=this.first.componentMeta,r=this.nodes.length,o=!0,i=1;i<r;i++){var a;if(this.nodes[i].componentMeta!==n){o=!1;break}}o?(this._isSame=!0,this._componentMeta=n):(this._isSame=!1,this._componentMeta=null)}},{key:"setupItems",value:function e(){var t=this;if(this.componentMeta){var n={},r=function e(t,r){n[t]=r};this._items=this.componentMeta.configure.map((function(e){return Object(a.isCustomView)(e)?e:new u.a(t,e,r)})),this._settingFieldMap=n}}},{key:"setupEvents",value:function e(){var t,n=this;return null===(t=this.componentMeta)||void 0===t?void 0:t.onMetadataChange((function(){n.setupItems()}))}},{key:"getValue",value:function e(){var t;return null===(t=this.first)||void 0===t?void 0:t.propsData}},{key:"setValue",value:function e(t){this.setProps(t)}},{key:"get",value:function e(t){return t?this._settingFieldMap[t]||new s.a(this,t):null}},{key:"setPropValue",value:function e(t,n){this.nodes.forEach((function(e){e.setPropValue(t,n)}))}},{key:"clearPropValue",value:function e(t){this.nodes.forEach((function(e){e.clearPropValue(t)}))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.first.getProp(t,!0))||void 0===n?void 0:n.getValue()}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.first.getExtraProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"setExtraPropValue",value:function e(t,n){this.nodes.forEach((function(e){var r;null===(r=e.getExtraProp(t,!0))||void 0===r||r.setValue(n)}))}},{key:"setProps",value:function e(t){this.nodes.forEach((function(e){e.setProps(t)}))}},{key:"mergeProps",value:function e(t){this.nodes.forEach((function(e){e.mergeProps(t)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return v(e)&&e.purge()})),this._items=[]}},{key:"purge",value:function e(){this.disposeItems(),this._settingFieldMap={},this.emitter.removeAllListeners(),this.disposeFunctions.forEach((function(e){return e()})),this.disposeFunctions=[]}},{key:"getProp",value:function e(t){return this.get(t)}},{key:"getStatus",value:function e(){}},{key:"setStatus",value:function e(){}},{key:"getChildren",value:function e(){}},{key:"getDOMNode",value:function e(){}},{key:"getId",value:function e(){return this.id}},{key:"getPage",value:function e(){return this.first.document}},{key:"node",get:function e(){return this.getNode()}},{key:"getNode",value:function e(){return this.nodes[0]}}]),e}();function v(e){return e&&e.purge}Object(r.b)([c.computed,Object(r.d)("design:type",Function),Object(r.d)("design:paramtypes",[]),Object(r.d)("design:returntype",Object)],h.prototype,"getValue",null)},function(e,t){},function(e,t,n){class r{constructor(e,t){if(t=a(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof c)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!v(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=undefined,n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=i.get(n);if(r)return r;const o=this.options.loose,a=o?l[f.HYPHENRANGELOOSE]:l[f.HYPHENRANGE];e=e.replace(a,C(this.options.includePrerelease)),u("hyphen replace",e),e=e.replace(l[f.COMPARATORTRIM],p),u("comparator trim",e,l[f.COMPARATORTRIM]),e=(e=(e=e.replace(l[f.TILDETRIM],d)).replace(l[f.CARETTRIM],h)).split(/\s+/).join(" ");const s=o?l[f.COMPARATORLOOSE]:l[f.COMPARATOR],y=e.split(" ").map(e=>m(e,this.options)).join(" ").split(/\s+/).map(e=>P(e,this.options)).filter(this.options.loose?e=>!!e.match(s):()=>!0).map(e=>new c(e,this.options)),b=y.length,g=new Map;for(const e of y){if(v(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const O=[...g.values()];return i.set(n,O),O}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>b(n,t)&&e.set.some(e=>b(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const o=undefined,i=new(n(184))({max:1e3}),a=n(71),c=n(187),u=n(49),s=n(73),{re:l,t:f,comparatorTrimReplace:p,tildeTrimReplace:d,caretTrimReplace:h}=n(72),v=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,b=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every(e=>o.intersects(e,t)),o=r.pop();return n},m=(e,t)=>(u("comp",e,t),e=w(e,t),u("caret",e),e=O(e,t),u("tildes",e),e=_(e,t),u("xrange",e),e=E(e,t),u("stars",e),e),g=e=>!e||"x"===e.toLowerCase()||"*"===e,O=(e,t)=>e.trim().split(/\s+/).map(e=>j(e,t)).join(" "),j=(e,t)=>{const n=t.loose?l[f.TILDELOOSE]:l[f.TILDE];return e.replace(n,(t,n,r,o,i)=>{let a;return u("tilde",e,t,n,r,o,i),g(n)?a="":g(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:g(o)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(u("replaceTilde pr",i),a=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,u("tilde return",a),a})},w=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{u("caret",e,t);const n=t.loose?l[f.CARETLOOSE]:l[f.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,o,i,a)=>{let c;return u("caret",e,t,n,o,i,a),g(n)?c="":g(o)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:g(i)?c="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:a?(u("replaceCaret pr",a),c="0"===n?"0"===o?`>=${n}.${o}.${i}-${a} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${a} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${a} <${+n+1}.0.0-0`):(u("no pr"),c="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),u("caret return",c),c})},_=(e,t)=>(u("replaceXRanges",e,t),e.split(/\s+/).map(e=>S(e,t)).join(" ")),S=(e,t)=>{e=e.trim();const n=t.loose?l[f.XRANGELOOSE]:l[f.XRANGE];return e.replace(n,(n,r,o,i,a,c)=>{u("xRange",e,n,r,o,i,a,c);const s=g(o),l=s||g(i),f=l||g(a),p=f;return"="===r&&p&&(r=""),c=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),a=0,">"===r?(r=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(c="-0"),n=`${r+o}.${i}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${i}.0${c} <${o}.${+i+1}.0-0`),u("xRange return",n),n})},E=(e,t)=>(u("replaceStars",e,t),e.trim().replace(l[f.STAR],"")),P=(e,t)=>(u("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?f.GTE0PRE:f.GTE0],"")),C=e=>(t,n,r,o,i,a,c,u,s,l,f,p,d)=>`${n=g(r)?"":g(o)?`>=${r}.0.0${e?"-0":""}`:g(i)?`>=${r}.${o}.0${e?"-0":""}`:a?">="+n:`>=${n}${e?"-0":""}`} ${u=g(s)?"":g(l)?`<${+s+1}.0.0-0`:g(f)?`<${s}.${+l+1}.0-0`:p?`<=${s}.${l}.${f}-${p}`:e?`<${s}.${l}.${+f+1}-0`:"<="+u}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(u(e[n].semver),e[n].semver!==c.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},function(e,t){const n="2.0.0",r=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:o,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){"use strict";var r=n(3),o,i=n(4).isNodeSchema,a=r.x,c=r.k,u=r.r,s;!function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(s||(s={}))},function(e,t,n){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(1),o=n(8),i=n(3),a=n(20);function c(e,t){return!(!t||!Array.isArray(t.properties))&&t.properties.some((function(t){return t.key===e}))}function u(e,t){if(!e||!Object(a.isPlainObject)(e))return e;var n={};return Object.keys(e).forEach((function(r){if(c(r,t)){var o=e[r];null!=o&&(n[r]=o)}})),n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=function(){function e(t,n){s(this,e),this[o.r]=void 0,this[o.p]=void 0,this[o.y]=void 0,this.hotkey=void 0,this.project=void 0,this.skeleton=void 0,this.logger=void 0,this.setters=void 0,this.material=void 0,this.config=void 0,this.event=void 0,this.plugins=void 0,this.preference=void 0;var a=this[o.r]=t.editor,c=this[o.p]=a.get("designer"),u=this[o.y]=a.get("skeleton"),l=n.pluginName,f=void 0===l?"anonymous":l,p=null==c?void 0:c.project;this.hotkey=new o.e,this.project=new o.i(p),this.skeleton=new o.n(u),this.setters=new o.k,this.material=new o.f(a),this.config=r.engineConfig,this.plugins=t,this.event=new o.c(a,{prefix:"common"}),this.logger=Object(i.q)({level:"warn",bizName:"designer:plugin:".concat(f)});var d=r.engineConfig.get("enhancePluginContextHook");d&&d(this)}return f(e,[{key:"setPreference",value:function e(t,n){var r=this,o=function e(o,i){if(c(o,n)){var a=r.plugins.getPluginPreference(t)||{};return void 0===a[o]||null===a[o]?i:a[o]}};this.preference={getPreferenceValue:o}}}]),e}(),d=n(7),h=n.n(d);function v(e){return e&&("autoInit"in e||"override"in e)}var y=n(9),b=n(35);function m(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,c,"next",e)}function c(e){m(i,r,o,a,c,"throw",e)}a(void 0)}))}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var k=function(){function e(t,n,r,o){O(this,e),this.config=void 0,this.logger=void 0,this.manager=void 0,this.emitter=void 0,this._inited=void 0,this.pluginName=void 0,this.meta=void 0,this._disabled=void 0,this.manager=n,this.config=r,this.emitter=new y.EventEmitter,this.pluginName=t,this.meta=o,this.logger=Object(i.q)({level:"warn",bizName:"designer:plugin:".concat(t)})}return w(e,[{key:"name",get:function e(){return this.pluginName}},{key:"dep",get:function e(){return"string"==typeof this.meta.dependencies?[this.meta.dependencies]:"string"==typeof this.config.dep?[this.config.dep]:this.meta.dependencies||this.config.dep||[]}},{key:"disabled",get:function e(){return this._disabled}},{key:"on",value:function e(t,n){var r=this;return this.emitter.on(t,n),function(){r.emitter.off(t,n)}}},{key:"emit",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(n=this.emitter).emit.apply(n,[t].concat(o))}},{key:"removeAllListeners",value:function e(t){return this.emitter.removeAllListeners(t)}},{key:"isInited",value:function e(){return this._inited}},{key:"init",value:function(){var e=g(h.a.mark((function e(t){var n;return h.a.wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(!this._inited||t){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method init called"),r.next=5,null===(n=this.config.init)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!0;case 6:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=g(h.a.mark((function e(){var t,n;return h.a.wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this._inited){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method destroy called"),r.next=5,null===(t=this.config)||void 0===t||null===(n=t.destroy)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!1;case 6:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDisabled",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._disabled=t}},{key:"toProxy",value:function e(){var t,n;Object(b.a)(this._inited,"Could not call toProxy before init");var r=null===(t=(n=this.config).exports)||void 0===t?void 0:t.call(n);return new Proxy(this,{get:function e(t,n,o){return{}.hasOwnProperty.call(r,n)?null==r?void 0:r[n]:Reflect.get(t,n,o)}})}},{key:"dispose",value:function(){var e=g(h.a.mark((function e(){return h.a.wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.manager.delete(this.name);case 2:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function _(e,t,n,r,o,i){t.forEach((function(t){if(-1===n.indexOf(t)){var a=e[t];a?i.indexOf(t)>-1?(i.push(t),o.push(i.slice(0)),i.pop(t)):a.dep.length&&(i.push(t),_(e,a.dep,n,r,o,i),i.pop(t)):r.push(t),n.push(t)}}))}var S=function(e,t){var n=[],r=[],o=[];return _(e,t,n,r,o,[]),(r.length||o.length)&&(n=[]),{sequence:n,missingTasks:r,recursiveDependencies:o}},E=n(127),P=n.n(E);function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,c;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,c=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw c}}}}function T(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){N(i,r,o,a,c,"next",e)}function c(e){N(i,r,o,a,c,"throw",e)}a(void 0)}))}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var D=Object(i.q)({level:"warn",bizName:"designer:pluginManager"}),I=function(){function e(t){R(this,e),this.plugins=[],this.pluginsMap=new Map,this.pluginPreference=new Map,this.editor=void 0,this.editor=t}return L(e,[{key:"_getLowCodePluginContext",value:function e(t){return new p(this,t)}},{key:"isEngineVersionMatched",value:function e(t){var n=r.engineConfig.get("ENGINE_VERSION");return P()(n,t,{includePrerelease:!0})}},{key:"register",value:function(){var e=A(h.a.mark((function e(t,n,o){var i,a,c,s,l,f,p,d,y,m,g,O,j,w;return h.a.wrap((function e(h){for(;;)switch(h.prev=h.next){case 0:if(v(n)&&(o=n,n={}),c=t.pluginName,s=t.meta,f=(l=void 0===s?{}:s).preferenceDeclaration,p=l.engines,d=this._getLowCodePluginContext({pluginName:c}),y=r.engineConfig.get("customPluginFilterOptions",u),m=t(d,y(n,f)),c=c||m.name,Object(b.a)(c,"pluginConfigCreator.pluginName required",m),d.setPreference(c,f),g=!0===(null===(i=o)||void 0===i?void 0:i.override),!this.pluginsMap.has(c)){h.next=19;break}if(g){h.next=15;break}throw new Error("Plugin with name ".concat(c," exists"));case 15:O=this.pluginsMap.get(c),D.log("plugin override, originalPlugin with name ",c," will be destroyed, config:",null==O?void 0:O.config),null==O||O.destroy(),this.pluginsMap.delete(c);case 19:if(!(j=p&&p.lowcodeEngine)||this.isEngineVersionMatched(j)){h.next=22;break}throw new Error("plugin ".concat(c," skipped, engine check failed, current engine version is ").concat(r.engineConfig.get("ENGINE_VERSION"),", meta.engines.lowcodeEngine is ").concat(j));case 22:if(w=new k(c,this,m,l),null===(a=o)||void 0===a||!a.autoInit){h.next=26;break}return h.next=26,w.init();case 26:this.plugins.push(w),this.pluginsMap.set(c,w),D.log("plugin registered with pluginName: ".concat(c,", config: ").concat(m,", meta: ").concat(l));case 29:case"end":return h.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"get",value:function e(t){return this.pluginsMap.get(t)}},{key:"getAll",value:function e(){return this.plugins}},{key:"has",value:function e(t){return this.pluginsMap.has(t)}},{key:"delete",value:function(){var e=A(h.a.mark((function e(t){var n,r;return h.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:if(-1!==(n=this.plugins.findIndex((function(e){return e.name===t})))){o.next=3;break}return o.abrupt("return",!1);case 3:return r=this.plugins[n],o.next=6,r.destroy();case 6:return this.plugins.splice(n,1),o.abrupt("return",this.pluginsMap.delete(t));case 8:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=A(h.a.mark((function e(t){var n,r,o,i,a,c,u,s;return h.a.wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:n=[],r={},this.pluginPreference=t,this.plugins.forEach((function(e){n.push(e.name),r[e.name]=e})),o=S(r,n),i=o.missingTasks,a=o.sequence,Object(b.a)(!i.length,"plugin dependency missing",i),D.log("load plugin sequence:",a),c=C(a),l.prev=8,c.s();case 10:if((u=c.n()).done){l.next=23;break}return s=u.value,l.prev=12,l.next=15,this.pluginsMap.get(s).init();case 15:l.next=21;break;case 17:l.prev=17,l.t0=l.catch(12),D.error("Failed to init plugin:".concat(s,", it maybe affect those plugins which depend on this.")),D.error(l.t0);case 21:l.next=10;break;case 23:l.next=28;break;case 25:l.prev=25,l.t1=l.catch(8),c.e(l.t1);case 28:return l.prev=28,c.f(),l.finish(28);case 31:case"end":return l.stop()}}),e,this,[[8,25,28,31],[12,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=A(h.a.mark((function e(){var t,n,r;return h.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:t=C(this.plugins),o.prev=1,t.s();case 3:if((n=t.n()).done){o.next=9;break}return r=n.value,o.next=7,r.destroy();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),t.e(o.t0);case 14:return o.prev=14,t.f(),o.finish(14);case 17:case"end":return o.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"size",get:function e(){return this.pluginsMap.size}},{key:"getPluginPreference",value:function e(t){return this.pluginPreference?this.pluginPreference.get(t):null}},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){if(t.pluginsMap.has(n)){var o;if(t.pluginsMap.get(n).disabled)return;return null===(o=t.pluginsMap.get(n))||void 0===o?void 0:o.toProxy()}return Reflect.get(t,n,r)}})}},{key:"setDisabled",value:function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];D.warn("plugin:".concat(t," has been set disable:").concat(r)),null===(n=this.pluginsMap.get(t))||void 0===n||n.setDisabled(r)}},{key:"dispose",value:function(){var e=A(h.a.mark((function e(){return h.a.wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.destroy();case 2:this.plugins=[],this.pluginsMap.clear();case 4:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return se}));var r=n(167),o=n(48),i=n(2),a=n(6),c=n.n(a),u=n(27);function s(e,t){return h(e)||d(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[],o=!0,i=!1,a,c;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){i=!0,c=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw c}}return r}}function h(e){if(Array.isArray(e))return e}function v(e,t,n,r){var o=n.width>t.width?(n.width-t.width)/2:0,i=n.width>t.height?(n.width-t.height)/2:0,a,c,u,s;return{top:Math.max(t.top-e.height+n.width-i,r.top),right:Math.min(t.right+e.width-n.width+o,r.right),bottom:Math.min(t.bottom+e.height-n.width+i,r.bottom),left:Math.max(t.left-e.width+n.width-o,r.left)}}function y(e,t,n,r,o){if(o.forceDirection)return o.dir;var i=e.width+e.extraOffset,a=e.height+e.extraOffset,c=e.width*a,u=e.height*i,s=Math.min(n.right-n.left,e.width),l=Math.min(n.bottom-n.top,e.height),f={top:function e(){var n=s*Math.min(t.top-r.top,a);return{s:n,enough:n>=c}},bottom:function e(){var n=s*Math.min(r.bottom-t.bottom,a);return{s:n,enough:n>=c}},left:function e(){var n=l*Math.min(t.left-r.left,i);return{s:n,enough:n>=u}},right:function e(){var n=l*Math.min(r.right-t.right,i);return{s:n,enough:n>=u}}},p=["top","right","bottom","left"];if(o.dir){var d=p.indexOf(o.dir);d>-1&&(p.splice(d,1),p.unshift(o.dir))}for(var h=0,v=p[0],y=0,b=p.length;y<b;y++){var m=p[y],g=f[m](),O=g.s,j;if(g.enough)return m;O>h&&(h=O,v=m)}return v}function b(e,t,n){if(!e)return t.left-n.left<10?{dir:"right"}:t.top-n.top<10?{dir:"bottom"}:n.bottom-t.bottom<10?{dir:"top"}:n.right-t.right<10?{dir:"left"}:{};var r="!"===e[0];r&&(e=e.slice(1));var o,i=s(e.split(/\s+/),2),a=i[0],c=i[1],u=!1,l=!1;return"center"===a&&(a="auto",c||(c="center")),r&&(a&&"auto"!==a&&(u=!0),c&&"auto"!==c&&(l=!0)),{dir:a,offset:c,forceDirection:u,forceOffset:l}}function m(e,t,n,r,o){e={extraOffset:n.height,top:e.top,right:e.right,left:e.left,bottom:e.bottom,height:e.height,width:e.width};var i=b(o,t,r),a=v(e,t,n,r),c=y(e,t,a,r,i),u,s,l,f;if("top"===c||"bottom"===c){u="top"===c?t.top-e.extraOffset-e.height:t.bottom+e.extraOffset;var p=n.width>t.width?(n.width-t.width)/2:0,d=t.left+n.width-p-e.width,h=t.right-n.width+p,m=t.left-(e.width-t.width)/2;s="left"===i.offset?d:"right"===i.offset?h:m,i.forceOffset||(s=Math.max(Math.min(a.right-e.width,s),d),s=Math.min(Math.max(a.left,s),h)),f=Math.min(e.width-n.width,Math.max(t.left-(n.width-t.width)/2-s,0))}else{s="left"===c?t.left-e.extraOffset-e.width:t.right+e.extraOffset;var g=n.width>t.height?(n.width-t.height)/2:0,O=t.top+n.width-g-e.height,j=t.bottom-n.width+g,w=t.top-(e.height-t.height)/2;u="top"===i.offset?O:"bottom"===i.offset?j:w,i.forceOffset||(u=Math.max(Math.min(a.bottom-e.height,u),O),u=Math.min(Math.max(a.top,u),j)),l=Math.min(e.height-n.height,Math.max(t.top-(n.width-t.height)/2-u,0))}return{dir:c,left:s,top:u,arrowLeft:f,arrowTop:l}}var g={right:1,left:0,top:0,bottom:1,center:.5};function O(e){return/^[\d.]+%$/.test(e)}function j(e,t,n){return e?O(e)?e=parseFloat(e)/100*n:g.hasOwnProperty(e)?e=g[e]*n:(e=parseFloat(e),isNaN(e)&&(e=0)):e=0,"".concat(e+t,"px")}function w(e,t,n){if(!e)return{top:"38.2%",left:"calc(50% - 110px)"};var r,o=s(e.trim().split(/\s+/),2),i=o[0],a=o[1];if("top"===i||"bottom"===i||"left"===a||"right"===a){var c=i;i=a,a=c}return"center"!==i||a||(a="center"),{left:j(i,0,n.right-n.left-t.width),top:j(a,0,n.bottom-n.top-t.height)}}var k=n(22);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function x(e){var t=R();return function n(){var r=M(e),o;if(t){var i=M(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return N(this,o)}}function N(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var L=function(e){C(n,e);var t=x(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).dispose=void 0,r.timer=null,r.shell=null,r.originClassName="",r.dispose=k.b.onChange((function(){return r.forceUpdate()})),r}return P(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){this.updateTip()}},{key:"componentDidUpdate",value:function e(){this.updateTip()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose(),this.clearTimer()}},{key:"clearTimer",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updateTip",value:function e(){if(this.shell){var t=this.shell,n=t.querySelector(".lc-arrow");t.className=this.originClassName,t.style.cssText="",n.style.cssText="",this.clearTimer();var r=k.b.tip;if(r){var o=r.target,i=r.direction,a=o.getBoundingClientRect();if(0!==a.width&&0!==a.height){var c=t.getBoundingClientRect(),u={left:1,top:1,right:document.documentElement.clientWidth-1,bottom:document.documentElement.clientHeight-1},s,l=m(c,a,n.getBoundingClientRect(),u,i),f=l.dir,p=l.left,d=l.top,h=l.arrowLeft,v=l.arrowTop;t.classList.add("lc-align-".concat(f)),t.style.top="".concat(d,"px"),t.style.left="".concat(p,"px"),t.style.width="".concat(c.width,"px"),t.style.height="".concat(c.height,"px"),"top"===f||"bottom"===f?n.style.left="".concat(h,"px"):n.style.top="".concat(v,"px"),this.timer=window.setTimeout((function(){t.classList.add("lc-visible-animate"),t.style.transform="none"}),10)}}}}},{key:"render",value:function e(){var t=this,n=k.b.tip||{},r=c()("lc-tip",n.className,n&&n.theme?"lc-theme-".concat(n.theme):null);return this.originClassName=r,React.createElement("div",{className:r,ref:function e(n){t.shell=n}},React.createElement("i",{className:"lc-arrow"}),React.createElement("div",{className:"lc-tip-content"},Object(u.c)(n.children)))}}]),n}(i.Component);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}function U(e,t){return(U=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function G(e){var t=$();return function n(){var r=W(e),o;if(t){var i=W(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return z(this,o)}}function z(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var H=function(e){B(n,e);var t=G(n);function n(){var e;I(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e}return F(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){var t=function e(t){return k.b.setTarget(t.target)},n=function e(){return k.b.hideImmediately()};document.addEventListener("mouseover",t,!1),document.addEventListener("mousedown",n,!0),this.dispose=function(){document.removeEventListener("mouseover",t,!1),document.removeEventListener("mousedown",n,!0)}}},{key:"UNSAFE_componentWillMount",value:function e(){this.dispose&&this.dispose()}},{key:"render",value:function e(){return React.createElement("div",{className:"lc-tips-container"},React.createElement(L,null))}}]),n}(i.Component),X=n(3),K=n(4),q=n(168);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}function ne(e,t){return(ne=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function re(e){var t=ae();return function n(){var r=ce(e),o;if(t){var i=ce(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return oe(this,o)}}function oe(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ue(e,t){for(var n=t.length,r=[],o=e;o.length>0;){var i=o.indexOf(t);0===i?(r.push(t),o=o.slice(n)):i<0?(r.push(o),o=""):(r.push(o.slice(0,i)),o=o.slice(i))}return r}var se=function(e){te(n,e);var t=re(n);function n(e){var r;return Q(this,n),(r=t.call(this,e)).renderLabel=function(e){var t=r.props,n=t.match,o=t.keywords;if(!e)return null;var i=Object(u.c)(e);if("string"!=typeof i)return React.createElement("span",{className:"lc-title-txt"},i);var a=i,c;n&&o&&(a=ue(i,o).map((function(e){return React.createElement("span",{style:{color:e===o?"red":"inherit"}},e)})));return React.createElement("span",{className:"lc-title-txt"},a)},r.handleClick=r.handleClick.bind(ie(r)),r}return ee(n,[{key:"handleClick",value:function e(t){var n=this.props,r=n.title,o=n.onClick,i=r&&(r.docUrl||r.url);i&&(window.open(i),t.stopPropagation()),o&&o(t)}},{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className;if(null==n)return null;if(Object(i.isValidElement)(n))return n;("string"==typeof n||Object(K.isI18nData)(n))&&(n={label:n});var a=n.icon?Object(X.m)(n.icon,{size:20}):null,u=null;if(n.tip)if(Object(i.isValidElement)(n.tip)&&n.tip.type===o.a)u=n.tip;else{var s="object"!==Y(n.tip)||Object(i.isValidElement)(n.tip)||Object(K.isI18nData)(n.tip)?{children:n.tip}:n.tip;u=React.createElement(o.a,s)}return React.createElement("span",{className:c()("lc-title",r,n.className,{"has-tip":!!u,"only-icon":!n.label}),onClick:this.handleClick},a?React.createElement("b",{className:"lc-title-icon"},a):null,this.renderLabel(n.label),u)}}]),n}(i.Component)},function(e,t,n){"use strict";n.r(t),n.d(t,"Node",(function(){return o}));var r={};n.r(r),n.d(r,"Change",(function(){return i})),n.d(r,"InnerChange",(function(){return a}));var o={};n.r(o),n.d(o,"Prop",(function(){return r})),n.d(o,"Rerender",(function(){return c}));var i="node.prop.change",a="node.innerProp.change",c="node.edit.rerender.time"},function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r=n(2),o=n(6),i=n.n(o),a=n(0),c=n(1),u=n(26),s=n(25),l=n(182);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){var t=O();return function n(){var r=j(e),o;if(t){var i=j(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return m(this,o)}}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var w=function(e){v(n,e);var t=b(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).dispose=[],r.titles=null,r.x=0,r.y=0,r.isAbsoluteLayoutContainer=!1,r.dragon=r.props.designer.dragon,Object(c.makeObservable)(g(r)),r.dispose=[r.dragon.onDragstart((function(e){"drag"!==e.originalEvent.type.slice(0,4)&&(r.titles=r.getTitles(e.dragObject),r.x=e.globalX,r.y=e.globalY)})),r.dragon.onDrag((function(e){if(r.x=e.globalX,r.y=e.globalY,Object(s.b)(e.sensor)){var t,n=e.sensor.getDropContainer(e);if(null!=n&&null!==(t=n.container.componentMeta.getMetadata().configure.advanced)&&void 0!==t&&t.isAbsoluteLayoutContainer)return void(r.isAbsoluteLayoutContainer=!0)}r.isAbsoluteLayoutContainer=!1})),r.dragon.onDragend((function(){r.titles=null,r.x=0,r.y=0}))],r}return h(n,[{key:"getTitles",value:function e(t){var n=this,r;return Object(u.e)(t)?t.nodes.map((function(e){return e.title})):(Array.isArray(t.data)?t.data:[t.data]).map((function(e,t){return n.props.designer.getComponentMeta(e.componentName).title}))}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose.forEach((function(e){return e()}))}},{key:"renderGhostGroup",value:function e(){var t;return null===(t=this.titles)||void 0===t?void 0:t.map((function(e,t){var n;return React.createElement("div",{className:"lc-ghost",key:t},React.createElement(c.Title,{title:e}))}))}},{key:"render",value:function e(){return this.titles&&this.titles.length?this.isAbsoluteLayoutContainer?null:React.createElement("div",{className:"lc-ghost-group",style:{left:this.x,top:this.y}},this.renderGhostGroup()):null}}]),n}(r.Component);Object(a.b)([c.obx.ref,Object(a.d)("design:type",Object)],w.prototype,"titles",void 0),Object(a.b)([c.obx.ref,Object(a.d)("design:type",Object)],w.prototype,"x",void 0),Object(a.b)([c.obx.ref,Object(a.d)("design:type",Object)],w.prototype,"y",void 0),Object(a.b)([c.obx,Object(a.d)("design:type",Object)],w.prototype,"isAbsoluteLayoutContainer",void 0);var k=w=Object(a.b)([c.observer,Object(a.d)("design:paramtypes",[Object])],w),_=n(64),S=n(39),E=n(183),P=n(34);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=["designer"];function x(e,t){if(null==e)return{};var n=N(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function N(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function I(e){var t=B();return function n(){var r=U(e),o;if(t){var i=U(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return V(this,o)}}function V(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var G=function(e){L(n,e);var t=I(n);function n(e){var r;A(this,n),(r=t.call(this,e)).designer=void 0;var o=e.designer,i=x(e,T);return o?(r.designer=o,o.setProps(i)):r.designer=new _.a(i),r}return M(n,[{key:"shouldComponentUpdate",value:function e(t){this.designer.setProps(t);var n=this.props;return t.className!==n.className||t.style!==n.style||t.dragGhostComponent!==n.dragGhostComponent}},{key:"componentDidMount",value:function e(){var t=this.props.onMount;t&&t(this.designer),P.a.injectCopyPaster(document),this.designer.postEvent("mount",this.designer)}},{key:"UNSAFE_componentWillMount",value:function e(){this.designer.purge()}},{key:"render",value:function e(){var t=this.props,n=t.className,r=t.style,o,a=t.dragGhostComponent||k;return React.createElement("div",{className:i()("lc-designer",n),style:r},React.createElement(a,{designer:this.designer}),React.createElement(S.b,{designer:this.designer}))}}]),n}(r.Component)},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function c(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function u(){try{return localStorage}catch(e){}}t.formatArgs=i,t.save=a,t.load=c,t.useColors=o,t.storage=u(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(140)(t);const{formatters:s}=e.exports;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(70))},function(e){e.exports=JSON.parse('{"Binded: {expr}":"Binded: {expr}","Variable Binding":"Variable Binding","Switch Setter":"Switch Setter","Multiple Value, Click to Clear":"Multiple Value, Click to Clear","Required":"Required","Setted Value, Click to Clear":"Setted Value, Click to Clear","Multiple Value":"Multiple Value"}')},function(e){e.exports=JSON.parse('{"Binded: {expr}":"\u5df2\u7ed1\u5b9a: {expr}","Variable Binding":"\u53d8\u91cf\u7ed1\u5b9a","Switch Setter":"\u5207\u6362\u8bbe\u7f6e\u5668","Multiple Value, Click to Clear":"\u591a\u79cd\u503c, \u70b9\u51fb\u6e05\u9664","Required":"\u5fc5\u586b\u9879","Setted Value, Click to Clear":"\u5df2\u8bbe\u7f6e\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Multiple Value":"\u591a\u79cd\u503c"}')},function(e){e.exports=JSON.parse('{"copy":"Copy","remove":"Remove","hide":"Hide","lock":"Lock","unlock":"Unlock","Condition Group":"Condition Group","No opened document":"No opened document, open some document to editing"}')},function(e){e.exports=JSON.parse('{"copy":"\u590d\u5236","remove":"\u5220\u9664","hide":"\u9690\u85cf","lock":"\u9501\u5b9a","unlock":"\u89e3\u9501","Condition Group":"\u6761\u4ef6\u7ec4","No opened document":"\u6ca1\u6709\u6253\u5f00\u7684\u9875\u9762\uff0c\u8bf7\u9009\u62e9\u9875\u9762\u6253\u5f00\u7f16\u8f91"}')},function(e,t,n){const r=n(110),o=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)};e.exports=o},function(e){e.exports=JSON.parse('{"Initializing":"Initializing","Hide":"Hide","Show":"Show","Lock":"Lock","Unlock":"Unlock","Expand":"Expand","Collapse":"Collapse","Conditional":"Condition","Loop":"Loop","Slots":"Slots","Slot for {prop}":"Slot for {prop}","Outline Tree":"Outline Tree"}')},function(e){e.exports=JSON.parse('{"Initializing":"\u6b63\u5728\u521d\u59cb\u5316","Hide":"\u9690\u85cf","Show":"\u663e\u793a","Lock":"\u9501\u5b9a","Unlock":"\u89e3\u9501","Expand":"\u5c55\u5f00","Collapse":"\u6536\u8d77","Conditional":"\u6761\u4ef6\u5f0f","Loop":"\u5faa\u73af","Slots":"\u63d2\u69fd","Slot for {prop}":"\u5c5e\u6027 {prop} \u7684\u63d2\u69fd","Outline Tree":"\u5927\u7eb2\u6811"}')},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(7),o=n.n(r),i=n(2),a=n.n(i),c=n(1),u=n(5),s=n(196),l=n.n(s);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,c,"next",e)}function c(e){p(i,r,o,a,c,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function g(e){var t=w();return function n(){var r=k(e),o;if(t){var i=k(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return O(this,o)}}function O(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _=function(e){b(n,e);var t=g(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={componentMetadatas:null,library:null,extraEnvironment:null,renderEnv:"default",device:"default",locale:"",designMode:"live",deviceClassName:"",simulatorUrl:null,requestHandlersMap:null},r._mounted=!0,r.handleDesignerMount=function(e){var t=c.globalContext.get("editor");t.set("designer",e),t.emit("designer.ready",e),t.onGot("schema",(function(t){e.project.open(t)}))},r.setupAssets(),r}return y(n,[{key:"setupAssets",value:function(){var e=d(o.a.mark((function e(){var t,n,r,i,a,u,s,l,f,p,d,h,v,y;return o.a.wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return t=c.globalContext.get("editor"),o.prev=1,o.next=4,t.onceGot("assets");case 4:if(n=o.sent,r=c.engineConfig.get("renderEnv")||t.get("renderEnv"),i=c.engineConfig.get("device")||t.get("device"),a=c.engineConfig.get("locale")||t.get("locale"),u=c.engineConfig.get("designMode")||t.get("designMode"),s=c.engineConfig.get("deviceClassName")||t.get("deviceClassName"),l=c.engineConfig.get("simulatorUrl")||t.get("simulatorUrl"),f=c.engineConfig.get("requestHandlersMap")||t.get("requestHandlersMap"),this._mounted){o.next=14;break}return o.abrupt("return");case 14:p=n.components,d=n.packages,h=n.extraEnvironment,v=n.utils,y={componentMetadatas:p||[],library:d||[],utilsMetadata:v||[],extraEnvironment:h,renderEnv:r,device:i,designMode:u,deviceClassName:s,simulatorUrl:l,requestHandlersMap:f,locale:a},this.setState(y),o.next=22;break;case 19:o.prev=19,o.t0=o.catch(1),console.log(o.t0);case 22:case"end":return o.stop()}}),e,this,[[1,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this._mounted=!1}},{key:"render",value:function e(){var t=c.globalContext.get("editor"),n=this.state,r=n.componentMetadatas,o=n.utilsMetadata,i=n.library,s=n.extraEnvironment,l=n.renderEnv,f=n.device,p=n.designMode,d=n.deviceClassName,h=n.simulatorUrl,v=n.requestHandlersMap,y=n.locale;return i&&r?a.a.createElement(u.DesignerView,{onMount:this.handleDesignerMount,className:"lowcode-plugin-designer",editor:t,designer:t.get("designer"),componentMetadatas:r,simulatorProps:{library:i,utilsMetadata:o,extraEnvironment:s,renderEnv:l,device:f,locale:y,designMode:p,deviceClassName:d,simulatorUrl:h,requestHandlersMap:v}}):null}}]),n}(i.PureComponent);_.displayName=void 0},function(e,t,n){"use strict";var r=n(3),o=n(4),i=n(5),a={isNodeSchema:o.isNodeSchema,isFormEvent:r.x,compatibleLegaoSchema:r.k,getNodeSchemaById:r.r,getConvertedExtraKey:i.getConvertedExtraKey,getOriginalExtraKey:i.getOriginalExtraKey,executeTransaction:r.E.executeTransaction.bind(r.E)};t.a=a},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"Title",(function(){return r.Title})),n.d(t,"Tip",(function(){return r.Tip})),n.d(t,"shallowIntl",(function(){return r.shallowIntl})),n.d(t,"createIntl",(function(){return r.createIntl})),n.d(t,"intl",(function(){return r.intl})),n.d(t,"createSetterContent",(function(){return r.createSetterContent})),n.d(t,"obx",(function(){return r.obx})),n.d(t,"observable",(function(){return r.observable})),n.d(t,"makeObservable",(function(){return r.makeObservable})),n.d(t,"untracked",(function(){return r.untracked})),n.d(t,"computed",(function(){return r.computed})),n.d(t,"observer",(function(){return r.observer})),n.d(t,"globalLocale",(function(){return r.globalLocale}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return{createSettingFieldView:r.g,PopupContext:r.a,PopupPipe:r.b,Workbench:function t(n){return React.createElement(r.f,o({},n,{skeleton:e}))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),o=n(8);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=e.get("designer");return i({SettingField:r.SettingField,isSettingField:r.isSettingField,dragon:o.b.create(t.dragon),TransformStage:r.TransformStage,LiveEditing:r.LiveEditing,DragObjectType:r.DragObjectType,isDragNodeDataObject:r.isDragNodeDataObject,isNode:r.isNode},o.o,{isDragNodeObject:r.isDragNodeObject,isDragAnyObject:r.isDragAnyObject,isShaken:r.isShaken,contains:r.contains,LocationDetailType:r.LocationDetailType,isLocationChildrenDetail:r.isLocationChildrenDetail,ScrollTarget:r.ScrollTarget,isSettingField:r.isSettingField,TransformStage:r.TransformStage,SettingField:r.SettingField,LiveEditing:r.LiveEditing,DragObjectType:r.DragObjectType,isDragNodeDataObject:r.isDragNodeDataObject,isNode:r.isNode})}},function(e,t,n){"use strict";var r=n(8),o=n(5);t.a={Project:r.i,Skeleton:r.n,DocumentModel:r.a,Node:r.g,NodeChildren:r.h,History:r.d,SettingPropEntry:r.l,SettingTopEntry:r.m,InnerNode:o.Node,Selection:r.j}},function(e,t,n){"use strict";var r=n(8);t.a={projectSymbol:r.v,documentSymbol:r.q,nodeSymbol:r.u,nodeChildrenSymbol:r.t,skeletonSymbol:r.y,editorSymbol:r.r,designerSymbol:r.p,settingPropEntrySymbol:r.w,settingTopEntrySymbol:r.x,designerCabinSymbol:r.o}},function(e,t,n){e.exports=n(138)},function(e,t,n){"use strict";n.r(t);var r=n(50);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);console.log("%c AliLowCodeEngine %c v".concat(r.version," "),"padding: 2px 1px; border-radius: 3px 0 0 3px; color: #fff; background: #606060; font-weight: bold;","padding: 2px 1px; border-radius: 0 3px 3px 0; color: #fff; background: #42c02e; font-weight: bold;")},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=S(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",v={};function y(){}function b(){}function m(){}var g={};u(g,i,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(x([])));j&&j!==t&&n.call(j,i)&&(g=j);var w=m.prototype=y.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,i,a,c){var u=l(e[o],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return r("throw",e,a,c)}))}c(u.arg)}var o;function i(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}this._invoke=i}function S(e,t,n){var r="suspendedStart";return function o(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=E(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,v;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return b.prototype=m,u(w,"constructor",m),u(m,"constructor",b),b.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e,t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){function r(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let t,n=null,i,a;function c(...e){if(!c.enabled)return;const n=c,o=Number(new Date),i=o-(t||o);n.diff=i,n.prev=t,n.curr=o,t=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return"%";a++;const i=r.formatters[o];if("function"==typeof i){const r=e[a];t=i.call(n,r),e.splice(a,1),a--}return t}),r.formatArgs.call(n,e);const u=undefined;(n.log||r.log).apply(n,e)}return c.namespace=e,c.useColors=r.useColors(),c.color=r.selectColor(e),c.extend=o,c.destroy=r.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(i!==r.namespaces&&(i=r.namespaces,a=r.enabled(e)),a),set:e=>{n=e}}),"function"==typeof r.init&&r.init(c),c}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function a(){const e=[...r.names.map(u),...r.skips.map(u).map(e=>"-"+e)].join(",");return r.enable(""),e}function c(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function s(e){return e instanceof Error?e.stack||e.message:e}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=c,r.humanize=n(141),r.destroy=l,Object.keys(e).forEach(t=>{r[t]=e[t]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o,a=7*i,c=365.25*i;function u(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var u=parseFloat(t[1]),s;switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*c;case"weeks":case"week":case"w":return u*a;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function s(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function l(e){var t=Math.abs(e);return t>=i?f(e,t,i,"day"):t>=o?f(e,t,o,"hour"):t>=r?f(e,t,r,"minute"):t>=n?f(e,t,n,"second"):e+" ms"}function f(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return u(e);if("number"===n&&isFinite(e))return t.long?l(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(36),o=r.slice,i=r.pluck,a=r.each,c=r.bind,u=r.create,s=r.isList,l=r.isFunction,f=r.isObject;e.exports={createStore:h};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return h.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return h(this.storage,this.plugins,e)}};function d(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function h(e,t,n){n||(n=""),e&&!s(e)&&(e=[e]),t&&!s(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",h=n?new RegExp("^"+r):null,v;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y,b=u({_namespacePrefix:r,_namespaceRegexp:h,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function t(){var r=o(arguments,0),i=this;function c(){if(n)return a(arguments,(function(e,t){r[t]=e})),n.apply(i,r)}var u=[c].concat(r);return e.apply(i,u)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this,n;if(s(e))a(e,(function(e){t._addPlugin(e)}));else if(!i(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!l(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!f(r))throw new Error("Plugins must return an object of function properties");a(r,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){d("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},p,{plugins:[]});return b.raw={},a(b,(function(e,t){l(e)&&(b.raw[t]=c(b,e))})),a(e,(function(e){b._addStorage(e)})),a(t,(function(e){b._addPlugin(e)})),b}},function(e,t,n){e.exports=[n(144),n(145),n(146),n(147),n(148),n(149)]},function(e,t,n){var r,o=n(36).Global;function i(){return o.localStorage}function a(e){return i().getItem(e)}function c(e,t){return i().setItem(e,t)}function u(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"localStorage",read:a,write:c,each:u,remove:s,clearAll:l}},function(e,t,n){var r,o=n(36).Global;e.exports={name:"oldFF-globalStorage",read:a,write:c,each:u,remove:s,clearAll:l};var i=o.globalStorage;function a(e){return i[e]}function c(e,t){i[e]=t}function u(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}function s(e){return i.removeItem(e)}function l(){u((function(e,t){delete i[e]}))}},function(e,t,n){var r,o=n(36).Global;e.exports={name:"oldIE-userDataStorage",write:s,read:l,each:f,remove:p,clearAll:d};var i="storejs",a=o.document,c=y(),u=(o.navigator?o.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function s(e,t){if(!u){var n=v(e);c((function(e){e.setAttribute(n,t),e.save("storejs")}))}}function l(e){if(!u){var t=v(e),n=null;return c((function(e){n=e.getAttribute(t)})),n}}function f(e){c((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))}function p(e){var t=v(e);c((function(e){e.removeAttribute(t),e.save("storejs")}))}function d(){c((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("storejs")}))}var h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function v(e){return e.replace(/^\d/,"___$&").replace(h,"___")}function y(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e="script",t,n,r;try{(n=new ActiveXObject("htmlfile")).open(),n.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),n.close(),t=n.w.frames[0].document,r=t.createElement("div")}catch(e){r=a.createElement("div"),t=a.body}return function(e){var n=[].slice.call(arguments,0);n.unshift(r),t.appendChild(r),r.addBehavior("#default#userData"),r.load("storejs"),e.apply(this,n),t.removeChild(r)}}},function(e,t,n){var r=n(36),o=r.Global,i=r.trim;e.exports={name:"cookieStorage",read:c,write:s,each:u,remove:l,clearAll:f};var a=o.document;function c(e){if(!e||!p(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))}function u(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var r=t[n].split("="),o=unescape(r[0]),c;e(unescape(r[1]),o)}}function s(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function l(e){e&&p(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function f(){u((function(e,t){l(t)}))}function p(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(e,t,n){var r,o=n(36).Global;function i(){return o.sessionStorage}function a(e){return i().getItem(e)}function c(e,t){return i().setItem(e,t)}function u(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"sessionStorage",read:a,write:c,each:u,remove:s,clearAll:l}},function(e,t){e.exports={name:"memoryStorage",read:r,write:o,each:i,remove:a,clearAll:c};var n={};function r(e){return n[e]}function o(e,t){n[e]=t}function i(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)}function a(e){delete n[e]}function c(e){n={}}},function(e,t,n){function r(){return n(151),{}}e.exports=r},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a=gap,c,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,c=[],"[object Array]"===Object.prototype.toString.apply(u)){for(i=u.length,n=0;n<i;n+=1)c[n]=str(n,u)||"null";return o=0===c.length?"[]":gap?"[\n"+gap+c.join(",\n"+gap)+"\n"+a+"]":"["+c.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],u))&&c.push(quote(r)+(gap?": ":":")+o);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(o=str(r,u))&&c.push(quote(r)+(gap?": ":":")+o);return o=0===c.length?"{}":gap?"{\n"+gap+c.join(",\n"+gap)+"\n"+a+"}":"{"+c.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.AlreadyRegistryError=t.NoRegistryError=t.NotfoundTypeError=t.MultiImplementError=t.IocContext=t.DefaultRegisterOption=t.Config=void 0;var c=n(45),u=n(24),s=n(47),l=n(103),f=n(105),p=function(){function e(){this.autoRegisterSelf=!1,this.constructorInject=!0,this.useClassLoader=!0}return e}();t.Config=p,t.DefaultRegisterOption={singleton:!0,autoNew:!0};var d=function(){function e(e){void 0===e&&(e={}),this.config=e,this.classLoader=s.classLoader,this.components=new Map,this.config=Object.assign({},new p,e),e.useClassLoader instanceof s.ClassLoader&&(this.classLoader=e.useClassLoader)}return Object.defineProperty(e,"DefaultInstance",{get:function(){return this.defaultInstance||(this.defaultInstance=new e,this.defaultInstance)},enumerable:!1,configurable:!0}),e.prototype.setConfig=function(e){Object.assign(this.config,e)},e.prototype.remove=function(e){var t=c.getGlobalType(e);return this.components.has(t)&&this.preDestroyInstance(this.components.get(t)),this.components.delete(t)},e.prototype.clear=function(){var e=this;Array.from(this.components.values()).forEach((function(t){e.preDestroyInstance(t)})),this.components.clear()},e.prototype.get=function(e,t){void 0===t&&(t={});var n=c.getGlobalType(e),r;if(this.components.has(n))return this.returnValue(this.components.get(n),t.forceNew);if(this.config.notFoundHandler){var o=this.config.notFoundHandler(e);if(void 0!==o)return o}if(t.useClassLoader||this.config.useClassLoader){var i=e,a=this.classLoader.getImplementClasses(i);switch(a.length){case 1:return this.get(a[0].type,t);case 0:break;default:if(this.config.conflictHandler){var l=this.config.conflictHandler(i,a,t.sourceCls?{type:t.sourceCls,info:s.classLoader.getClassInfo(t.sourceCls)}:void 0);if(void 0!==l)return this.get(l,t)}if(c.isClass(e)&&u.getMetadata(i).injectable)return this.register(i),this.get(i,t);throw new h(i,n)}}if(this.config.parentContext)return this.config.parentContext.get(e);if(c.isClass(e)&&(this.config.autoRegisterSelf||u.getMetadata(e).injectable))return this.register(e),this.get(e,t);throw new v(e,n)},e.prototype.getImports=function(e,t){var n=this,r=(void 0===t?{}:t).cache,o=e;if(r&&this.has(o))return this.get(o);var i=this.classLoader.getImplementClasses(o).map((function(e){return n.get(e.type,{useClassLoader:!0})}));return r&&this.register(i,o),i},e.prototype.has=function(e){return this.components.has(c.getGlobalType(e))},e.prototype.replace=function(e,t,n,r){void 0===r&&(r=!1);var o=c.getGlobalType(e),i=this.components.get(o);if(i)this.components.set(o,this.newStore(t,n||i.options));else{if(!r)throw new y(o);this.register(t,e,n)}},e.prototype.register=function(e,n,r){if(void 0===r&&(r=t.DefaultRegisterOption),n){if(!this.canBeKey(n))throw new Error("key require string, symbol or class.")}else if(!this.canBeKey(e))throw new Error("when data is not string, symbol or class, require a key.");var o=n&&c.getGlobalType(n)||e&&c.getGlobalType(e);if(this.components.has(o))throw new b(o);r=i(i({},t.DefaultRegisterOption),r);var a=this.newStore(e,r);this.components.set(o,a)},e.prototype.inject=function(e,t){var n=this;void 0===t&&(t={autoRunPostConstruct:!0});var r=this,o=e.constructor;u.getMetadataField(o,"injects").forEach((function(t){var a=t.key,c=t.typeCls,u=t.optional,s=t.singleton,f=Object.getOwnPropertyDescriptor(e,a),p=f&&f.value,d=u||void 0!==p;if("inject"===t.type&&Object.defineProperty(e,a,{configurable:!0,writable:!0,value:l.guard((function(){return n.get(c,i({sourceCls:o},s?{}:{forceNew:!0}))}),{defaultValue:p,onError:function(e){if(!d)throw e.message+="\n\tSource: "+o.name+"."+a.toString(),e}})}),["lazyInject","imports"].includes(t.type)){var h=t.always;Object.defineProperty(e,a,{configurable:!0,get:function(){var e=!1,n=l.guard((function(){switch(t.type){case"lazyInject":return r.get(c,i({sourceCls:o},s?{}:{forceNew:!0}));case"imports":return r.getImports(c,{cache:!h})}}),{defaultValue:p,onError:function(t){if(e=!0,!d)throw t.message+="\n\tSource: "+o.name+"."+a.toString(),t}});return e||h||Object.defineProperty(this,a,{configurable:!0,writable:!0,value:n}),n},set:function(e){Object.defineProperty(this,a,{configurable:!0,writable:!0,value:e})}})}})),u.getMetadataField(o,"aspects").forEach((function(t){var r=e[t.key],o=f.genAspectWrapper(n,t.point,r);Object.defineProperty(e,t.key,{configurable:!0,value:o})})),t.autoRunPostConstruct&&this.runPostConstruct(e)},e.prototype.runPostConstruct=function(e){var t=e.constructor;Array.from(new Set(u.getMetadataField(t,"postConstruct").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.createChildContext=function(t){return new e(i(i(i({},this.config),t||{}),{parentContext:this}))},e.prototype.preDestroyInstance=function(e){if(e.inited){var t=e.value;Array.from(new Set(u.getMetadataField(t.constructor,"preDestroy").map((function(e){return e.key})))).forEach((function(e){t[e]()}))}},e.prototype.newStore=function(e,t){var n=this,r="function"==typeof e,o=r&&c.isClass(e),i=r&&t.autoNew;return{inited:!i,factory:i?function(){if(o){var t=e,r=[];if(n.config.constructorInject&&Reflect&&Reflect.getMetadata){var i=Reflect.getMetadata("design:paramtypes",t);i&&(r=i.map((function(e){return e===t||null==e||e===Number||e===Error||e===Object||e===String||e===Boolean||e===Array||e===Function?null:n.get(e)})))}var c=new(t.bind.apply(t,a([void 0],r)));return n.inject(c),n.config.createInstanceHook?n.config.createInstanceHook(c,n):c}var u;return e(n)}:void 0,value:i?void 0:e,options:t}},e.prototype.canBeKey=function(e){var t=typeof e;return"object"===t?"[object Object]"!==e.toString():["function","string","symbol"].includes(t)},e.prototype.returnValue=function(e,t){return void 0===t&&(t=!1),e.options.singleton&&!t?(e.inited||(e.inited=!0,e.value=e.factory()),e.value):e.factory()},e.prototype.toJSON=function(){return{type:"power-di.IocContext",message:"NoSerializable"}},e}();t.IocContext=d;var h=function(e){function t(t,n){return e.call(this,"Has multi Classes of implement type: "+t.name+"("+c.symbolString(n)+")")||this}return r(t,e),t}(Error);t.MultiImplementError=h;var v=function(e){function t(t,n){return e.call(this,"Notfound type: "+(t.name||t)+"("+c.symbolString(n)+")")||this}return r(t,e),t}(Error);t.NotfoundTypeError=v;var y=function(e){function t(t){return e.call(this,"the key:["+c.symbolString(t)+"] is no registry.")||this}return r(t,e),t}(Error);t.NoRegistryError=y;var b=function(e){function t(t){return e.call(this,"the key:["+c.symbolString(t)+"] is already registry.")||this}return r(t,e),t}(Error);t.AlreadyRegistryError=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalTypeByDecorator=t.getClsTypeByDecorator=void 0,n(155);var r=n(46);function o(e,t,n){return!e&&Reflect&&Reflect.getMetadata&&(e=Reflect.getMetadata("design:type",t,n)),e}function i(e,t,n){return r.getGlobalType(o(e,t,n))}t.getClsTypeByDecorator=o,t.getGlobalTypeByDecorator=i},function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(e){var r="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(n);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=n:o=i(r.Reflect,o),e(o)}((function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,c={__proto__:[]}instanceof Array,u=!a&&!c,s={create:a?function(){return ie(Object.create(null))}:c?function(){return ie({__proto__:null})}:function(){return ie({})},has:u?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ne():Map,d=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?re():Set,h,v=new(f||"function"!=typeof WeakMap?oe():WeakMap);function y(e,t,n,r){if(I(n)){if(!W(e))throw new TypeError;if(!X(t))throw new TypeError;return E(e,t)}if(!W(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!I(r)&&!V(r))throw new TypeError;return V(r)&&(r=void 0),P(e,t,n=$(n),r)}function b(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!I(r)&&!K(r))throw new TypeError;R(e,t,n,r)}return n}function m(e,t,n,r){if(!B(n))throw new TypeError;return I(r)||(r=$(r)),R(e,t,n,r)}function g(e,t,n){if(!B(t))throw new TypeError;return I(n)||(n=$(n)),T(e,t,n)}function O(e,t,n){if(!B(t))throw new TypeError;return I(n)||(n=$(n)),x(e,t,n)}function j(e,t,n){if(!B(t))throw new TypeError;return I(n)||(n=$(n)),N(e,t,n)}function w(e,t,n){if(!B(t))throw new TypeError;return I(n)||(n=$(n)),A(e,t,n)}function k(e,t){if(!B(e))throw new TypeError;return I(t)||(t=$(t)),M(e,t)}function _(e,t){if(!B(e))throw new TypeError;return I(t)||(t=$(t)),L(e,t)}function S(e,t,n){if(!B(t))throw new TypeError;I(n)||(n=$(n));var r=C(t,n,!1);if(I(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=v.get(t);return o.delete(n),o.size>0||v.delete(t),!0}function E(e,t){for(var n=e.length-1;n>=0;--n){var r,o=(0,e[n])(t);if(!I(o)&&!V(o)){if(!X(o))throw new TypeError;t=o}}return t}function P(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i,a=(0,e[o])(t,n,r);if(!I(a)&&!V(a)){if(!B(a))throw new TypeError;r=a}}return r}function C(e,t,n){var r=v.get(e);if(I(r)){if(!n)return;r=new p,v.set(e,r)}var o=r.get(t);if(I(o)){if(!n)return;o=new p,r.set(t,o)}return o}function T(e,t,n){var r;if(x(e,t,n))return!0;var o=te(t);return!V(o)&&T(e,o,n)}function x(e,t,n){var r=C(t,n,!1);return!I(r)&&z(r.has(e))}function N(e,t,n){var r;if(x(e,t,n))return A(e,t,n);var o=te(t);return V(o)?void 0:N(e,o,n)}function A(e,t,n){var r=C(t,n,!1);if(!I(r))return r.get(e)}function R(e,t,n,r){var o;C(n,r,!0).set(e,t)}function M(e,t){var n=L(e,t),r=te(e);if(null===r)return n;var o=M(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new d,a=[],c=0,u=n;c<u.length;c++){var s=u[c],l;(l=i.has(s))||(i.add(s),a.push(s))}for(var f=0,p=o;f<p.length;f++){var s=p[f],l;(l=i.has(s))||(i.add(s),a.push(s))}return a}function L(e,t){var n=[],r=C(e,t,!1);if(I(r))return n;for(var o,i=Y(r.keys()),a=0;;){var c=Z(i);if(!c)return n.length=a,n;var u=Q(c);try{n[a]=u}catch(e){try{ee(i)}finally{throw e}}a++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function I(e){return void 0===e}function V(e){return null===e}function F(e){return"symbol"==typeof e}function B(e){return"object"==typeof e?null!==e:"function"==typeof e}function U(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=q(e,o);if(void 0!==r){var i=r.call(e,n);if(B(i))throw new TypeError;return i}return G(e,"default"===n?"number":n)}function G(e,t){if("string"===t){var n=e.toString,r,o,r;if(H(n))if(!B(r=n.call(e)))return r;if(H(o=e.valueOf))if(!B(r=o.call(e)))return r}else{var o,r;if(H(o=e.valueOf))if(!B(r=o.call(e)))return r;var i=e.toString,r;if(H(i))if(!B(r=i.call(e)))return r}throw new TypeError}function z(e){return!!e}function J(e){return""+e}function $(e){var t=U(e,3);return F(t)?t:J(t)}function W(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function H(e){return"function"==typeof e}function X(e){return"function"==typeof e}function K(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function q(e,t){var n=e[t];if(null!=n){if(!H(n))throw new TypeError;return n}}function Y(e){var t=q(e,i);if(!H(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function Q(e){return e.value}function Z(e){var t=e.next();return!t.done&&t}function ee(e){var t=e.return;t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function oe(){var e=16,t=s.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){var n;return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+u()}while(s.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:s.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function c(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var e=c(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}function ie(e){return e.__=void 0,delete e.__,e}t("decorate",y),t("metadata",b),t("defineMetadata",m),t("hasMetadata",g),t("hasOwnMetadata",O),t("getMetadata",j),t("getOwnMetadata",w),t("getMetadataKeys",k),t("getOwnMetadataKeys",_),t("deleteMetadata",S)}))}(n||(n={}))}).call(this,n(70),n(69))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefMap=void 0;var r=n(46),o=n(24);function i(e,t){void 0===t&&(t={});var n=t;function i(e){var t=r.symbolString(r.getGlobalType(e));if(!n[t]){var a=n[t]={count:0,deps:[]};o.getMetadataField(e,"injects").forEach((function(e){var t=r.symbolString(e.globalType);i(e.typeCls),n[t].count++,a.deps.push({prop:e.key,type:t})}))}}return i(e),n}t.getRefMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(159),t),o(n(47),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(161),t),o(n(162),t),o(n(163),t),o(n(164),t),o(n(165),t),o(n(105),t),o(n(166),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classInfo=void 0;var r=n(24),o=n(47);function i(e){return void 0===e&&(e={}),function(t){o.classLoader.hasClass(t)&&o.classLoader.unregisterClass(t),Object.assign(r.getMetadata(t).classInfo,{},e),o.classLoader.registerClass(t)}}t.classInfo=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=void 0;var r=n(45),o=n(24);function i(e){var t=void 0===e?{}:e,n=t.type,i=t.lazy,a=void 0===i||i,c=t.always,u=void 0!==c&&c,s=t.optional,l=void 0!==s&&s,f=t.singleton,p=void 0===f||f;return function(e,t){var i=r.getClsTypeByDecorator(n,e,t);if(void 0===i||i===Object)throw new Error("CANNOT inject undefined! source: "+e.constructor.name+"."+t.toString());o.getMetadata(e.constructor).injects.push({key:t,globalType:r.getGlobalTypeByDecorator(n,e,t),type:a?"lazyInject":"inject",always:u,typeCls:i,optional:l,singleton:p})}}t.inject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(47);function o(){return function(e){r.classLoader.hasClass(e)||r.classLoader.registerClass(e)}}t.injectable=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imports=void 0;var r=n(45),o=n(24);function i(e){var t=e.type,n=e.always,i=void 0!==n&&n;return function(e,n){o.getMetadata(e.constructor).injects.push({key:n,globalType:r.getGlobalType(t),type:"imports",always:i,typeCls:t})}}t.imports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(24);function o(){return function(e,t){r.getMetadata(e.constructor).postConstruct.push({key:t})}}t.postConstruct=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preDestroy=void 0;var r=n(24);function o(){return function(e,t){r.getMetadata(e.constructor).preDestroy.push({key:t})}}t.preDestroy=o},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(1),o=n(3),i=n(19),a=n(15),c=n(34);function u(){var e,t,n,o;if(r.globalContext.has(r.Editor))return Boolean(null===(e=r.globalContext.get(r.Editor).get("designer"))||void 0===e||null===(t=e.project)||void 0===t||null===(n=t.simulator)||void 0===n||null===(o=n.liveEditing)||void 0===o?void 0:o.editing)}function s(e,t,n){if(e){if(!t)return e;var r;if(e.isContainer()){var o=e.getChildren()||[];if(o&&!o.isEmpty()&&(r=s(o.get(0))))return r}if(r=s(e.nextSibling))return r}return n?s(n.nextSibling,!1,n.getParent()):null}function l(e,t,n){if(e){var r;if(!t&&e.isContainer()){var o=e.getChildren()||[],i;if(r=l(o&&!o.isEmpty()?o.get(o.size-1):null))return r}if(!t)return e;if(r=l(e.prevSibling))return r}return n||null}r.hotkey.bind(["backspace","del"],(function(e){var t;if(!u()){var n=null===(t=i.a.focusDesigner)||void 0===t?void 0:t.currentDocument;if(!Object(o.x)(e)&&n){e.preventDefault();var r=n.selection,a;r.getTopNodes().forEach((function(e){e.canPerformAction("remove")&&n.removeNode(e)})),r.clear()}}})),r.hotkey.bind("escape",(function(e){var t,n;if(!u()){var r=null===(t=i.a.focusDesigner)||void 0===t||null===(n=t.currentDocument)||void 0===n?void 0:n.selection;!Object(o.x)(e)&&r&&(e.preventDefault(),r.clear())}})),r.hotkey.bind(["command+c","ctrl+c","command+x","ctrl+x"],(function(e,t){var n;if(!u()){var r=null===(n=i.a.focusDesigner)||void 0===n?void 0:n.currentDocument;if(!Object(o.x)(e)&&r){e.preventDefault();var s=r.selection.getTopNodes(!0);if((s=s.filter((function(e){return e.canPerformAction("copy")})))&&!(s.length<1)){var l,f,p={type:"nodeSchema",componentsMap:{},componentsTree:s.map((function(e){return e.export(a.c.Clone)}))},d;c.a.setData(p),t&&t.indexOf("x")>0&&s.forEach((function(e){var t=e.getParent();null==t||t.select(),e.remove()}))}}}})),r.hotkey.bind(["command+v","ctrl+v"],(function(e){if(!u()){var t=i.a.focusDesigner,n=null==t?void 0:t.currentDocument;!Object(o.x)(e)&&t&&n&&c.a.waitPasteData(e,(function(e){var r=e.componentsTree;if(r){var o=t.getSuitableInsertion(r)||{},i=o.target,c=o.index;if(!i)return;var u=r.filter((function(e){return n.checkNestingUp(i,e)}));if(0===u.length)return;var s=Object(a.g)(i,u,c);s&&(n.selection.selectAll(s.map((function(e){return e.id}))),setTimeout((function(){return t.activeTracker.track(s[0])}),10))}}))}})),r.hotkey.bind(["command+z","ctrl+z"],(function(e){var t,n;if(!u()){var r=null===(t=i.a.focusDesigner)||void 0===t?void 0:t.currentHistory;if(!Object(o.x)(e)&&r){e.preventDefault();var a=null===(n=i.a.focusDesigner)||void 0===n?void 0:n.currentSelection,c=Array.from(null==a?void 0:a.selected);r.back(),null==a||a.selectAll(c)}}})),r.hotkey.bind(["command+y","ctrl+y","command+shift+z"],(function(e){var t,n;if(!u()){var r=null===(t=i.a.focusDesigner)||void 0===t?void 0:t.currentHistory;if(!Object(o.x)(e)&&r){e.preventDefault();var a=null===(n=i.a.focusDesigner)||void 0===n?void 0:n.currentSelection,c=Array.from(null==a?void 0:a.selected);r.forward(),null==a||a.selectAll(c)}}})),r.hotkey.bind(["left","right"],(function(e,t){if(!u()){var n=i.a.focusDesigner,r=null==n?void 0:n.currentDocument;if(!Object(o.x)(e)&&r){e.preventDefault();var a=r.selection.getTopNodes(!0);if(a&&!(a.length<1)){var c=a[0],s="left"===t?null==c?void 0:c.prevSibling:null==c?void 0:c.nextSibling;null==s||s.select()}}}})),r.hotkey.bind(["up","down"],(function(e,t){if(!u()){var n=i.a.focusDesigner,r=null==n?void 0:n.currentDocument;if(!Object(o.x)(e)&&r){e.preventDefault();var a=r.selection.getTopNodes(!0);if(a&&!(a.length<1)){var c=a[0];if("down"===t){var f=s(c,!0,c.getParent());null==f||f.select()}else if("up"===t){var p=l(c,!0,c.getParent());null==p||p.select()}}}}})),r.hotkey.bind(["option+left","option+right"],(function(e,t){if(!u()){var n=i.a.focusDesigner,r=null==n?void 0:n.currentDocument;if(!Object(o.x)(e)&&r){e.preventDefault();var a=r.selection.getTopNodes(!0);if(a&&!(a.length<1)){var c=a[0],s=c.getParent();if(s){var l=t&&/(left)$/.test(t),f=l?c.prevSibling:c.nextSibling;f&&(l?s.insertBefore(c,f):s.insertAfter(c,f),null==c||c.select())}}}}})),r.hotkey.bind(["option+up"],(function(e){if(!u()){var t=i.a.focusDesigner,n=null==t?void 0:t.currentDocument;if(!Object(o.x)(e)&&n){e.preventDefault();var r=n.selection.getTopNodes(!0);if(r&&!(r.length<1)){var a=r[0],c=a.getParent();if(c){var s=a.prevSibling;if(s){if(s.isContainer()){var l=s.getSuitablePlace(a,null);l.container.insertAfter(a,l.ref)}else c.insertBefore(a,s);null==a||a.select()}else{var f=c.getSuitablePlace(a,null);f&&(f.container.insertBefore(a,f.ref),null==a||a.select())}}}}}})),r.hotkey.bind(["option+down"],(function(e){if(!u()){var t=i.a.focusDesigner,n=null==t?void 0:t.currentDocument;if(!Object(o.x)(e)&&n){e.preventDefault();var r=n.selection.getTopNodes(!0);if(r&&!(r.length<1)){var a=r[0],c=a.getParent();if(c){var s=a.nextSibling;if(s)s.isContainer()?s.insertBefore(a,void 0):c.insertAfter(a,s),null==a||a.select();else{var l=c.getSuitablePlace(a,null);l&&(l.container.insertAfter(a,l.ref),null==a||a.select())}}}}}}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";const r=n(185),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),c=Symbol("allowStale"),u=Symbol("maxAge"),s=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),p=Symbol("cache"),d=Symbol("updateAgeOnGet"),h=()=>1;class v{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[o]=e.max||1/0,n=e.length||h;if(this[a]="function"!=typeof n?h:n,this[c]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[s]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[d]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,m(this)}get max(){return this[o]}set allowStale(e){this[c]=!!e}get allowStale(){return this[c]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,m(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[a]&&(this[a]=e,this[i]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[i]+=e.length})),m(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let n=this[f].tail;null!==n;){const r=n.prev;j(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[f].head;null!==n;){const r=n.next;j(this,e,n,t),n=r}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[s]&&this[f]&&this[f].length&&this[f].forEach(e=>this[s](e.key,e.value)),this[p]=new Map,this[f]=new r,this[i]=0}dump(){return this[f].map(e=>!b(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,n){if((n=n||this[u])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,c=this[a](t,e);if(this[p].has(e)){if(c>this[o])return g(this,this[p].get(e)),!1;const a=undefined,u=this[p].get(e).value;return this[s]&&(this[l]||this[s](e,u.value)),u.now=r,u.maxAge=n,u.value=t,this[i]+=c-u.length,u.length=c,this.get(e),m(this),!0}const d=new O(e,t,c,r,n);return d.length>this[o]?(this[s]&&this[s](e,t),!1):(this[i]+=d.length,this[f].unshift(d),this[p].set(e,this[f].head),m(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!b(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(g(this,e),e.value):null}del(e){g(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach((e,t)=>y(this,t,!1))}}const y=(e,t,n)=>{const r=e[p].get(t);if(r){const t=r.value;if(b(e,t)){if(g(e,r),!e[c])return}else n&&(e[d]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return t.value}},b=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[u]&&n>e[u]},m=e=>{if(e[i]>e[o])for(let t=e[f].tail;e[i]>e[o]&&null!==t;){const n=t.prev;g(e,t),t=n}},g=(e,t)=>{if(t){const n=t.value;e[s]&&e[s](n.key,n.value),e[i]-=n.length,e[p].delete(n.key),e[f].removeNode(t)}};class O{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const j=(e,t,n,r)=>{let o=n.value;b(e,o)&&(g(e,n),e[c]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=v},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new c(n,null,t,e):new c(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new c(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new c(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function c(e,t,n,r){if(!(this instanceof c))return new c(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=c,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=o(this,i,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(186)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}s("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){const t=this.options.loose?a[c.COMPARATORLOOSE]:a[c.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new f(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new f(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),c=u(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),s=u(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||i&&a||c||s}}e.exports=o;const i=n(71),{re:a,t:c}=n(72),u=n(188),s=n(49),l=n(73),f=n(110)},function(e,t,n){const r=n(189),o=n(191),i=n(192),a=n(193),c=n(194),u=n(195),s=(e,t,n,s)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,s);case"!=":return o(e,n,s);case">":return i(e,n,s);case">=":return a(e,n,s);case"<":return c(e,n,s);case"<=":return u(e,n,s);default:throw new TypeError("Invalid operator: "+t)}};e.exports=s},function(e,t,n){const r=n(37),o=(e,t,n)=>0===r(e,t,n);e.exports=o},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),o=n.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1},o=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:o}},function(e,t,n){const r=n(37),o=(e,t,n)=>0!==r(e,t,n);e.exports=o},function(e,t,n){const r=n(37),o=(e,t,n)=>r(e,t,n)>0;e.exports=o},function(e,t,n){const r=n(37),o=(e,t,n)=>r(e,t,n)>=0;e.exports=o},function(e,t,n){const r=n(37),o=(e,t,n)=>r(e,t,n)<0;e.exports=o},function(e,t,n){const r=n(37),o=(e,t,n)=>r(e,t,n)<=0;e.exports=o},function(e,t,n){},function(e,t,n){"use strict";var r=n(5),o=n(4);function i(e,t){var n=e.getProp(t,!1);if(!n||n.isUnset())return null;var r=n.getValue();return Object(o.isJSExpression)(r)&&(r=r.mock),null==r?null:"literal"===n.type?r:Symbol.for("not-literal")}function a(e){var t=e.node,n,r=e.event.target;if(!Array.from(r.childNodes).every((function(e){return e.nodeType===Node.TEXT_NODE})))return null;var o=r.innerText,a=["title","label","text","content","children"].find((function(e){return c(i(t,e),o)}));return a?{propElement:r,propTarget:a}:null}function c(e,t){return"string"==typeof e&&e.trim()===t}var u={condition:function e(t){return"expression"===t.type},onSaveContent:function e(t,n){var r=n.getValue(),i=r;Object(o.isJSExpression)(r)&&(i=r.mock),i=t,Object(o.isJSExpression)(r)?n.setValue({type:"JSExpression",value:r.value,mock:i}):n.setValue(i)}};r.LiveEditing.addLiveEditingSpecificRule(a),r.LiveEditing.addLiveEditingSaveHandler(u)},function(e,t){e.exports=window.AliLowCodeEngineExt}])}));
//# sourceMappingURL=engine-core.js.map